<!DOCTYPE html>
<!-- saved from url=(0040)https://spring.io/guides/tutorials/rest/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" async="async" src="./Tutorial _ Building REST services with Spring_files/s84692031152903"></script><script type="text/javascript" async="" src="./Tutorial _ Building REST services with Spring_files/munchkin.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_244" src="./Tutorial _ Building REST services with Spring_files/js"></script><script type="text/javascript" async="" src="./Tutorial _ Building REST services with Spring_files/js(1)"></script><script type="text/javascript" async="" charset="utf-8" id="utag_132" src="./Tutorial _ Building REST services with Spring_files/up_loader.1.1.0.js"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/analytics.min.js" id="utag_129"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/munchkin(1).js" id="utag_123"></script><script type="text/javascript" async="" src="./Tutorial _ Building REST services with Spring_files/js(2)"></script><script type="text/javascript" async="" charset="utf-8" id="utag_69" src="./Tutorial _ Building REST services with Spring_files/bat.js"></script><script type="text/javascript" async="" data-id="bec" org-id="f00000000000246" domain=".air-watch.com" session-timeout="43200000" src="./Tutorial _ Building REST services with Spring_files/conv_v3.js"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/roundtrip.js" id="utag_26"></script><script type="text/javascript" src="./Tutorial _ Building REST services with Spring_files/insight.min.js"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/fbevents.js" id="utag_21"></script><script type="text/javascript" async="" src="./Tutorial _ Building REST services with Spring_files/js(3)"></script>

<meta content="c88806c0-12ae-417c-9ecb-e4b06b8037d8" name="onetrust-data-domain">
<meta content="https://tags.tiqcdn.com/utag/vmware/microsites-privacy/prod/utag.js" name="microsites-utag">
<style type="text/css">body, .banner-promo-area, .column-cards .componentBody .horizontalcard, .column-cards .componentBody .standardcard, .footer-content-area {opacity:1!important}#onetrust-banner-sdk #onetrust-close-btn-container .banner-close-button.ot-close-icon {background-image: url('https://www.vmware.com/content/dam/digitalmarketing/onetrust/assets/icons/Close-256.png') !important;}</style><script type="text/javascript" async="" src="./Tutorial _ Building REST services with Spring_files/analytics.js"></script><script async="" src="./Tutorial _ Building REST services with Spring_files/gtm.js"></script><script src="./Tutorial _ Building REST services with Spring_files/utag.js" type="text/javascript" async=""></script><script src="./Tutorial _ Building REST services with Spring_files/jquery-3.6.0.js"></script>
<script src="./Tutorial _ Building REST services with Spring_files/utag_data.js"></script>
<script src="./Tutorial _ Building REST services with Spring_files/utag.sync.js"></script><script src="./Tutorial _ Building REST services with Spring_files/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="c88806c0-12ae-417c-9ecb-e4b06b8037d8"></script>
<script>function OptanonWrapper() { { window.dataLayer.push({ event: 'OneTrustGroupsUpdated' }); } }</script>
<script>
        function setGTM(w,d,s,l,i){ w[l]=w[l]||[]; w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'}); var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:''; j.async=true; j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); }
        if (document.cookie.indexOf('OptanonConsent') > -1 && document.cookie.indexOf('groups=') > -1) { setGTM(window,document,'script','dataLayer','GTM-W8CQ8TL'); } else{ waitForOnetrustActiveGroups(); } var timer; function waitForOnetrustActiveGroups() { if (document.cookie.indexOf('OptanonConsent') > -1 && document.cookie.indexOf('groups=') > -1) { clearTimeout(timer); setGTM(window,document,'script','dataLayer','GTM-W8CQ8TL'); } else{ timer=setTimeout(waitForOnetrustActiveGroups, 250); } }
    </script>

<meta content="width=device-width,initial-scale=1,shrink-to-fit=no" id="Viewport" name="viewport">
<link rel="stylesheet" type="text/css" media="all" href="./Tutorial _ Building REST services with Spring_files/main-49c972b1a9cceb5760fb648196cc00bd.css">
<link href="https://spring.io/images/favicon-9d25009f65637a49ac8d91eb1cf7b75e.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
<meta name="description" content="Level up your Java code and explore what Spring can do for you.">
<link rel="manifest" href="https://spring.io/manifest-0e3065c2bbd1ef7a320e80861393f1a6.json">
<meta name="theme-color" content="#6db33f">
<meta name="apple-mobile-web-app-title" content="spring">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<title>Tutorial | Building REST services with Spring</title>
<link rel="stylesheet" type="text/css" href="./Tutorial _ Building REST services with Spring_files/guide-f8efb1c8a31441954f373af0c54c58e9.css">

<meta property="og:title" content="Building REST services with Spring">
<meta property="og:description" content="this tutorial is designed to be completed in 2-3 hours, it provides deeper, in-context explorations of enterprise application development topics, leaving you ready to implement real-world solutions.">
<script src="./Tutorial _ Building REST services with Spring_files/run_prettify-b8b4abd61389be25d5219fffabfab796.js"></script><link rel="stylesheet" type="text/css" href="./Tutorial _ Building REST services with Spring_files/prettify.css">
<script src="./Tutorial _ Building REST services with Spring_files/otBannerSdk.js" async="" type="text/javascript"></script><style id="onetrust-style">#onetrust-banner-sdk{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}#onetrust-banner-sdk .onetrust-vendors-list-handler{cursor:pointer;color:#1f96db;font-size:inherit;font-weight:bold;text-decoration:none;margin-left:5px}#onetrust-banner-sdk .onetrust-vendors-list-handler:hover{color:#1f96db}#onetrust-banner-sdk:focus{outline:2px solid #000;outline-offset:-2px}#onetrust-banner-sdk a:focus{outline:2px solid #000}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{outline-offset:1px}#onetrust-banner-sdk .ot-close-icon,#onetrust-pc-sdk .ot-close-icon,#ot-sync-ntfy .ot-close-icon{background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMzQ4LjMzM3B4IiBoZWlnaHQ9IjM0OC4zMzNweCIgdmlld0JveD0iMCAwIDM0OC4zMzMgMzQ4LjMzNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzQ4LjMzMyAzNDguMzM0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZmlsbD0iIzU2NTY1NiIgZD0iTTMzNi41NTksNjguNjExTDIzMS4wMTYsMTc0LjE2NWwxMDUuNTQzLDEwNS41NDljMTUuNjk5LDE1LjcwNSwxNS42OTksNDEuMTQ1LDAsNTYuODVjLTcuODQ0LDcuODQ0LTE4LjEyOCwxMS43NjktMjguNDA3LDExLjc2OWMtMTAuMjk2LDAtMjAuNTgxLTMuOTE5LTI4LjQxOS0xMS43NjlMMTc0LjE2NywyMzEuMDAzTDY4LjYwOSwzMzYuNTYzYy03Ljg0Myw3Ljg0NC0xOC4xMjgsMTEuNzY5LTI4LjQxNiwxMS43NjljLTEwLjI4NSwwLTIwLjU2My0zLjkxOS0yOC40MTMtMTEuNzY5Yy0xNS42OTktMTUuNjk4LTE1LjY5OS00MS4xMzksMC01Ni44NWwxMDUuNTQtMTA1LjU0OUwxMS43NzQsNjguNjExYy0xNS42OTktMTUuNjk5LTE1LjY5OS00MS4xNDUsMC01Ni44NDRjMTUuNjk2LTE1LjY4Nyw0MS4xMjctMTUuNjg3LDU2LjgyOSwwbDEwNS41NjMsMTA1LjU1NEwyNzkuNzIxLDExLjc2N2MxNS43MDUtMTUuNjg3LDQxLjEzOS0xNS42ODcsNTYuODMyLDBDMzUyLjI1OCwyNy40NjYsMzUyLjI1OCw1Mi45MTIsMzM2LjU1OSw2OC42MTF6Ii8+PC9nPjwvc3ZnPg==");background-size:contain;background-repeat:no-repeat;background-position:center;height:12px;width:12px}#onetrust-banner-sdk .powered-by-logo,#onetrust-banner-sdk .ot-pc-footer-logo a,#onetrust-pc-sdk .powered-by-logo,#onetrust-pc-sdk .ot-pc-footer-logo a,#ot-sync-ntfy .powered-by-logo,#ot-sync-ntfy .ot-pc-footer-logo a{background-size:contain;background-repeat:no-repeat;background-position:center;height:25px;width:152px;display:block}#onetrust-banner-sdk h3 *,#onetrust-banner-sdk h4 *,#onetrust-banner-sdk h6 *,#onetrust-banner-sdk button *,#onetrust-banner-sdk a[data-parent-id] *,#onetrust-pc-sdk h3 *,#onetrust-pc-sdk h4 *,#onetrust-pc-sdk h6 *,#onetrust-pc-sdk button *,#onetrust-pc-sdk a[data-parent-id] *,#ot-sync-ntfy h3 *,#ot-sync-ntfy h4 *,#ot-sync-ntfy h6 *,#ot-sync-ntfy button *,#ot-sync-ntfy a[data-parent-id] *{font-size:inherit;font-weight:inherit;color:inherit}#onetrust-banner-sdk .ot-hide,#onetrust-pc-sdk .ot-hide,#ot-sync-ntfy .ot-hide{display:none !important}#onetrust-pc-sdk .ot-sdk-row .ot-sdk-column{padding:0}#onetrust-pc-sdk .ot-sdk-container{padding-right:0}#onetrust-pc-sdk .ot-sdk-row{flex-direction:initial;width:100%}#onetrust-pc-sdk [type="checkbox"]:checked,#onetrust-pc-sdk [type="checkbox"]:not(:checked){pointer-events:initial}#onetrust-pc-sdk [type="checkbox"]:disabled+label::before,#onetrust-pc-sdk [type="checkbox"]:disabled+label:after,#onetrust-pc-sdk [type="checkbox"]:disabled+label{pointer-events:none;opacity:0.7}#onetrust-pc-sdk #vendor-list-content{transform:translate3d(0, 0, 0)}#onetrust-pc-sdk li input[type="checkbox"]{z-index:1}#onetrust-pc-sdk li .ot-checkbox label{z-index:2}#onetrust-pc-sdk li .ot-checkbox input[type="checkbox"]{height:auto;width:auto}#onetrust-pc-sdk li .host-title a,#onetrust-pc-sdk li .ot-host-name a,#onetrust-pc-sdk li .accordion-text,#onetrust-pc-sdk li .ot-acc-txt{z-index:2;position:relative}#onetrust-pc-sdk input{margin:3px 0.1ex}#onetrust-pc-sdk .pc-logo,#onetrust-pc-sdk .ot-pc-logo{height:60px;width:180px;background-position:center;background-size:contain;background-repeat:no-repeat}#onetrust-pc-sdk .screen-reader-only,#onetrust-pc-sdk .ot-scrn-rdr,.ot-sdk-cookie-policy .screen-reader-only,.ot-sdk-cookie-policy .ot-scrn-rdr{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}#onetrust-pc-sdk.ot-fade-in,.onetrust-pc-dark-filter.ot-fade-in,#onetrust-banner-sdk.ot-fade-in{animation-name:onetrust-fade-in;animation-duration:400ms;animation-timing-function:ease-in-out}#onetrust-pc-sdk.ot-hide{display:none !important}.onetrust-pc-dark-filter.ot-hide{display:none !important}#ot-sdk-btn.ot-sdk-show-settings,#ot-sdk-btn.optanon-show-settings{color:#68b631;border:1px solid #68b631;height:auto;white-space:normal;word-wrap:break-word;padding:0.8em 2em;font-size:0.8em;line-height:1.2;cursor:pointer;-moz-transition:0.1s ease;-o-transition:0.1s ease;-webkit-transition:1s ease;transition:0.1s ease}#ot-sdk-btn.ot-sdk-show-settings:hover,#ot-sdk-btn.optanon-show-settings:hover{color:#fff;background-color:#68b631}.onetrust-pc-dark-filter{background:rgba(0,0,0,0.5);z-index:2147483646;width:100%;height:100%;overflow:hidden;position:fixed;top:0;bottom:0;left:0}@keyframes onetrust-fade-in{0%{opacity:0}100%{opacity:1}}.ot-cookie-label{text-decoration:underline}@media only screen and (min-width: 426px) and (max-width: 896px) and (orientation: landscape){#onetrust-pc-sdk p{font-size:0.75em}}#onetrust-banner-sdk .banner-option-input:focus+label{outline:1px solid #000;outline-style:auto}.category-vendors-list-handler+a:focus,.category-vendors-list-handler+a:focus-visible{outline:2px solid #000}#onetrust-pc-sdk .ot-userid-title{margin-top:10px}#onetrust-pc-sdk .ot-userid-title>span,#onetrust-pc-sdk .ot-userid-timestamp>span{font-weight:700}#onetrust-pc-sdk .ot-userid-desc{font-style:italic}#onetrust-pc-sdk .ot-host-desc a{pointer-events:initial}#onetrust-pc-sdk .ot-ven-hdr>p a{position:relative;z-index:2;pointer-events:initial}
#onetrust-banner-sdk,#onetrust-pc-sdk,#ot-sdk-cookie-policy,#ot-sync-ntfy{font-size:16px}#onetrust-banner-sdk *,#onetrust-banner-sdk ::after,#onetrust-banner-sdk ::before,#onetrust-pc-sdk *,#onetrust-pc-sdk ::after,#onetrust-pc-sdk ::before,#ot-sdk-cookie-policy *,#ot-sdk-cookie-policy ::after,#ot-sdk-cookie-policy ::before,#ot-sync-ntfy *,#ot-sync-ntfy ::after,#ot-sync-ntfy ::before{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}#onetrust-banner-sdk div,#onetrust-banner-sdk span,#onetrust-banner-sdk h1,#onetrust-banner-sdk h2,#onetrust-banner-sdk h3,#onetrust-banner-sdk h4,#onetrust-banner-sdk h5,#onetrust-banner-sdk h6,#onetrust-banner-sdk p,#onetrust-banner-sdk img,#onetrust-banner-sdk svg,#onetrust-banner-sdk button,#onetrust-banner-sdk section,#onetrust-banner-sdk a,#onetrust-banner-sdk label,#onetrust-banner-sdk input,#onetrust-banner-sdk ul,#onetrust-banner-sdk li,#onetrust-banner-sdk nav,#onetrust-banner-sdk table,#onetrust-banner-sdk thead,#onetrust-banner-sdk tr,#onetrust-banner-sdk td,#onetrust-banner-sdk tbody,#onetrust-banner-sdk .ot-main-content,#onetrust-banner-sdk .ot-toggle,#onetrust-banner-sdk #ot-content,#onetrust-banner-sdk #ot-pc-content,#onetrust-banner-sdk .checkbox,#onetrust-pc-sdk div,#onetrust-pc-sdk span,#onetrust-pc-sdk h1,#onetrust-pc-sdk h2,#onetrust-pc-sdk h3,#onetrust-pc-sdk h4,#onetrust-pc-sdk h5,#onetrust-pc-sdk h6,#onetrust-pc-sdk p,#onetrust-pc-sdk img,#onetrust-pc-sdk svg,#onetrust-pc-sdk button,#onetrust-pc-sdk section,#onetrust-pc-sdk a,#onetrust-pc-sdk label,#onetrust-pc-sdk input,#onetrust-pc-sdk ul,#onetrust-pc-sdk li,#onetrust-pc-sdk nav,#onetrust-pc-sdk table,#onetrust-pc-sdk thead,#onetrust-pc-sdk tr,#onetrust-pc-sdk td,#onetrust-pc-sdk tbody,#onetrust-pc-sdk .ot-main-content,#onetrust-pc-sdk .ot-toggle,#onetrust-pc-sdk #ot-content,#onetrust-pc-sdk #ot-pc-content,#onetrust-pc-sdk .checkbox,#ot-sdk-cookie-policy div,#ot-sdk-cookie-policy span,#ot-sdk-cookie-policy h1,#ot-sdk-cookie-policy h2,#ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy h5,#ot-sdk-cookie-policy h6,#ot-sdk-cookie-policy p,#ot-sdk-cookie-policy img,#ot-sdk-cookie-policy svg,#ot-sdk-cookie-policy button,#ot-sdk-cookie-policy section,#ot-sdk-cookie-policy a,#ot-sdk-cookie-policy label,#ot-sdk-cookie-policy input,#ot-sdk-cookie-policy ul,#ot-sdk-cookie-policy li,#ot-sdk-cookie-policy nav,#ot-sdk-cookie-policy table,#ot-sdk-cookie-policy thead,#ot-sdk-cookie-policy tr,#ot-sdk-cookie-policy td,#ot-sdk-cookie-policy tbody,#ot-sdk-cookie-policy .ot-main-content,#ot-sdk-cookie-policy .ot-toggle,#ot-sdk-cookie-policy #ot-content,#ot-sdk-cookie-policy #ot-pc-content,#ot-sdk-cookie-policy .checkbox,#ot-sync-ntfy div,#ot-sync-ntfy span,#ot-sync-ntfy h1,#ot-sync-ntfy h2,#ot-sync-ntfy h3,#ot-sync-ntfy h4,#ot-sync-ntfy h5,#ot-sync-ntfy h6,#ot-sync-ntfy p,#ot-sync-ntfy img,#ot-sync-ntfy svg,#ot-sync-ntfy button,#ot-sync-ntfy section,#ot-sync-ntfy a,#ot-sync-ntfy label,#ot-sync-ntfy input,#ot-sync-ntfy ul,#ot-sync-ntfy li,#ot-sync-ntfy nav,#ot-sync-ntfy table,#ot-sync-ntfy thead,#ot-sync-ntfy tr,#ot-sync-ntfy td,#ot-sync-ntfy tbody,#ot-sync-ntfy .ot-main-content,#ot-sync-ntfy .ot-toggle,#ot-sync-ntfy #ot-content,#ot-sync-ntfy #ot-pc-content,#ot-sync-ntfy .checkbox{font-family:inherit;font-weight:normal;-webkit-font-smoothing:auto;letter-spacing:normal;line-height:normal;padding:0;margin:0;height:auto;min-height:0;max-height:none;width:auto;min-width:0;max-width:none;border-radius:0;border:none;clear:none;float:none;position:static;bottom:auto;left:auto;right:auto;top:auto;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;white-space:normal;background:none;overflow:visible;vertical-align:baseline;visibility:visible;z-index:auto;box-shadow:none}#onetrust-banner-sdk label:before,#onetrust-banner-sdk label:after,#onetrust-banner-sdk .checkbox:after,#onetrust-banner-sdk .checkbox:before,#onetrust-pc-sdk label:before,#onetrust-pc-sdk label:after,#onetrust-pc-sdk .checkbox:after,#onetrust-pc-sdk .checkbox:before,#ot-sdk-cookie-policy label:before,#ot-sdk-cookie-policy label:after,#ot-sdk-cookie-policy .checkbox:after,#ot-sdk-cookie-policy .checkbox:before,#ot-sync-ntfy label:before,#ot-sync-ntfy label:after,#ot-sync-ntfy .checkbox:after,#ot-sync-ntfy .checkbox:before{content:"";content:none}
#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{position:relative;width:100%;max-width:100%;margin:0 auto;padding:0 20px;box-sizing:border-box}#onetrust-banner-sdk .ot-sdk-column,#onetrust-banner-sdk .ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-column,#onetrust-pc-sdk .ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-column,#ot-sdk-cookie-policy .ot-sdk-columns{width:100%;float:left;box-sizing:border-box;padding:0;display:initial}@media (min-width: 400px){#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{width:90%;padding:0}}@media (min-width: 550px){#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{width:100%}#onetrust-banner-sdk .ot-sdk-column,#onetrust-banner-sdk .ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-column,#onetrust-pc-sdk .ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-column,#ot-sdk-cookie-policy .ot-sdk-columns{margin-left:4%}#onetrust-banner-sdk .ot-sdk-column:first-child,#onetrust-banner-sdk .ot-sdk-columns:first-child,#onetrust-pc-sdk .ot-sdk-column:first-child,#onetrust-pc-sdk .ot-sdk-columns:first-child,#ot-sdk-cookie-policy .ot-sdk-column:first-child,#ot-sdk-cookie-policy .ot-sdk-columns:first-child{margin-left:0}#onetrust-banner-sdk .ot-sdk-two.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-two.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-two.ot-sdk-columns{width:13.3333333333%}#onetrust-banner-sdk .ot-sdk-three.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-three.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-three.ot-sdk-columns{width:22%}#onetrust-banner-sdk .ot-sdk-four.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-four.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-four.ot-sdk-columns{width:30.6666666667%}#onetrust-banner-sdk .ot-sdk-eight.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-eight.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-eight.ot-sdk-columns{width:65.3333333333%}#onetrust-banner-sdk .ot-sdk-nine.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-nine.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-nine.ot-sdk-columns{width:74%}#onetrust-banner-sdk .ot-sdk-ten.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-ten.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-ten.ot-sdk-columns{width:82.6666666667%}#onetrust-banner-sdk .ot-sdk-eleven.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-eleven.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-eleven.ot-sdk-columns{width:91.3333333333%}#onetrust-banner-sdk .ot-sdk-twelve.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-twelve.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-twelve.ot-sdk-columns{width:100%;margin-left:0}}#onetrust-banner-sdk h1,#onetrust-banner-sdk h2,#onetrust-banner-sdk h3,#onetrust-banner-sdk h4,#onetrust-banner-sdk h5,#onetrust-banner-sdk h6,#onetrust-pc-sdk h1,#onetrust-pc-sdk h2,#onetrust-pc-sdk h3,#onetrust-pc-sdk h4,#onetrust-pc-sdk h5,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h1,#ot-sdk-cookie-policy h2,#ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy h5,#ot-sdk-cookie-policy h6{margin-top:0;font-weight:600;font-family:inherit}#onetrust-banner-sdk h1,#onetrust-pc-sdk h1,#ot-sdk-cookie-policy h1{font-size:1.5rem;line-height:1.2}#onetrust-banner-sdk h2,#onetrust-pc-sdk h2,#ot-sdk-cookie-policy h2{font-size:1.5rem;line-height:1.25}#onetrust-banner-sdk h3,#onetrust-pc-sdk h3,#ot-sdk-cookie-policy h3{font-size:1.5rem;line-height:1.3}#onetrust-banner-sdk h4,#onetrust-pc-sdk h4,#ot-sdk-cookie-policy h4{font-size:1.5rem;line-height:1.35}#onetrust-banner-sdk h5,#onetrust-pc-sdk h5,#ot-sdk-cookie-policy h5{font-size:1.5rem;line-height:1.5}#onetrust-banner-sdk h6,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h6{font-size:1.5rem;line-height:1.6}@media (min-width: 550px){#onetrust-banner-sdk h1,#onetrust-pc-sdk h1,#ot-sdk-cookie-policy h1{font-size:1.5rem}#onetrust-banner-sdk h2,#onetrust-pc-sdk h2,#ot-sdk-cookie-policy h2{font-size:1.5rem}#onetrust-banner-sdk h3,#onetrust-pc-sdk h3,#ot-sdk-cookie-policy h3{font-size:1.5rem}#onetrust-banner-sdk h4,#onetrust-pc-sdk h4,#ot-sdk-cookie-policy h4{font-size:1.5rem}#onetrust-banner-sdk h5,#onetrust-pc-sdk h5,#ot-sdk-cookie-policy h5{font-size:1.5rem}#onetrust-banner-sdk h6,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h6{font-size:1.5rem}}#onetrust-banner-sdk p,#onetrust-pc-sdk p,#ot-sdk-cookie-policy p{margin:0 0 1em 0;font-family:inherit;line-height:normal}#onetrust-banner-sdk a,#onetrust-pc-sdk a,#ot-sdk-cookie-policy a{color:#565656;text-decoration:underline}#onetrust-banner-sdk a:hover,#onetrust-pc-sdk a:hover,#ot-sdk-cookie-policy a:hover{color:#565656;text-decoration:none}#onetrust-banner-sdk .ot-sdk-button,#onetrust-banner-sdk button,#onetrust-pc-sdk .ot-sdk-button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy .ot-sdk-button,#ot-sdk-cookie-policy button{margin-bottom:1rem;font-family:inherit}#onetrust-banner-sdk .ot-sdk-button,#onetrust-banner-sdk button,#onetrust-pc-sdk .ot-sdk-button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy .ot-sdk-button,#ot-sdk-cookie-policy button{display:inline-block;height:38px;padding:0 30px;color:#555;text-align:center;font-size:0.9em;font-weight:400;line-height:38px;letter-spacing:0.01em;text-decoration:none;white-space:nowrap;background-color:transparent;border-radius:2px;border:1px solid #bbb;cursor:pointer;box-sizing:border-box}#onetrust-banner-sdk .ot-sdk-button:hover,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:hover,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:focus,#onetrust-pc-sdk .ot-sdk-button:hover,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:hover,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:focus,#ot-sdk-cookie-policy .ot-sdk-button:hover,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:hover,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:focus{color:#333;border-color:#888;opacity:0.7}#onetrust-banner-sdk .ot-sdk-button:focus,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:focus,#onetrust-pc-sdk .ot-sdk-button:focus,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:focus,#ot-sdk-cookie-policy .ot-sdk-button:focus,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:focus{outline:2px solid #000}#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary,#onetrust-banner-sdk button.ot-sdk-button-primary,#onetrust-banner-sdk input[type="submit"].ot-sdk-button-primary,#onetrust-banner-sdk input[type="reset"].ot-sdk-button-primary,#onetrust-banner-sdk input[type="button"].ot-sdk-button-primary,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary,#onetrust-pc-sdk button.ot-sdk-button-primary,#onetrust-pc-sdk input[type="submit"].ot-sdk-button-primary,#onetrust-pc-sdk input[type="reset"].ot-sdk-button-primary,#onetrust-pc-sdk input[type="button"].ot-sdk-button-primary,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary,#ot-sdk-cookie-policy button.ot-sdk-button-primary,#ot-sdk-cookie-policy input[type="submit"].ot-sdk-button-primary,#ot-sdk-cookie-policy input[type="reset"].ot-sdk-button-primary,#ot-sdk-cookie-policy input[type="button"].ot-sdk-button-primary{color:#fff;background-color:#33c3f0;border-color:#33c3f0}#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary:hover,#onetrust-banner-sdk button.ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type="submit"].ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type="reset"].ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type="button"].ot-sdk-button-primary:hover,#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary:focus,#onetrust-banner-sdk button.ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type="submit"].ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type="reset"].ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type="button"].ot-sdk-button-primary:focus,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary:hover,#onetrust-pc-sdk button.ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type="submit"].ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type="reset"].ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type="button"].ot-sdk-button-primary:hover,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary:focus,#onetrust-pc-sdk button.ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type="submit"].ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type="reset"].ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type="button"].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary:hover,#ot-sdk-cookie-policy button.ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type="submit"].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type="reset"].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type="button"].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary:focus,#ot-sdk-cookie-policy button.ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type="submit"].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type="reset"].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type="button"].ot-sdk-button-primary:focus{color:#fff;background-color:#1eaedb;border-color:#1eaedb}#onetrust-banner-sdk input[type="text"],#onetrust-pc-sdk input[type="text"],#ot-sdk-cookie-policy input[type="text"]{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}#onetrust-banner-sdk input[type="text"],#onetrust-pc-sdk input[type="text"],#ot-sdk-cookie-policy input[type="text"]{-webkit-appearance:none;-moz-appearance:none;appearance:none}#onetrust-banner-sdk input[type="text"]:focus,#onetrust-pc-sdk input[type="text"]:focus,#ot-sdk-cookie-policy input[type="text"]:focus{border:1px solid #000;outline:0}#onetrust-banner-sdk label,#onetrust-pc-sdk label,#ot-sdk-cookie-policy label{display:block;margin-bottom:0.5rem;font-weight:600}#onetrust-banner-sdk input[type="checkbox"],#onetrust-pc-sdk input[type="checkbox"],#ot-sdk-cookie-policy input[type="checkbox"]{display:inline}#onetrust-banner-sdk ul,#onetrust-pc-sdk ul,#ot-sdk-cookie-policy ul{list-style:circle inside}#onetrust-banner-sdk ul,#onetrust-pc-sdk ul,#ot-sdk-cookie-policy ul{padding-left:0;margin-top:0}#onetrust-banner-sdk ul ul,#onetrust-pc-sdk ul ul,#ot-sdk-cookie-policy ul ul{margin:1.5rem 0 1.5rem 3rem;font-size:90%}#onetrust-banner-sdk li,#onetrust-pc-sdk li,#ot-sdk-cookie-policy li{margin-bottom:1rem}#onetrust-banner-sdk th,#onetrust-banner-sdk td,#onetrust-pc-sdk th,#onetrust-pc-sdk td,#ot-sdk-cookie-policy th,#ot-sdk-cookie-policy td{padding:12px 15px;text-align:left;border-bottom:1px solid #e1e1e1}#onetrust-banner-sdk button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy button{margin-bottom:1rem;font-family:inherit}#onetrust-banner-sdk .ot-sdk-container:after,#onetrust-banner-sdk .ot-sdk-row:after,#onetrust-pc-sdk .ot-sdk-container:after,#onetrust-pc-sdk .ot-sdk-row:after,#ot-sdk-cookie-policy .ot-sdk-container:after,#ot-sdk-cookie-policy .ot-sdk-row:after{content:"";display:table;clear:both}#onetrust-banner-sdk .ot-sdk-row,#onetrust-pc-sdk .ot-sdk-row,#ot-sdk-cookie-policy .ot-sdk-row{margin:0;max-width:none;display:block}
#onetrust-banner-sdk{box-shadow:0 0 18px rgba(0,0,0,.2)}#onetrust-banner-sdk.otFlat{position:fixed;z-index:2147483645;bottom:0;right:0;left:0;background-color:#fff;max-height:90%;overflow-x:hidden;overflow-y:auto}#onetrust-banner-sdk.otFlat.top{top:0px;bottom:auto}#onetrust-banner-sdk.otRelFont{font-size:1rem}#onetrust-banner-sdk>.ot-sdk-container{overflow:hidden}#onetrust-banner-sdk::-webkit-scrollbar{width:11px}#onetrust-banner-sdk::-webkit-scrollbar-thumb{border-radius:10px;background:#c1c1c1}#onetrust-banner-sdk{scrollbar-arrow-color:#c1c1c1;scrollbar-darkshadow-color:#c1c1c1;scrollbar-face-color:#c1c1c1;scrollbar-shadow-color:#c1c1c1}#onetrust-banner-sdk #onetrust-policy{margin:1.25em 0 .625em 2em;overflow:hidden}#onetrust-banner-sdk #onetrust-policy .ot-gv-list-handler{float:left;font-size:.82em;padding:0;margin-bottom:0;border:0;line-height:normal;height:auto;width:auto}#onetrust-banner-sdk #onetrust-policy-title{font-size:1.2em;line-height:1.3;margin-bottom:10px}#onetrust-banner-sdk #onetrust-policy-text{clear:both;text-align:left;font-size:.88em;line-height:1.4}#onetrust-banner-sdk #onetrust-policy-text *{font-size:inherit;line-height:inherit}#onetrust-banner-sdk #onetrust-policy-text a{font-weight:bold;margin-left:5px}#onetrust-banner-sdk #onetrust-policy-title,#onetrust-banner-sdk #onetrust-policy-text{color:dimgray;float:left}#onetrust-banner-sdk #onetrust-button-group-parent{min-height:1px;text-align:center}#onetrust-banner-sdk #onetrust-button-group{display:inline-block}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{background-color:#68b631;color:#fff;border-color:#68b631;margin-right:1em;min-width:125px;height:auto;white-space:normal;word-break:break-word;word-wrap:break-word;padding:12px 10px;line-height:1.2;font-size:.813em;font-weight:600}#onetrust-banner-sdk #onetrust-pc-btn-handler.cookie-setting-link{background-color:#fff;border:none;color:#68b631;text-decoration:underline;padding-left:0;padding-right:0}#onetrust-banner-sdk .onetrust-close-btn-ui{width:44px;height:44px;background-size:12px;border:none;position:relative;margin:auto;padding:0}#onetrust-banner-sdk .banner_logo{display:none}#onetrust-banner-sdk .ot-b-addl-desc{clear:both;float:left;display:block}#onetrust-banner-sdk #banner-options{float:left;display:table;margin-right:0;margin-left:1em;width:calc(100% - 1em)}#onetrust-banner-sdk .banner-option-input{cursor:pointer;width:auto;height:auto;border:none;padding:0;padding-right:3px;margin:0 0 10px;font-size:.82em;line-height:1.4}#onetrust-banner-sdk .banner-option-input *{pointer-events:none;font-size:inherit;line-height:inherit}#onetrust-banner-sdk .banner-option-input[aria-expanded=true]~.banner-option-details{display:block;height:auto}#onetrust-banner-sdk .banner-option-input[aria-expanded=true] .ot-arrow-container{transform:rotate(90deg)}#onetrust-banner-sdk .banner-option{margin-bottom:12px;margin-left:0;border:none;float:left;padding:0}#onetrust-banner-sdk .banner-option:first-child{padding-left:2px}#onetrust-banner-sdk .banner-option:not(:first-child){padding:0;border:none}#onetrust-banner-sdk .banner-option-header{cursor:pointer;display:inline-block}#onetrust-banner-sdk .banner-option-header :first-child{color:dimgray;font-weight:bold;float:left}#onetrust-banner-sdk .banner-option-header .ot-arrow-container{display:inline-block;border-top:6px solid transparent;border-bottom:6px solid transparent;border-left:6px solid dimgray;margin-left:10px;vertical-align:middle}#onetrust-banner-sdk .banner-option-details{display:none;font-size:.83em;line-height:1.5;padding:10px 0px 5px 10px;margin-right:10px;height:0px}#onetrust-banner-sdk .banner-option-details *{font-size:inherit;line-height:inherit;color:dimgray}#onetrust-banner-sdk .ot-arrow-container,#onetrust-banner-sdk .banner-option-details{transition:all 300ms ease-in 0s;-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s}#onetrust-banner-sdk .ot-dpd-container{float:left}#onetrust-banner-sdk .ot-dpd-title{margin-bottom:10px}#onetrust-banner-sdk .ot-dpd-title,#onetrust-banner-sdk .ot-dpd-desc{font-size:.88em;line-height:1.4;color:dimgray}#onetrust-banner-sdk .ot-dpd-title *,#onetrust-banner-sdk .ot-dpd-desc *{font-size:inherit;line-height:inherit}#onetrust-banner-sdk.ot-iab-2 #onetrust-policy-text *{margin-bottom:0}#onetrust-banner-sdk.ot-iab-2 .onetrust-vendors-list-handler{display:block;margin-left:0;margin-top:5px;clear:both;margin-bottom:0;padding:0;border:0;height:auto;width:auto}#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group button{display:block}#onetrust-banner-sdk.ot-close-btn-link{padding-top:25px}#onetrust-banner-sdk.ot-close-btn-link #onetrust-close-btn-container{top:15px;transform:none;right:15px}#onetrust-banner-sdk.ot-close-btn-link #onetrust-close-btn-container button{padding:0;white-space:pre-wrap;border:none;height:auto;line-height:1.5;text-decoration:underline;font-size:.69em}#onetrust-banner-sdk #onetrust-policy-text,#onetrust-banner-sdk .ot-dpd-desc,#onetrust-banner-sdk .ot-b-addl-desc{font-size:.813em;line-height:1.5}#onetrust-banner-sdk .ot-dpd-desc{margin-bottom:10px}#onetrust-banner-sdk .ot-dpd-desc>.ot-b-addl-desc{margin-top:10px;margin-bottom:10px;font-size:1em}@media only screen and (max-width: 425px){#onetrust-banner-sdk #onetrust-close-btn-container{position:absolute;top:6px;right:2px}#onetrust-banner-sdk #onetrust-policy{margin-left:0;margin-top:3em}#onetrust-banner-sdk #onetrust-button-group{display:block}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{width:100%}#onetrust-banner-sdk .onetrust-close-btn-ui{top:auto;transform:none}#onetrust-banner-sdk #onetrust-policy-title{display:inline;float:none}#onetrust-banner-sdk #banner-options{margin:0;padding:0;width:100%}}@media only screen and (min-width: 426px)and (max-width: 896px){#onetrust-banner-sdk #onetrust-close-btn-container{position:absolute;top:0;right:0}#onetrust-banner-sdk #onetrust-policy{margin-left:1em;margin-right:1em}#onetrust-banner-sdk .onetrust-close-btn-ui{top:10px;right:10px}#onetrust-banner-sdk:not(.ot-iab-2) #onetrust-group-container{width:95%}#onetrust-banner-sdk.ot-iab-2 #onetrust-group-container{width:100%}#onetrust-banner-sdk #onetrust-button-group-parent{width:100%;position:relative;margin-left:0}#onetrust-banner-sdk #onetrust-button-group button{display:inline-block}#onetrust-banner-sdk #onetrust-button-group{margin-right:0;text-align:center}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler{float:left}#onetrust-banner-sdk .has-reject-all-button #onetrust-reject-all-handler,#onetrust-banner-sdk .has-reject-all-button #onetrust-accept-btn-handler{float:right}#onetrust-banner-sdk .has-reject-all-button #onetrust-button-group{width:calc(100% - 2em);margin-right:0}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler.cookie-setting-link{padding-left:0px;text-align:left}#onetrust-banner-sdk.ot-buttons-fw .ot-sdk-three button{width:100%;text-align:center}#onetrust-banner-sdk.ot-buttons-fw #onetrust-button-group-parent button{float:none}#onetrust-banner-sdk.ot-buttons-fw #onetrust-pc-btn-handler.cookie-setting-link{text-align:center}}@media only screen and (min-width: 550px){#onetrust-banner-sdk .banner-option:not(:first-child){border-left:1px solid #d8d8d8;padding-left:25px}}@media only screen and (min-width: 425px)and (max-width: 550px){#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group,#onetrust-banner-sdk.ot-iab-2 #onetrust-policy,#onetrust-banner-sdk.ot-iab-2 .banner-option{width:100%}}@media only screen and (min-width: 769px){#onetrust-banner-sdk #onetrust-button-group{margin-right:30%}#onetrust-banner-sdk #banner-options{margin-left:2em;margin-right:5em;margin-bottom:1.25em;width:calc(100% - 7em)}}@media only screen and (min-width: 897px)and (max-width: 1023px){#onetrust-banner-sdk.vertical-align-content #onetrust-button-group-parent{position:absolute;top:50%;left:75%;transform:translateY(-50%)}#onetrust-banner-sdk #onetrust-close-btn-container{top:50%;margin:auto;transform:translate(-50%, -50%);position:absolute;padding:0;right:0}#onetrust-banner-sdk #onetrust-close-btn-container button{position:relative;margin:0;right:-22px;top:2px}}@media only screen and (min-width: 1024px){#onetrust-banner-sdk #onetrust-close-btn-container{top:50%;margin:auto;transform:translate(-50%, -50%);position:absolute;right:0}#onetrust-banner-sdk #onetrust-close-btn-container button{right:-12px}#onetrust-banner-sdk #onetrust-policy{margin-left:2em}#onetrust-banner-sdk.vertical-align-content #onetrust-button-group-parent{position:absolute;top:50%;left:60%;transform:translateY(-50%)}#onetrust-banner-sdk.ot-iab-2 #onetrust-policy-title{width:50%}#onetrust-banner-sdk.ot-iab-2 #onetrust-policy-text,#onetrust-banner-sdk.ot-iab-2 :not(.ot-dpd-desc)>.ot-b-addl-desc{margin-bottom:1em;width:50%;border-right:1px solid #d8d8d8;padding-right:1rem}#onetrust-banner-sdk.ot-iab-2 #onetrust-policy-text{margin-bottom:0;padding-bottom:1em}#onetrust-banner-sdk.ot-iab-2 :not(.ot-dpd-desc)>.ot-b-addl-desc{margin-bottom:0;padding-bottom:1em}#onetrust-banner-sdk.ot-iab-2 .ot-dpd-container{width:45%;padding-left:1rem;display:inline-block;float:none}#onetrust-banner-sdk.ot-iab-2 .ot-dpd-title{line-height:1.7}#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group-parent{left:auto;right:4%;margin-left:0}#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group button{display:block}#onetrust-banner-sdk:not(.ot-iab-2) #onetrust-button-group-parent{margin:auto;width:30%}#onetrust-banner-sdk:not(.ot-iab-2) #onetrust-group-container{width:60%}#onetrust-banner-sdk #onetrust-button-group{margin-right:auto}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{margin-top:1em}}@media only screen and (min-width: 890px){#onetrust-banner-sdk.ot-buttons-fw:not(.ot-iab-2) #onetrust-button-group-parent{padding-left:3%;padding-right:4%;margin-left:0}#onetrust-banner-sdk.ot-buttons-fw:not(.ot-iab-2) #onetrust-button-group{margin-right:0;margin-top:1.25em;width:100%}#onetrust-banner-sdk.ot-buttons-fw:not(.ot-iab-2) #onetrust-button-group button{width:100%;margin-bottom:5px;margin-top:5px}#onetrust-banner-sdk.ot-buttons-fw:not(.ot-iab-2) #onetrust-button-group button:last-of-type{margin-bottom:20px}}@media only screen and (min-width: 1280px){#onetrust-banner-sdk:not(.ot-iab-2) #onetrust-group-container{width:55%}#onetrust-banner-sdk:not(.ot-iab-2) #onetrust-button-group-parent{width:44%;padding-left:2%;padding-right:2%}#onetrust-banner-sdk:not(.ot-iab-2).vertical-align-content #onetrust-button-group-parent{position:absolute;left:55%}}
        #onetrust-consent-sdk #onetrust-banner-sdk {background-color: #007AB8;}
            #onetrust-consent-sdk #onetrust-policy-title,
                    #onetrust-consent-sdk #onetrust-policy-text,
                    #onetrust-consent-sdk .ot-b-addl-desc,
                    #onetrust-consent-sdk .ot-dpd-desc,
                    #onetrust-consent-sdk .ot-dpd-title,
                    #onetrust-consent-sdk #onetrust-policy-text *:not(.onetrust-vendors-list-handler),
                    #onetrust-consent-sdk .ot-dpd-desc *:not(.onetrust-vendors-list-handler),
                    #onetrust-consent-sdk #onetrust-banner-sdk #banner-options *,
                    #onetrust-banner-sdk .ot-cat-header {
                        color: #FFFFFF;
                    }
            #onetrust-consent-sdk #onetrust-banner-sdk .banner-option-details {
                    background-color: #E9E9E9;}
             #onetrust-consent-sdk #onetrust-banner-sdk a[href],
                    #onetrust-consent-sdk #onetrust-banner-sdk a[href] font,
                    #onetrust-consent-sdk #onetrust-banner-sdk .ot-link-btn
                        {
                            color: #FFFFFF;
                        }#onetrust-consent-sdk #onetrust-accept-btn-handler,
                         #onetrust-banner-sdk #onetrust-reject-all-handler {
                            background-color: #007AB8;border-color: #007AB8;
                color: #FFFFFF;
            }
            #onetrust-consent-sdk #onetrust-banner-sdk *:focus,
            #onetrust-consent-sdk #onetrust-banner-sdk:focus {
               outline-color: #000000;
               outline-width: 1px;
            }
            #onetrust-consent-sdk #onetrust-pc-btn-handler,
            #onetrust-consent-sdk #onetrust-pc-btn-handler.cookie-setting-link {
                color: #FFFFFF; border-color: #FFFFFF;
                background-color: 
                #007AB8;
            }p#onetrust-policy-text {
    font-size: .88em !important
}

#onetrust-accept-btn-handler{border: 1px solid #FFFFFF !important;}

#onetrust-pc-sdk #vendors-list-title{font-size: 0.9em !important; }

#onetrust-pc-sdk input {font-size: 0.9em !important; }
#onetrust-pc-sdk.otPcTab{position:fixed;width:730px;max-width:730px;height:580px;left:0;right:0;top:0;bottom:0;margin:auto;font-size:16px;z-index:2147483647;border:1px solid #d7d7d7;border-radius:2px;background-color:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,0),0 7px 14px 0 rgba(50,50,93,.1)}#onetrust-pc-sdk.otPcTab.otRelFont{font-size:1rem}#onetrust-pc-sdk *,#onetrust-pc-sdk ::after,#onetrust-pc-sdk ::before{box-sizing:content-box}#onetrust-pc-sdk #ot-content{height:calc(100% - 196px)}#onetrust-pc-sdk .ot-link-btn{padding:0;margin-bottom:0;border:0;font-weight:normal;line-height:normal;width:auto;height:auto}#onetrust-pc-sdk .ot-main-content{height:100%}#onetrust-pc-sdk .privacy-notice-link{text-decoration:underline;margin-right:8px}#onetrust-pc-sdk .privacy-notice-link:focus{outline:1px solid #000}#onetrust-pc-sdk li{list-style:none}#onetrust-pc-sdk ul,#onetrust-pc-sdk li{margin:0}#onetrust-pc-sdk a{text-decoration:none}#onetrust-pc-sdk .pc-content::-webkit-scrollbar,#onetrust-pc-sdk .groups-container::-webkit-scrollbar,#onetrust-pc-sdk #vendor-list-content::-webkit-scrollbar,#onetrust-pc-sdk .vendor-content::-webkit-scrollbar,#onetrust-pc-sdk #ot-filter-modal .ot-group-options::-webkit-scrollbar{width:11px}#onetrust-pc-sdk .pc-content::-webkit-scrollbar-thumb,#onetrust-pc-sdk .groups-container::-webkit-scrollbar-thumb,#onetrust-pc-sdk #vendor-list-content::-webkit-scrollbar-thumb,#onetrust-pc-sdk .vendor-content::-webkit-scrollbar-thumb,#onetrust-pc-sdk #ot-filter-modal .ot-group-options::-webkit-scrollbar-thumb{border-radius:10px;background:#c1c1c1}#onetrust-pc-sdk .pc-content,#onetrust-pc-sdk .groups-container,#onetrust-pc-sdk #vendor-list-content,#onetrust-pc-sdk .vendor-content,#onetrust-pc-sdk #ot-filter-modal .ot-group-options{scrollbar-arrow-color:#c1c1c1;scrollbar-darkshadow-color:#c1c1c1;scrollbar-face-color:#c1c1c1;scrollbar-shadow-color:#c1c1c1}#onetrust-pc-sdk .pc-header{height:auto;padding:20px;display:inline-block;vertical-align:middle;width:calc(100% - 40px);border-bottom:1px solid #d8d8d8}#onetrust-pc-sdk .pc-logo-container{float:left}#onetrust-pc-sdk .pc-title-container{float:right;width:calc(100% - 190px);margin-left:10px}#onetrust-pc-sdk .ot-always-active{font-size:1em;line-height:1.3;color:#3860be}#onetrust-pc-sdk .pc-close-btn-container{float:right;position:absolute;right:0;margin-top:0}#onetrust-pc-sdk .pc-content{position:relative;height:100%;overflow-y:auto;overflow-x:hidden}#onetrust-pc-sdk .groups-container{height:100%;overflow-y:auto}#onetrust-pc-sdk .group{cursor:pointer;border-left:10px solid transparent;background-color:#f4f4f4;border-bottom:1px solid #d7d7d7;padding-top:16px;padding-right:5px;padding-bottom:16px;padding-left:12px}#onetrust-pc-sdk .group h3{float:left;text-align:left;margin:0;color:dimgray;line-height:1.4;font-size:1em;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .active-group{border-left:10px solid #68b631;background-color:#fff;border-bottom:none;position:relative}#onetrust-pc-sdk .active-group h3{color:#263238;font-weight:bold}#onetrust-pc-sdk .description-container{word-break:break-word;word-wrap:break-word;padding-top:20px;padding-right:16px;padding-bottom:15px;position:absolute;left:30%}#onetrust-pc-sdk .group-description{word-break:break-word;word-wrap:break-word;text-align:left;font-size:.82em;line-height:1.3;margin:0}#onetrust-pc-sdk #pc-policy-text{clear:both;float:left}#onetrust-pc-sdk #pc-policy-text a{color:#3860be;cursor:pointer;font-size:1em}#onetrust-pc-sdk #pc-policy-text a:hover{color:#1883fd}#onetrust-pc-sdk #pc-policy-text *{font-size:inherit}#onetrust-pc-sdk #pc-policy-text ul li{padding:10px 0px;border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk #pc-policy-text+.ot-link-btn{display:none}#onetrust-pc-sdk #vdr-lst-dsc{font-size:.812em;line-height:1.5;padding:10px 15px 5px 15px}#onetrust-pc-sdk .ot-close-icon{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjQ3Ljk3MSIgaGVpZ2h0PSI0Ny45NzEiIHZpZXdCb3g9IjAgMCA0Ny45NzEgNDcuOTcxIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0Ny45NzEgNDcuOTcxOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTI4LjIyOCwyMy45ODZMNDcuMDkyLDUuMTIyYzEuMTcyLTEuMTcxLDEuMTcyLTMuMDcxLDAtNC4yNDJjLTEuMTcyLTEuMTcyLTMuMDctMS4xNzItNC4yNDIsMEwyMy45ODYsMTkuNzQ0TDUuMTIxLDAuODhjLTEuMTcyLTEuMTcyLTMuMDctMS4xNzItNC4yNDIsMGMtMS4xNzIsMS4xNzEtMS4xNzIsMy4wNzEsMCw0LjI0MmwxOC44NjUsMTguODY0TDAuODc5LDQyLjg1Yy0xLjE3MiwxLjE3MS0xLjE3MiwzLjA3MSwwLDQuMjQyQzEuNDY1LDQ3LjY3NywyLjIzMyw0Ny45NywzLDQ3Ljk3czEuNTM1LTAuMjkzLDIuMTIxLTAuODc5bDE4Ljg2NS0xOC44NjRMNDIuODUsNDcuMDkxYzAuNTg2LDAuNTg2LDEuMzU0LDAuODc5LDIuMTIxLDAuODc5czEuNTM1LTAuMjkzLDIuMTIxLTAuODc5YzEuMTcyLTEuMTcxLDEuMTcyLTMuMDcxLDAtNC4yNDJMMjguMjI4LDIzLjk4NnoiLz48L2c+PC9zdmc+");background-size:12px;background-repeat:no-repeat;background-position:center;height:44px;width:44px;display:inline-block}#onetrust-pc-sdk .group-toggle{display:inline-block;width:100%;margin-bottom:10px}#onetrust-pc-sdk .group-toggle .checkbox{background-color:#fff}#onetrust-pc-sdk .group-toggle .ot-toggle{float:right;background-color:#fff}#onetrust-pc-sdk .group-toggle .ot-toggle-group{float:right}#onetrust-pc-sdk .group-toggle .ot-toggle-group p{margin:0}#onetrust-pc-sdk .group-toggle .ot-toggle-group:focus{outline:#000 auto 5px}#onetrust-pc-sdk .group-toggle .ot-toggle-group .checkbox input[type=checkbox]:focus+label::before{outline:#000 auto 5px}#onetrust-pc-sdk .description-container h4{color:#263238;float:left;margin:0;font-weight:bold;font-size:1em;line-height:1.3;max-width:85%;top:3px}#onetrust-pc-sdk #pc-privacy-header{margin-bottom:10px}#onetrust-pc-sdk .category-vendors-list-container{overflow:hidden}#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-host-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a{display:block;float:left;color:#3860be;font-size:.8em;font-weight:bold;line-height:1.1;cursor:pointer;margin:5px 0px}#onetrust-pc-sdk .category-vendors-list-handler:hover,#onetrust-pc-sdk .category-host-list-handler:hover,#onetrust-pc-sdk .category-vendors-list-handler+a:hover{color:#1883fd}#onetrust-pc-sdk .category-vendors-list-handler+a::after{content:"";height:17px;width:15px;background-repeat:no-repeat;margin-left:2px;margin-top:-1px;float:right;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 511.626 511.627'%3E%3Cg fill='%231276CE'%3E%3Cpath d='M392.857 292.354h-18.274c-2.669 0-4.859.855-6.563 2.573-1.718 1.708-2.573 3.897-2.573 6.563v91.361c0 12.563-4.47 23.315-13.415 32.262-8.945 8.945-19.701 13.414-32.264 13.414H82.224c-12.562 0-23.317-4.469-32.264-13.414-8.945-8.946-13.417-19.698-13.417-32.262V155.31c0-12.562 4.471-23.313 13.417-32.259 8.947-8.947 19.702-13.418 32.264-13.418h200.994c2.669 0 4.859-.859 6.57-2.57 1.711-1.713 2.566-3.9 2.566-6.567V82.221c0-2.662-.855-4.853-2.566-6.563-1.711-1.713-3.901-2.568-6.57-2.568H82.224c-22.648 0-42.016 8.042-58.102 24.125C8.042 113.297 0 132.665 0 155.313v237.542c0 22.647 8.042 42.018 24.123 58.095 16.086 16.084 35.454 24.13 58.102 24.13h237.543c22.647 0 42.017-8.046 58.101-24.13 16.085-16.077 24.127-35.447 24.127-58.095v-91.358c0-2.669-.856-4.859-2.574-6.57-1.713-1.718-3.903-2.573-6.565-2.573z'/%3E%3Cpath d='M506.199 41.971c-3.617-3.617-7.905-5.424-12.85-5.424H347.171c-4.948 0-9.233 1.807-12.847 5.424-3.617 3.615-5.428 7.898-5.428 12.847s1.811 9.233 5.428 12.85l50.247 50.248-186.147 186.151c-1.906 1.903-2.856 4.093-2.856 6.563 0 2.479.953 4.668 2.856 6.571l32.548 32.544c1.903 1.903 4.093 2.852 6.567 2.852s4.665-.948 6.567-2.852l186.148-186.148 50.251 50.248c3.614 3.617 7.898 5.426 12.847 5.426s9.233-1.809 12.851-5.426c3.617-3.616 5.424-7.898 5.424-12.847V54.818c-.001-4.952-1.814-9.232-5.428-12.847z'/%3E%3C/g%3E%3C/svg%3E")}#onetrust-pc-sdk .category-host-list-handler,#onetrust-pc-sdk .category-vendors-list-container,#onetrust-pc-sdk #pc-policy-text+.category-vendors-list-handler{margin-top:10px}#onetrust-pc-sdk .group-toggle+.category-vendors-list-container{margin-top:0px;margin-bottom:10px}#onetrust-pc-sdk .ot-always-active-group .group-toggle h3.category-header,#onetrust-pc-sdk .cookie-subgroup.ot-always-active-group>h4{max-width:70%}#onetrust-pc-sdk .group-description ul,#onetrust-pc-sdk .cookie-subgroups-container li.cookie-subgroup p ul{margin:0px;margin-left:15px;padding-bottom:8px}#onetrust-pc-sdk .group-description ul li,#onetrust-pc-sdk .cookie-subgroups-container li.cookie-subgroup p ul li{font-size:inherit;padding-top:8px;display:list-item;list-style:disc}#onetrust-pc-sdk .ot-toggle.ot-hide-tgl{visibility:hidden}#onetrust-pc-sdk .ot-toggle.ot-hide-tgl *{visibility:hidden}#onetrust-pc-sdk .cookie-subgroups-container{margin-top:15px}#onetrust-pc-sdk .cookie-subgroups-container ul.cookie-subgroups{margin:0;font-size:inherit}#onetrust-pc-sdk .cookie-subgroups-container ul.cookie-subgroups .cookie-subgroup-toggle{float:right}#onetrust-pc-sdk .cookie-subgroups-container ul.cookie-subgroups .cookie-subgroup-toggle.ot-always-active-subgroup{width:auto}#onetrust-pc-sdk .cookie-subgroups-container ul.cookie-subgroups .ot-toggle{background-color:inherit}#onetrust-pc-sdk .cookie-subgroups-container ul.cookie-subgroups li{padding:0;border:none;position:relative}#onetrust-pc-sdk .cookie-subgroups-container ul.cookie-subgroups li h4,#onetrust-pc-sdk .cookie-subgroups-container ul.cookie-subgroups li p{font-size:.82em;line-height:1.4}#onetrust-pc-sdk .cookie-subgroups-container ul.cookie-subgroups li p{color:dimgray;clear:both;float:left;margin-top:10px;margin-bottom:0;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .cookie-subgroups-container ul.cookie-subgroups li h4{color:#263238;font-weight:bold;margin-bottom:0;float:left;position:relative;top:3px}#onetrust-pc-sdk .cookie-subgroups-container ul.cookie-subgroups li.cookie-subgroup{margin-left:30px;display:inline-block;width:calc(100% - 30px)}#onetrust-pc-sdk .cookie-subgroups-container .ot-arrow{top:-3px}#onetrust-pc-sdk .ot-button-group-parent{height:34px;padding:30px;bottom:0;border-top:1px solid #d8d8d8}#onetrust-pc-sdk .ot-button-group{float:right;text-align:center}#onetrust-pc-sdk .ot-pc-footer-logo{float:left;text-align:center;background-repeat:no-repeat;background-position:center;background-size:contain;width:155px;height:25px;position:relative;top:10px}#onetrust-pc-sdk #accept-recommended-btn-handler{float:right;margin-right:16px;margin-left:15px;text-align:center}#onetrust-pc-sdk .save-preference-btn-handler{height:38px;min-width:155px;background-color:#68b631;border-radius:2px;color:#fff;font-size:.9em;line-height:1.1;text-align:center;margin-left:15px;margin-right:15px}#onetrust-pc-sdk #pc-title{float:left;margin-top:10px;max-width:90%;overflow:hidden;position:relative;padding-right:1em;text-overflow:ellipsis;white-space:nowrap}#onetrust-pc-sdk #vendors-list{height:100%;width:100%}#onetrust-pc-sdk #vendors-list .accordion-header{padding-top:17px;padding-right:15px;padding-bottom:17px;padding-left:20px;display:inline-block;width:calc(100% - 35px);vertical-align:middle}#onetrust-pc-sdk #vendors-list .accordion-text{padding-top:6px;padding-right:50px;padding-bottom:10px;padding-left:50px}#onetrust-pc-sdk .vendor-content{height:100%}#onetrust-pc-sdk #vendors-list-header{padding-top:15px;padding-right:30px;padding-bottom:15px;padding-left:20px;display:inline-block;width:calc(100% - 50px);height:20px;border-bottom:1px solid #d8d8d8}#onetrust-pc-sdk #vendors-list-header input{height:32px;width:300px;border-radius:50px;font-size:.8em;padding-right:35px;padding-left:15px;float:left}#onetrust-pc-sdk #vendors-list-header input::placeholder{color:#d4d4d4;font-style:italic}#onetrust-pc-sdk #vendor-list-content{height:calc(100% - 86px);width:calc(100% - 183px);padding-left:80px;padding-right:100px;padding-top:20px;margin-top:8px;margin-right:3px;margin-bottom:4px;margin-left:0;overflow-x:hidden;overflow-y:auto}#onetrust-pc-sdk #ot-back-arrow{height:17px;width:20px;vertical-align:middle;display:inline-block;color:dimgray;font-size:1em;line-height:1;text-align:center}#onetrust-pc-sdk #vendors-list-title{color:dimgray;font-size:.9em;font-weight:bold;line-height:1;display:inline-block;vertical-align:middle;margin:0;padding-left:5px}#onetrust-pc-sdk #vendors-list-title *{font-size:inherit}#onetrust-pc-sdk .navigation-container{float:left}#onetrust-pc-sdk .back-btn-handler{display:inline-block}#onetrust-pc-sdk .action-container{float:right;position:relative;bottom:6px}#onetrust-pc-sdk #search-container{float:left}#onetrust-pc-sdk #search-container svg{position:absolute;right:35px;width:30px;height:30px;font-size:1em;line-height:1;top:3px}#onetrust-pc-sdk .label-text{display:none}#onetrust-pc-sdk #filter-container{display:inline-block;top:8px;position:relative;margin-left:20px}#onetrust-pc-sdk #filter-btn-handler svg{cursor:pointer;width:15px;height:15px}#onetrust-pc-sdk #select-all-container{min-width:200px;min-height:30px;padding-left:20px}#onetrust-pc-sdk #select-all-text-container{display:inline-block;padding-left:30px}#onetrust-pc-sdk #select-all-text-container p{color:#2c3643;font-size:.8em;font-weight:bold;line-height:1.1;margin:0;display:inline-block}#onetrust-pc-sdk #select-all-text-container p *{font-size:inherit}#onetrust-pc-sdk #select-all-vendors-input-container,#onetrust-pc-sdk #select-all-hosts-input-container{float:left;height:100%}#onetrust-pc-sdk #select-all-vendors-input-container label,#onetrust-pc-sdk #select-all-hosts-input-container label{height:100%;padding-left:0}#onetrust-pc-sdk .ot-checkbox input[type=checkbox]{display:block;opacity:0}#onetrust-pc-sdk .ot-checkbox input:checked~label::before{background-color:#4285f4}#onetrust-pc-sdk .ot-checkbox label{position:relative;height:20px;padding-left:30px}#onetrust-pc-sdk .ot-checkbox label::before,#onetrust-pc-sdk .ot-checkbox label::after{position:absolute;content:"";display:inline-block;border-radius:3px}#onetrust-pc-sdk .ot-checkbox label::before{height:18px;width:18px;border:1px solid #3860be;left:0px}#onetrust-pc-sdk .ot-checkbox label::after{height:5px;width:9px;border-left:3px solid;border-bottom:3px solid;transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);left:4px;top:5px}#onetrust-pc-sdk .ot-checkbox input[type=checkbox]+label::after{content:none;color:#fff}#onetrust-pc-sdk .ot-checkbox input[type=checkbox]:checked+label::after{content:""}#onetrust-pc-sdk .ot-checkbox input[type=checkbox]:focus+label::before{outline-style:solid;outline-width:2px;outline-style:auto}#onetrust-pc-sdk #select-all-vendors-input-container.line-through label::after,#onetrust-pc-sdk #select-all-vendors-leg-input-container.line-through label::after,#onetrust-pc-sdk #select-all-hosts-input-container.line-through label::after{height:auto;border-left:0;left:5px;top:10.5px;transform:none;-o-transform:none;-ms-transform:none;-webkit-transform:none}#onetrust-pc-sdk #hosts-list-container .ot-checkbox{float:left}#onetrust-pc-sdk .vendor-title,#onetrust-pc-sdk .host-title{color:#2c3643;font-weight:bold;font-size:.8em;line-height:1.2;margin:0;height:auto;text-align:left;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .host-title{position:relative;vertical-align:middle}#onetrust-pc-sdk .host-title a{font-size:1em;font-weight:bold}#onetrust-pc-sdk .cookie-name-container a{font-size:1em}#onetrust-pc-sdk .host-description{font-size:.69em;line-height:1.4;margin-top:5px;margin-bottom:5px;float:left;color:dimgray}#onetrust-pc-sdk .host-info>a{text-decoration:underline;font-size:.82em;position:relative;z-index:2;float:left;margin-bottom:5px}#onetrust-pc-sdk .host-info .host-title+a{margin-top:5px}#onetrust-pc-sdk .vendor-info{width:88%;float:right}#onetrust-pc-sdk .vendor-purposes{margin-top:3px}#onetrust-pc-sdk .vendor-purposes p{font-size:.8em;line-height:1.2;margin-bottom:0;font-weight:500;text-align:left;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk input[type=checkbox]:focus+.accordion-header{outline:1px solid #000}#onetrust-pc-sdk #select-all-hosts-input-container input[type=checkbox],#onetrust-pc-sdk #select-all-vendors-input-container input[type=checkbox]{position:absolute}#onetrust-pc-sdk #vendors-list-container input[type=checkbox],#onetrust-pc-sdk #hosts-list-container input[type=checkbox],#onetrust-pc-sdk .cookie-subgroups input[type=checkbox]{position:absolute;cursor:pointer;width:100%;height:100%;opacity:0;margin:0;top:0;left:0}#onetrust-pc-sdk #vendors-list-container input[type=checkbox]~.accordion-header,#onetrust-pc-sdk #hosts-list-container input[type=checkbox]~.accordion-header,#onetrust-pc-sdk .cookie-subgroups input[type=checkbox]~.accordion-header{cursor:pointer}#onetrust-pc-sdk #vendors-list-container input[type=checkbox]:not(:checked)~.accordion-text,#onetrust-pc-sdk #hosts-list-container input[type=checkbox]:not(:checked)~.accordion-text,#onetrust-pc-sdk .cookie-subgroups input[type=checkbox]:not(:checked)~.accordion-text{margin-top:0;max-height:0;opacity:0;overflow:hidden;width:100%;transition:.25s ease-out;display:none}#onetrust-pc-sdk #vendors-list-container input[type=checkbox]:checked~.accordion-text,#onetrust-pc-sdk #hosts-list-container input[type=checkbox]:checked~.accordion-text,#onetrust-pc-sdk .cookie-subgroups input[type=checkbox]:checked~.accordion-text{transition:.1s ease-in;display:block}#onetrust-pc-sdk #vendors-list-container .ot-checkbox input[type=checkbox],#onetrust-pc-sdk #hosts-list-container .ot-checkbox input[type=checkbox],#onetrust-pc-sdk .cookie-subgroups .ot-checkbox input[type=checkbox]{width:auto;height:auto}#onetrust-pc-sdk #vendors-list-container .ot-checkbox label,#onetrust-pc-sdk #hosts-list-container .ot-checkbox label,#onetrust-pc-sdk .cookie-subgroups .ot-checkbox label{z-index:2}#onetrust-pc-sdk #vendors-list-container,#onetrust-pc-sdk #hosts-list-container{width:100%}#onetrust-pc-sdk #vendors-list-container li,#onetrust-pc-sdk #hosts-list-container li{border:1px solid #d7d7d7;border-radius:2px;position:relative;margin-top:10px}#onetrust-pc-sdk #vendors-list-container .ot-toggle-group{width:65%}#onetrust-pc-sdk #hosts-list-container .ot-toggle-group{width:65%}#onetrust-pc-sdk label{margin-bottom:0}#onetrust-pc-sdk .vendor-notice,#onetrust-pc-sdk .host-notice{float:right}#onetrust-pc-sdk .vendor-privacy-notice-container,#onetrust-pc-sdk .third-party-cookies-container{float:left}#onetrust-pc-sdk .vendor-privacy-notice-container{position:relative}#onetrust-pc-sdk .vendor-privacy-notice-container a:hover{text-decoration:underline}#onetrust-pc-sdk .vendor-privacy-notice,#onetrust-pc-sdk .third-party-cookie-notice{color:dimgray;font-size:.7em;line-height:.9;display:inline-block}#onetrust-pc-sdk .vendor-privacy-notice *,#onetrust-pc-sdk .third-party-cookie-notice *{font-size:inherit}#onetrust-pc-sdk .vendor-privacy-notice{position:relative;z-index:2}#onetrust-pc-sdk .ot-arrow{margin-left:20px}#onetrust-pc-sdk .vendor-options{display:inline-block;width:100%;padding-bottom:10px;border-radius:2px;background-color:#f8f8f8}#onetrust-pc-sdk .vendor-options p{font-size:.69em;text-align:left;display:table-cell;vertical-align:middle;word-break:break-word;word-wrap:break-word;margin:0;padding-left:15px;color:#2e3644}#onetrust-pc-sdk #hosts-list-container .host-info{float:left;width:calc(100% - 50px)}#onetrust-pc-sdk #hosts-list-container .host-option-group{display:inline-block;width:100%;margin:0;font-size:inherit}#onetrust-pc-sdk #hosts-list-container .host-option-group li.vendor-host{border:none;font-size:.8em;color:dimgray;float:left;text-align:left;padding:10px;margin-bottom:10px;width:calc(100% - 10px);background-color:#f8f8f8}#onetrust-pc-sdk #hosts-list-container .host-option-group li.vendor-host a{color:dimgray}#onetrust-pc-sdk #hosts-list-container .host-option-group li>div div{font-size:.81em;padding:5px 0}#onetrust-pc-sdk #hosts-list-container .host-option-group li>div div:nth-child(1){width:30%;float:left}#onetrust-pc-sdk #hosts-list-container .host-option-group li>div div:nth-child(2){width:70%;float:left;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .vendor-purpose-groups .vendor-option-purpose{border-top:1px solid #e9e9e9;border-bottom:1px solid #e9e9e9;margin-bottom:10px;min-height:30px;max-height:50px;width:100%;display:table}#onetrust-pc-sdk .vendor-purpose-groups .vendor-option-purpose:first-child,#onetrust-pc-sdk .vendor-purpose-groups .vendor-option-purpose:first-of-type{border-top:none}#onetrust-pc-sdk .vendor-purpose-groups .vendor-option-purpose p{font-weight:bold}#onetrust-pc-sdk .vendor-purpose-groups .vendor-consent-group{display:inline-block;width:100%;margin-bottom:10px}#onetrust-pc-sdk .vendor-purpose-groups .ot-ven-disc{margin-bottom:10px}#onetrust-pc-sdk .vendor-purpose-groups .ot-ven-disc:not(:first-child){border-top:1px solid #e9e9e9}#onetrust-pc-sdk .vendor-purpose-groups .ot-ven-disc:nth-child(n+3) p{display:inline-block}#onetrust-pc-sdk .vendor-purpose-groups .ot-ven-disc:nth-child(n+3) p:nth-of-type(odd){width:30%}#onetrust-pc-sdk .vendor-purpose-groups .ot-ven-disc:nth-child(n+3) p:nth-of-type(even){width:50%;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .vendor-purpose-groups .ot-ven-disc p{padding-top:10px;display:block}#onetrust-pc-sdk .vendor-purpose-groups .legitimate-interest-group .consent-category{float:left}#onetrust-pc-sdk .vendor-purpose-groups .vendor-opt-out-handler{text-decoration:none;float:right;font-size:.69em;line-height:1.4;color:#3860be;right:15px;position:relative}#onetrust-pc-sdk .vendor-purpose-groups .vendor-opt-out-handler span{font-size:.69em;line-height:1.4}#onetrust-pc-sdk .vendor-purpose-groups .vendor-opt-out-handler svg{width:15px;height:15px;vertical-align:middle}#onetrust-pc-sdk #no-results{text-align:center;margin-top:30px}#onetrust-pc-sdk #no-results p{font-size:1em;color:#2e3644;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk #no-results p span{font-weight:bold}#onetrust-pc-sdk .ot-toggle .checkbox label:after{cursor:pointer}#onetrust-pc-sdk .ot-group-option{height:25px}#onetrust-pc-sdk .checkbox{position:relative;display:inline-block}#onetrust-pc-sdk .checkbox label{background:#d6d6d6;border:none;height:10px;width:35px;position:relative;display:inline-block;border-radius:46px;transition:.4s}#onetrust-pc-sdk .checkbox label:after{content:"";position:absolute;width:20px;height:20px;border-radius:100%;left:0;top:-5px;z-index:2;background:#7b7b7b;transition:.4s}#onetrust-pc-sdk .checkbox input{position:absolute;left:0;top:0;width:100%;height:100%;z-index:5;opacity:0;cursor:pointer}#onetrust-pc-sdk .checkbox input:checked+label:after{left:40px}#onetrust-pc-sdk .checkbox input:focus+label::after{outline-style:solid;outline-width:1px}#onetrust-pc-sdk .checkbox:after,#onetrust-pc-sdk .checkbox:before{-webkit-font-feature-settings:normal;font-feature-settings:normal;-webkit-font-kerning:auto;font-kerning:auto;-webkit-font-language-override:normal;font-language-override:normal;font-stretch:normal;font-style:normal;font-synthesis:weight style;font-variant:normal;font-weight:normal;text-rendering:auto}#onetrust-pc-sdk .ot-toggle{background-color:#f8f8f8}#onetrust-pc-sdk .ot-toggle .checkbox input:checked+label{background:#cddcf2}#onetrust-pc-sdk .ot-toggle .checkbox input:checked+label:after{background:#4285f4;left:16px}#onetrust-pc-sdk .ot-toggle-group,#onetrust-pc-sdk .ot-toggle{display:inline-block;vertical-align:middle}#onetrust-pc-sdk .ot-arrow-container{float:right}#onetrust-pc-sdk .ot-arrow{top:2px;position:relative;width:10px;height:10px;margin-left:5px;transition:all 300ms ease-in 0s;-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s}#onetrust-pc-sdk input:checked~.accordion-header .ot-arrow{transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg)}#onetrust-pc-sdk button.ot-pill{font-size:.75em;text-align:center;background-color:#3860be;border-color:#3860be;font-weight:600;box-shadow:0 0 10px 1px #cce1ff;width:170px;max-width:180px;color:#fff;height:auto;white-space:normal;word-break:break-word;word-wrap:break-word;padding:10px;line-height:1.2;letter-spacing:.05em}#onetrust-pc-sdk button.ot-pill:first-child{margin-top:10px}#onetrust-pc-sdk.ot-leg-opt-out .description-container{padding-top:0px;margin-top:20px;padding-right:0px;border-radius:3px;overflow:hidden;padding-bottom:10px}#onetrust-pc-sdk.ot-leg-opt-out .ot-leg-border-color{border:1px solid #e9e9e9}#onetrust-pc-sdk.ot-leg-opt-out .ot-leg-border-color .cookie-subgroups-container{border-top:1px solid #e9e9e9}#onetrust-pc-sdk.ot-leg-opt-out .ot-category-desc{padding-bottom:10px}#onetrust-pc-sdk.ot-leg-opt-out .group-toggle{padding-left:10px;width:calc(100% - 20px);padding-top:10px;margin-bottom:0px;padding-bottom:8px}#onetrust-pc-sdk.ot-leg-opt-out .cookie-subgroups-container{padding-top:10px;margin-top:0px}#onetrust-pc-sdk.ot-leg-opt-out .description-container>*:not(.group-toggle){padding-left:10px;padding-right:10px}#onetrust-pc-sdk.ot-leg-opt-out .leg-int-header{overflow:hidden;padding-top:7.5px;padding-bottom:7.5px;background-color:#f8f8f8;border:none;border-bottom:1px solid #e9e9e9}#onetrust-pc-sdk.ot-leg-opt-out .leg-int-header .leg-int-title{float:right;font-size:.813em}#onetrust-pc-sdk.ot-leg-opt-out .leg-int-header span:first-child{text-align:left;max-width:80px}#onetrust-pc-sdk.ot-leg-opt-out .leg-int-header span:last-child{padding-right:10px;max-width:95px;text-align:center}#onetrust-pc-sdk.ot-leg-opt-out .description-container .ot-toggle-group:first-of-type{padding-left:36px;padding-right:7px}#onetrust-pc-sdk.ot-leg-opt-out .ot-always-active-group .group-toggle .ot-toggle-group:first-of-type{padding-left:0px}#onetrust-pc-sdk.ot-leg-opt-out .category-header,#onetrust-pc-sdk.ot-leg-opt-out .cookie-subgroup h4{max-width:calc(100% - 115px)}#onetrust-pc-sdk.ot-leg-opt-out #vendor-list-content:not(.host-list-content) #select-all-container{width:100%;display:inline-block;padding:0}#onetrust-pc-sdk.ot-leg-opt-out #vendor-list-content:not(.host-list-content) #select-all-container .ot-checkbox{float:right}#onetrust-pc-sdk.ot-leg-opt-out .leg-int-sel-all-hdr{float:right;position:relative;height:20px;right:55px}#onetrust-pc-sdk.ot-leg-opt-out .consent-hdr,#onetrust-pc-sdk.ot-leg-opt-out .leg-int-hdr{float:right;font-size:.8em;position:relative}#onetrust-pc-sdk.ot-leg-opt-out .leg-int-hdr{margin-right:30px}#onetrust-pc-sdk.ot-leg-opt-out .ot-vendor-consent-tgl{margin-left:62px;margin-right:38px}#onetrust-pc-sdk.ot-leg-opt-out .ot-vendor-consent-tgl label,#onetrust-pc-sdk.ot-leg-opt-out .ot-leg-int-tgl label{width:22px;padding:0}#onetrust-pc-sdk.ot-leg-opt-out .ot-leg-int-tgl-only{margin-right:122px}#onetrust-pc-sdk.ot-leg-opt-out #select-all-vendors-leg-input-container{display:block;width:21px;height:21px;position:relative;float:left;right:30px;clear:both}#onetrust-pc-sdk.ot-leg-opt-out #select-all-vendors-leg-input-container input{position:absolute}#onetrust-pc-sdk.ot-leg-opt-out #select-all-vendors-input-container{float:right;width:21px;height:21px;position:relative;right:70px}#onetrust-pc-sdk.ot-leg-opt-out #vendors-list-container .vendor-info{float:left;width:60%}#onetrust-pc-sdk.ot-leg-opt-out #vendors-list-container .ot-toggle-group{float:right;width:auto}#onetrust-pc-sdk.ot-leg-opt-out #vendors-list-container .ot-checkbox{position:relative}#onetrust-pc-sdk.ot-leg-btn #select-all-vendors-input-container{clear:both}#onetrust-pc-sdk #ot-triangle{border:12px solid transparent;display:none;position:absolute;z-index:2147483647;top:140px;right:40px;transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);-webkit-transform:rotate(45deg);background-color:#fff;-webkit-box-shadow:-3px -3px 5px -2px #c7c5c7;-moz-box-shadow:-3px -3px 5px -2px #c7c5c7;box-shadow:-3px -3px 5px -2px #c7c5c7}#onetrust-pc-sdk #ot-filter-modal{width:300px;position:absolute;z-index:2147483646;top:146px;height:auto;display:none;-moz-transition:.2s ease;-o-transition:.2s ease;-webkit-transition:2s ease;transition:.2s ease;overflow-x:hidden;opacity:1;right:0}#onetrust-pc-sdk #ot-filter-modal .ot-pill{width:130px;float:right}#onetrust-pc-sdk #ot-options{background-color:#fff;margin:5px;border-radius:3px;height:350px;-webkit-box-shadow:0px 0px 12px 2px #c7c5c7;-moz-box-shadow:0px 0px 12px 2px #c7c5c7;box-shadow:0px 0px 12px 2px #c7c5c7}#onetrust-pc-sdk .ot-group-options{overflow-y:auto;width:100%;max-height:65%}#onetrust-pc-sdk .ot-group-option{margin-bottom:25px;margin-left:15px;clear:both;display:inline-block}#onetrust-pc-sdk .ot-group-option label{height:auto}#onetrust-pc-sdk .ot-group-option span{cursor:pointer;color:dimgray;font-size:.8em;line-height:1.1;font-weight:normal}#onetrust-pc-sdk #clear-filters-handler{float:right;max-width:200px;margin-bottom:30px;text-decoration:none}#onetrust-pc-sdk #clear-filters-handler p{float:right;font-weight:bold;color:#3860be;font-size:.9em;margin:0}#onetrust-pc-sdk #clear-filters-handler p:hover{color:#1883fd}#onetrust-pc-sdk #clear-filters-container{float:right;padding-right:15px;height:auto;margin-top:20px}#onetrust-pc-sdk #filter-apply-handler{margin-right:10px;float:right}#onetrust-pc-sdk .group-description+.ot-leg-btn-container{margin-top:0}#onetrust-pc-sdk .ot-leg-btn-container{display:inline-block;width:100%;margin-top:10px}#onetrust-pc-sdk .ot-leg-btn-container button{height:auto;padding:6.5px 8px;margin-bottom:0;line-height:normal;letter-spacing:0}#onetrust-pc-sdk .ot-leg-btn-container svg{display:none;height:14px;width:14px;padding-right:5px;vertical-align:sub}#onetrust-pc-sdk .ot-active-leg-btn{cursor:default;pointer-events:none}#onetrust-pc-sdk .ot-active-leg-btn svg{display:inline-block}#onetrust-pc-sdk .ot-remove-objection-handler{border:none;text-decoration:underline;padding:0;font-size:.82em;font-weight:600;line-height:1.4;padding-left:10px}#onetrust-pc-sdk .ot-obj-leg-btn-handler span{font-weight:bold;text-align:center;font-size:.91em;line-height:1.5}#onetrust-pc-sdk.otPcTab[dir=rtl] .ot-pc-footer-logo svg{direction:rtl}#onetrust-pc-sdk.otPcTab[dir=rtl] input~.accordion-header .ot-arrow,#onetrust-pc-sdk.otPcTab[dir=rtl] #ot-back-arrow{transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg)}#onetrust-pc-sdk.otPcTab[dir=rtl] input:checked~.accordion-header .ot-arrow{transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg);-webkit-transform:rotate(270deg)}#onetrust-pc-sdk.otPcTab[dir=rtl] #search-container svg{right:52px}#onetrust-pc-sdk.otPcTab[dir=rtl] .ot-checkbox label::after{transform:rotate(45deg);-webkit-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-left:0;border-right:3px solid}#onetrust-pc-sdk #close-pc-btn-handler.ot-close-icon{padding:0;background-color:transparent;border:none}@media(max-width: 767px){#onetrust-pc-sdk.otPcTab{width:100%;height:100%;border:none}#onetrust-pc-sdk.otPcTab .ot-sdk-container,#onetrust-pc-sdk.otPcTab .ot-button-group-parent,#onetrust-pc-sdk.otPcTab .ot-pc-footer-logo{width:100%}#onetrust-pc-sdk.otPcTab .ot-sdk-container{padding:0;margin:0}#onetrust-pc-sdk.otPcTab #pc-title{margin-left:10px;margin-top:10px;max-width:60%}#onetrust-pc-sdk.otPcTab .description-container{margin:0;padding-top:20px;padding-right:20px;padding-bottom:15px;padding-left:20px;position:relative;left:auto}#onetrust-pc-sdk.otPcTab.ot-leg-opt-out .description-container{margin-top:20px;margin-left:20px;padding:0;padding-bottom:10px}#onetrust-pc-sdk.otPcTab .groups-container{max-height:none;height:auto;overflow:hidden}#onetrust-pc-sdk.otPcTab .ot-button-group-parent{padding-left:0;padding-right:0;position:relative}#onetrust-pc-sdk.otPcTab .ot-button-group,#onetrust-pc-sdk.otPcTab #accept-recommended-btn-handler{float:none}#onetrust-pc-sdk.otPcTab .save-preference-btn-handler,#onetrust-pc-sdk.otPcTab #accept-recommended-btn-handler,#onetrust-pc-sdk.otPcTab .ot-pc-refuse-all-handler{width:calc(100% - 33px)}}@media(max-width: 640px){#onetrust-pc-sdk.otPcTab .pc-header{padding:10px;width:calc(100% - 20px)}#onetrust-pc-sdk.otPcTab #ot-content{height:calc(100% - 275px)}#onetrust-pc-sdk.otPcTab .ot-button-group-parent{padding:15px;margin:0;width:calc(100% - 30px)}#onetrust-pc-sdk.otPcTab .ot-sdk-row .ot-sdk-columns{width:100%}#onetrust-pc-sdk.otPcTab .description-container{margin:0}#onetrust-pc-sdk.otPcTab.ot-leg-opt-out .description-container{margin-left:10px;width:calc(100% - 15px);margin-top:5px;margin-bottom:5px}#onetrust-pc-sdk.otPcTab .vendor-info{max-width:80%}#onetrust-pc-sdk.otPcTab #filter-container{bottom:5px;position:relative;float:right;right:15px}#onetrust-pc-sdk.otPcTab #vendor-list-content{height:calc(100% - 305px);width:calc(100% - 18px);padding-top:13px;padding-right:5px;padding-left:10px}#onetrust-pc-sdk.otPcTab #ot-triangle{top:190px}#onetrust-pc-sdk.otPcTab #ot-filter-modal{top:196px}#onetrust-pc-sdk.otPcTab .ot-pc-footer-logo a{width:auto}}@media(max-width: 600px){#onetrust-pc-sdk.otPcTab .vendor-content{overflow-y:scroll}#onetrust-pc-sdk.otPcTab #vendor-list-content{height:auto;overflow:hidden}#onetrust-pc-sdk.otPcTab #vendors-list-header{height:70px;padding:15px 0;width:100%}#onetrust-pc-sdk.otPcTab #search-container{display:inline-block;width:85%;position:absolute}#onetrust-pc-sdk.otPcTab .navigation-container{display:block;text-align:left;float:none;border-bottom:1px solid #d7d7d7;padding-bottom:15px;padding-left:15px}#onetrust-pc-sdk.otPcTab .action-container{width:calc(100% - 15px);float:none;bottom:auto;display:inline-block;padding-top:8px;padding-left:15px}#onetrust-pc-sdk.otPcTab #vendor-search-handler{width:90%}#onetrust-pc-sdk.otPcTab .ot-button-group-parent{display:inline-block;height:auto;margin-bottom:10px}}@media(max-width: 425px){#onetrust-pc-sdk.otPcTab #vendors-list .accordion-text{padding-top:6px;padding-right:25px;padding-bottom:10px;padding-left:25px}#onetrust-pc-sdk.otPcTab #vendors-list-container .ot-toggle-group,#onetrust-pc-sdk.otPcTab #hosts-list-container .ot-toggle-group{width:100%}#onetrust-pc-sdk.otPcTab #vendors-list-container .host-notice,#onetrust-pc-sdk.otPcTab #vendors-list-container .vendor-notice,#onetrust-pc-sdk.otPcTab #hosts-list-container .host-notice,#onetrust-pc-sdk.otPcTab #hosts-list-container .vendor-notice{width:100%;float:left;margin-left:30px}#onetrust-pc-sdk.otPcTab #vendors-list-container .ot-arrow-container,#onetrust-pc-sdk.otPcTab #hosts-list-container .ot-arrow-container{float:left}#onetrust-pc-sdk.otPcTab #vendors-list-container .vendor-info{float:left;width:100%;max-width:85%}#onetrust-pc-sdk.otPcTab #pc-title{max-width:100%}#onetrust-pc-sdk.otPcTab.ot-leg-opt-out .cookie-subgroups-container li.cookie-subgroup{margin-left:10px;width:calc(100% - 10px)}#onetrust-pc-sdk.otPcTab.ot-leg-opt-out #vendors-list-container .ot-toggle-group{width:auto;float:right}#onetrust-pc-sdk.otPcTab.ot-leg-opt-out #vendors-list-container .ot-arrow-container{float:right}#onetrust-pc-sdk.otPcTab.ot-leg-opt-out #vendors-list-container .vendor-info{max-width:47%}}@media only screen and (min-width: 320px)and (max-width: 896px)and (orientation: landscape){#onetrust-pc-sdk.otPcTab{height:100%}#onetrust-pc-sdk.otPcTab #ot-content{height:calc(100% - 162px)}#onetrust-pc-sdk.otPcTab .pc-header{padding:10px;width:calc(100% - 20px)}#onetrust-pc-sdk.otPcTab .ot-button-group-parent{padding:20px;width:calc(100% - 40px)}#onetrust-pc-sdk.otPcTab .vendor-content{overflow-y:scroll}#onetrust-pc-sdk.otPcTab #vendor-list-content{height:auto;overflow:hidden}#onetrust-pc-sdk.otPcTab .ot-button-group,#onetrust-pc-sdk.otPcTab #accept-recommended-btn-handler{float:right}#onetrust-pc-sdk.otPcTab .ot-pc-footer-logo,#onetrust-pc-sdk.otPcTab .save-preference-btn-handler,#onetrust-pc-sdk.otPcTab #accept-recommended-btn-handler{width:auto}}@media only screen and (min-width: 320px)and (max-width: 640px)and (orientation: landscape){#onetrust-pc-sdk.otPcTab .ot-sdk-row .ot-sdk-columns{width:100%}#onetrust-pc-sdk.otPcTab.ot-leg-opt-out .description-container{width:calc(100% - 15px)}}@media only screen and (min-width: 641px)and (max-width: 896px)and (orientation: landscape){#onetrust-pc-sdk.otPcTab .description-container{position:absolute;left:30%}}@media(max-width: 425px),(max-width: 896px)and (max-height: 425px)and (orientation: landscape){#onetrust-pc-sdk.otPcTab .pc-header{padding-right:20px}#onetrust-pc-sdk.otPcTab .pc-logo-container{margin-left:0px;margin-top:5px}#onetrust-pc-sdk.otPcTab .pc-logo{height:40px;width:150px}#onetrust-pc-sdk.otPcTab .pc-close-btn-container{margin-top:10px}#onetrust-pc-sdk.otPcTab .pc-close-btn-container .ot-close-icon{width:44px;height:44px;background-size:12px}#onetrust-pc-sdk.otPcTab .group-toggle{float:right;margin-left:10px;width:auto}#onetrust-pc-sdk.otPcTab.ot-leg-opt-out .group-toggle{margin-left:0px;padding-right:10px}#onetrust-pc-sdk.otPcTab #pc-privacy-header,#onetrust-pc-sdk.otPcTab .group-toggle .category-header{display:none}}@media only screen and (min-device-width: 768px)and (max-device-width: 1024px)and (orientation: landscape)and (-webkit-min-device-pixel-ratio: 1){#onetrust-pc-sdk.otPcTab #vendors-list-header input{min-width:250px;max-width:300px}}
            #onetrust-consent-sdk #onetrust-pc-sdk,
                #onetrust-consent-sdk #search-container,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-switch.ot-toggle,
                #onetrust-consent-sdk #onetrust-pc-sdk group-toggle .checkbox,
                #onetrust-consent-sdk #onetrust-pc-sdk #pc-title:after
                 {
                    background-color: #FFFFFF;
                }
               
            #onetrust-consent-sdk #onetrust-pc-sdk h3,
                #onetrust-consent-sdk #onetrust-pc-sdk h4,
                #onetrust-consent-sdk #onetrust-pc-sdk h5,
                #onetrust-consent-sdk #onetrust-pc-sdk h6,
                #onetrust-consent-sdk #onetrust-pc-sdk p,
                #onetrust-consent-sdk #onetrust-pc-sdk #vendors-list-container .vendor-options p,
                #onetrust-consent-sdk #onetrust-pc-sdk #pc-policy-text,
                #onetrust-consent-sdk #onetrust-pc-sdk #pc-title,
                #onetrust-consent-sdk #onetrust-pc-sdk .leg-int-title,
                #onetrust-consent-sdk #onetrust-pc-sdk .leg-int-sel-all-hdr span,
                #onetrust-consent-sdk #onetrust-pc-sdk #hosts-list-container .vendor-host,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-filter-modal #modal-header,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-checkbox label span,
                #onetrust-consent-sdk #onetrust-pc-sdk #vendors-list #select-all-container p,
                #onetrust-consent-sdk #onetrust-pc-sdk #vendors-list #vendors-list-title,
                #onetrust-consent-sdk #onetrust-pc-sdk #vendors-list .back-btn-handler p,
                #onetrust-consent-sdk #onetrust-pc-sdk #vendors-list .vendor-title,
                #onetrust-consent-sdk #onetrust-pc-sdk #vendors-list #vendors-list-container .consent-category,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-inactive-leg-btn,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-label-status,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-chkbox label span,
                #onetrust-consent-sdk #onetrust-pc-sdk #clear-filters-handler 
                {
                    color: #696969;
                }
             #onetrust-consent-sdk #onetrust-pc-sdk .privacy-notice-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler + a,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-host-list-handler,
                    #onetrust-consent-sdk #onetrust-pc-sdk .vendor-privacy-notice,
                    #onetrust-consent-sdk #onetrust-pc-sdk #hosts-list-container .host-title a,
                    #onetrust-consent-sdk #onetrust-pc-sdk #hosts-list-container .accordion-header .host-view-cookies,
                    #onetrust-consent-sdk #onetrust-pc-sdk #hosts-list-container .vendor-host a,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-content #pc-policy-text .ot-link-btn
                    {
                        color: #3860BE;
                    }
            #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler:hover { opacity: .7;}
            
             #onetrust-consent-sdk #onetrust-pc-sdk #hosts-list-container .vendor-host,
                    #onetrust-consent-sdk #onetrust-pc-sdk .accordion-text .vendor-options
                            {
                                background-color: #F8F8F8;
                            }
        #onetrust-consent-sdk #onetrust-pc-sdk 
            button:not(#clear-filters-handler):not(.ot-close-icon):not(#filter-btn-handler):not(.ot-remove-objection-handler):not(.ot-obj-leg-btn-handler):not([aria-expanded]):not(.ot-link-btn),
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-active-leg-btn {
                background-color: #1d428a;border-color: #1d428a;
                color: #FFFFFF;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .active-group {
                border-color: #1d428a;
            }
            
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-remove-objection-handler{
                background-color: transparent;
                border: 1px solid transparent;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-inactive-leg-btn {
                background-color: #FFFFFF;
                color: #78808E; border-color: #78808E;
            }
            
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-tgl input:focus + .ot-switch, .ot-switch .ot-switch-nob, .ot-switch .ot-switch-nob:before,
            #onetrust-pc-sdk .ot-checkbox input[type="checkbox"]:focus + label::before,
            #onetrust-pc-sdk .ot-chkbox input[type="checkbox"]:focus + label::before {
                outline-color: #000000;
                outline-width: 1px;
            }
            #onetrust-pc-sdk .ot-host-item > button:focus, #onetrust-pc-sdk .ot-ven-item > button:focus {
                border: 1px solid #000000;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk *:focus,
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-vlst-cntr > a:focus {
               outline: 1px solid #000000;
            }#onetrust-consent-sdk #onetrust-pc-sdk .category-menu-switch-handler {
                    background-color: #F4F4F4
                }#onetrust-consent-sdk #onetrust-pc-sdk .active-group {
                    background-color: #FFFFFF
                }
            #onetrust-pc-sdk input[type="checkbox"]:focus + .accordion-header,
            #onetrust-pc-sdk .category-item .ot-switch.ot-toggle input:focus + .ot-switch-label,
            #onetrust-pc-sdk .checkbox input:focus + label::after {
                outline-color: #000000;
                outline-width: 1px;
            }#onetrust-pc-sdk .group h3 {
    font-size: 1em !important;
}

#onetrust-pc-sdk .description-container h3 {
    font-size: 1em !important;   
}

#onetrust-banner-sdk h2, #onetrust-pc-sdk h2, #ot-sdk-cookie-policy h2 {
    font-size: 1.5em !important;
}

#onetrust-pc-sdk .group-description {
    font-size: .82em !important;    
}

#onetrust-pc-sdk #vendors-list-title {
font-size: 0.9em  !important; 
}

#onetrust-pc-sdk .host-title {
font-size: 0.8em ! important;
}

#onetrust-pc-sdk #hosts-list-container .host-option-group li > div div {
    font-size: 1.2em !important;
}
.ot-sdk-cookie-policy{font-family:inherit;font-size:16px}.ot-sdk-cookie-policy.otRelFont{font-size:1rem}.ot-sdk-cookie-policy h3,.ot-sdk-cookie-policy h4,.ot-sdk-cookie-policy h6,.ot-sdk-cookie-policy p,.ot-sdk-cookie-policy li,.ot-sdk-cookie-policy a,.ot-sdk-cookie-policy th,.ot-sdk-cookie-policy #cookie-policy-description,.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group,.ot-sdk-cookie-policy #cookie-policy-title{color:dimgray}.ot-sdk-cookie-policy #cookie-policy-description{margin-bottom:1em}.ot-sdk-cookie-policy h4{font-size:1.2em}.ot-sdk-cookie-policy h6{font-size:1em;margin-top:2em}.ot-sdk-cookie-policy th{min-width:75px}.ot-sdk-cookie-policy a,.ot-sdk-cookie-policy a:hover{background:#fff}.ot-sdk-cookie-policy thead{background-color:#f6f6f4;font-weight:bold}.ot-sdk-cookie-policy .ot-mobile-border{display:none}.ot-sdk-cookie-policy section{margin-bottom:2em}.ot-sdk-cookie-policy table{border-collapse:inherit}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy{font-family:inherit;font-size:1rem}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h6,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy p,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-title{color:dimgray}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description{margin-bottom:1em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup{margin-left:1.5em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group-desc,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-table-header,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy span,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td{font-size:.9em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td span,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td a{font-size:inherit}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group{font-size:1em;margin-bottom:.6em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-title{margin-bottom:1.2em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy>section{margin-bottom:1em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th{min-width:75px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a:hover{background:#fff}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead{background-color:#f6f6f4;font-weight:bold}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-mobile-border{display:none}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy section{margin-bottom:2em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup ul li{list-style:disc;margin-left:1.5em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup ul li h4{display:inline-block}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table{border-collapse:inherit;margin:auto;border:1px solid #d7d7d7;border-radius:5px;border-spacing:initial;width:100%;overflow:hidden}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table td{border-bottom:1px solid #d7d7d7;border-right:1px solid #d7d7d7}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td{border-bottom:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr th:last-child,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr td:last-child{border-right:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-host,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-cookies-type{width:25%}.ot-sdk-cookie-policy[dir=rtl]{text-align:left}#ot-sdk-cookie-policy h3{font-size:1.5em}@media only screen and (max-width: 530px){.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) table,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) thead,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tbody,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) th,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr{display:block}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) thead tr{position:absolute;top:-9999px;left:-9999px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr{margin:0 0 1em 0}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr:nth-child(odd),.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr:nth-child(odd) a{background:#f6f6f4}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td{border:none;border-bottom:1px solid #eee;position:relative;padding-left:50%}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td:before{position:absolute;height:100%;left:6px;width:40%;padding-right:10px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) .ot-mobile-border{display:inline-block;background-color:#e4e4e4;position:absolute;height:100%;top:0;left:45%;width:2px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td:before{content:attr(data-label);font-weight:bold}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) li{word-break:break-word;word-wrap:break-word}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table{overflow:hidden}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table td{border:none;border-bottom:1px solid #d7d7d7}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tbody,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tr{display:block}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-host,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-cookies-type{width:auto}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tr{margin:0 0 1em 0}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td:before{height:100%;width:40%;padding-right:10px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td:before{content:attr(data-label);font-weight:bold}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li{word-break:break-word;word-wrap:break-word}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead tr{position:absolute;top:-9999px;left:-9999px;z-index:-9999}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td{border-bottom:1px solid #d7d7d7;border-right:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td:last-child{border-bottom:0px}}
                
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h5,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h6,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy p,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy span,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description {
                        color: #696969;
                    }
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th {
                        color: #696969;
                    }
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group {
                        color: #696969;
                    }
                    
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-title {
                            color: #696969;
                        }
                    
            
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table th {
                            background-color: #F8F8F8;
                        }
                    
            .ot-floating-button__front{background-image:url('https://optanon.blob.core.windows.net/logos/static/ot_persistent_cookie.png')}</style><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.15.js" id="utag_vmware.microsites-privacy_15"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.21.js" id="utag_vmware.microsites-privacy_21"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.22.js" id="utag_vmware.microsites-privacy_22"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.23.js" id="utag_vmware.microsites-privacy_23"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.26.js" id="utag_vmware.microsites-privacy_26"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.33.js" id="utag_vmware.microsites-privacy_33"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.69.js" id="utag_vmware.microsites-privacy_69"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.112.js" id="utag_vmware.microsites-privacy_112"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.123.js" id="utag_vmware.microsites-privacy_123"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.129.js" id="utag_vmware.microsites-privacy_129"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.132.js" id="utag_vmware.microsites-privacy_132"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.156.js" id="utag_vmware.microsites-privacy_156"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.168.js" id="utag_vmware.microsites-privacy_168"></script><script type="text/javascript" async="" charset="utf-8" src="./Tutorial _ Building REST services with Spring_files/utag.244.js" id="utag_vmware.microsites-privacy_244"></script><link id="mktoForms2BaseStyle" rel="stylesheet" type="text/css" href="./Tutorial _ Building REST services with Spring_files/forms2.css"><link id="mktoForms2ThemeStyle" rel="stylesheet" type="text/css" href="./Tutorial _ Building REST services with Spring_files/forms2-theme-simple.css"><script type="text/javascript" src="./Tutorial _ Building REST services with Spring_files/oct.js"></script><script src="./Tutorial _ Building REST services with Spring_files/4069065.js" type="text/javascript" async="" data-ueto="ueto_ed99b602ae"></script><meta http-equiv="origin-trial" content="A7bG5hJ4XpMV5a3V1wwAR0PalkFSxLOZeL9D/YBYdupYUIgUgGhfVJ1zBFOqGybb7gRhswfJ+AmO7S2rNK2IOwkAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjY5NzY2Mzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A7bG5hJ4XpMV5a3V1wwAR0PalkFSxLOZeL9D/YBYdupYUIgUgGhfVJ1zBFOqGybb7gRhswfJ+AmO7S2rNK2IOwkAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjY5NzY2Mzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"></head>
<body id="guide" class=" light">
<script src="./Tutorial _ Building REST services with Spring_files/theme-f367e6936a70ad2e6b3dcb91c6673a9f.js"></script>
<a href="https://springone.io/?utm_source=spring-io-home" id="global-banner" target="_blank" name="&amp;lpos=apps_scodevmw : 0" onclick="s_objectID=&#39;apps_scodevmw : Meet the Spring team this December at SpringOne in San Francisco. &gt; : 0&#39;">
<div class="container">
Meet the Spring team this December at SpringOne in San Francisco. &gt;
</div>
</a>
<header>
<nav id="nav">
<div id="nav-inner" class="container flex jc-between ai-center">
<a id="logo-focus" tabindex="1" href="https://spring.io/" name="&amp;lpos=apps_scodevmw : 1" onclick="s_objectID=&#39;apps_scodevmw : /images/spring-logo-2022-93b99aee11ba10c57283810ff6f7f500.svg : 1&#39;">
<img id="springlogo" class="block" src="./Tutorial _ Building REST services with Spring_files/spring-logo-2022-93b99aee11ba10c57283810ff6f7f500.svg" alt="Spring">
<img id="springlogo-dark" class="block" src="./Tutorial _ Building REST services with Spring_files/spring-logo-2022-dark-2f10e8055653ec50e693eb444291d742.svg" alt="Spring">
</a>
<ul id="nav-items" class="flex jc-between">
<li><div class="has-menu" id="why-hov"><span tabindex="2">Why Spring</span><div class="nav-arrow"></div></div></li>
<li><div class="has-menu" id="learn-hov"><span tabindex="11">Learn</span><div class="nav-arrow"></div></div></li>
<li><div class="has-menu" id="projects-hov"><span tabindex="17">Projects</span><div class="nav-arrow"></div></div></li>
<li><a class="z-5 rel" href="https://spring.io/training" tabindex="30">Training</a></li>
<li><a class="z-5 rel" href="https://spring.io/support" tabindex="31" name="&amp;lpos=apps_scodevmw : 3" onclick="s_objectID=&#39;apps_scodevmw : Support : 3&#39;">Support</a></li>
<li><a class="has-menu" id="community-hov"><span tabindex="32">Community</span><div class="nav-arrow"></div></a></li>
<li>
<a id="switch-theme" class="theme-switch">
<span>
<i class="fas fa-moon"></i>
<i class="fas fa-sun"></i>
</span>
</a>
</li>

</ul>
</div>
<div id="dropdown-menus" class="container rel">
<div id="scope" class="abs rad-5"></div>
<div id="why-items" class="drop-menu">
<div id="why-target" class="drop-target"></div>
<ul>
<li><a tabindex="3" href="https://spring.io/why-spring">Overview</a></li>
<li><a tabindex="4" href="https://spring.io/microservices">Microservices</a></li>
<li><a tabindex="5" href="https://spring.io/reactive">Reactive</a></li>
<li><a tabindex="6" href="https://spring.io/event-driven">Event Driven</a></li>
<li><a tabindex="7" href="https://spring.io/cloud">Cloud</a></li>
<li><a tabindex="8" href="https://spring.io/web-applications">Web Applications</a></li>
<li><a tabindex="9" href="https://spring.io/serverless">Serverless</a></li>
<li><a tabindex="10" href="https://spring.io/batch">Batch</a></li>
</ul>
</div>
<div id="learn-items" class="drop-menu">
<div id="learn-target" class="drop-target"></div>
<ul>
<li><a tabindex="12" href="https://spring.io/learn">Overview</a></li>
<li><a tabindex="13" href="https://spring.io/quickstart">Quickstart</a></li>
<li><a tabindex="14" href="https://spring.io/guides">Guides</a></li>

<li><a tabindex="16" href="https://spring.io/blog">Blog</a></li>
</ul>
</div>
<div id="project-items" class="drop-menu">
<div id="project-target" class="drop-target"></div>
<ul>
<li><a tabindex="18" href="https://spring.io/projects">Overview</a></li>
<li><a tabindex="19" href="https://spring.io/projects/spring-boot">Spring Boot</a></li>
<li><a tabindex="20" href="https://spring.io/projects/spring-framework">Spring Framework</a></li>
<li><a tabindex="21" href="https://spring.io/projects/spring-cloud">Spring Cloud</a></li>
<li><a tabindex="22" href="https://spring.io/projects/spring-cloud-dataflow">Spring Cloud Data Flow</a></li>
<li><a tabindex="23" href="https://spring.io/projects/spring-data">Spring Data</a></li>
<li><a tabindex="24" href="https://spring.io/projects/spring-integration">Spring Integration</a></li>
<li><a tabindex="25" href="https://spring.io/projects/spring-batch">Spring Batch</a></li>
<li><a tabindex="26" href="https://spring.io/projects/spring-security">Spring Security</a></li>
<li><a tabindex="27" class="blue mb-2 inline-block" href="https://spring.io/projects">View all projects</a></li>
<li class="uppercase smallest">Development Tools</li>
<li><a tabindex="28" href="https://spring.io/tools">Spring Tools 4</a></li>
<li><a tabindex="29" href="https://start.spring.io/">Spring Initializr <svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><polyline points="15 10.94 15 15 1 15 1 1 5.06 1" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2"></polyline><polyline points="8.93 1 15 1 15 7.07" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2"></polyline><line x1="15" y1="1" x2="8" y2="8" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2"></line></svg></a></li>
</ul>
</div>
<div id="community-items" class="drop-menu">
<div id="community-target" class="drop-target"></div>
<ul>
<li><a tabindex="33" href="https://spring.io/community">Overview</a></li>
<li><a tabindex="34" href="https://spring.io/events">Events</a></li>
<li><a tabindex="35" href="https://spring.io/team">Team</a></li>
</ul>
</div>
</div>
</nav>
<div id="mobile-nav-open" class="pointer">
<div id="hamburger">
<div class="burger-bar"></div>
<div class="burger-bar"></div>
<div class="burger-bar"></div>
</div>
<svg version="1.1" class="mobile-close pointer" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 14.6 14.6" style="enable-background:new 0 0 14.6 14.6;" xml:space="preserve"><style type="text/css">.st0{fill:none;stroke:#000000;stroke-widdata-th-3;stroke-miterlimit:10;}</style><title>close</title><line class="st0" x1="1.5" y1="1.5" x2="13.1" y2="13.1"></line><line class="st0" x1="13.1" y1="1.5" x2="1.5" y2="13.1"></line></svg>
</div>
<nav id="mobile-nav" class="border-box rel">
<div class="rel">
<div id="mobile-why" class="mobile-category flex jc-between ai-center">
<div class="mobile-title antialiased cursor-d">Why Spring</div>
<div class="mobile-nav-arrow"></div>
</div>
<div id="mobile-why-items" class="mobile-expanded-category">
<ul>
<li><a href="https://spring.io/why-spring">Overview</a></li>
<li><a href="https://spring.io/microservices">Microservices</a></li>
<li><a href="https://spring.io/reactive">Reactive</a></li>
<li><a href="https://spring.io/event-driven">Event Driven</a></li>
<li><a href="https://spring.io/cloud">Cloud</a></li>
<li><a href="https://spring.io/web-applications">Web Applications</a></li>
<li><a href="https://spring.io/serverless">Serverless</a></li>
<li><a href="https://spring.io/batch">Batch</a></li>
</ul>
</div>
<div id="mobile-learn" class="mobile-category flex jc-between ai-center">
<div class="mobile-title antialiased cursor-d">Learn</div>
<div class="mobile-nav-arrow"></div>
</div>
<div id="mobile-learn-items" class="mobile-expanded-category">
<ul>
<li><a href="https://spring.io/learn">Overview</a></li>
<li><a href="https://spring.io/quickstart">Quickstart</a></li>
<li><a href="https://spring.io/guides">Guides</a></li>

<li><a href="https://spring.io/blog">Blog</a></li>
</ul>
</div>
<div id="mobile-projects" class="mobile-category flex jc-between ai-center">
<div class="mobile-title antialiased cursor-d">Projects</div>
<div class="mobile-nav-arrow"></div>
</div>
<div id="mobile-project-items" class="mobile-expanded-category">
<ul>
<li><a href="https://spring.io/projects">Overview</a></li>
<li><a href="https://spring.io/projects/spring-boot">Spring Boot</a></li>
<li><a href="https://spring.io/projects/spring-framework">Spring Framework</a></li>
<li><a href="https://spring.io/projects/spring-cloud">Spring Cloud</a></li>
<li><a href="https://spring.io/projects/spring-cloud-dataflow">Spring Cloud Data Flow</a></li>
<li><a href="https://spring.io/projects/spring-data">Spring Data</a></li>
<li><a href="https://spring.io/projects/spring-integration">Spring Integration</a></li>
<li><a href="https://spring.io/projects/spring-batch">Spring Batch</a></li>
<li><a href="https://spring.io/projects/spring-security">Spring Security</a></li>
<li><a class="blue mb-2 inline-block" href="https://spring.io/projects">View all projects</a></li>
<p class="uppercase smallest white">Development Tools</p>
<li><a href="https://spring.io/tools">Spring Tools 4</a></li>
<li><a href="https://start.spring.io/">Spring Initializr <svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><polyline points="15 10.94 15 15 1 15 1 1 5.06 1" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2"></polyline><polyline points="8.93 1 15 1 15 7.07" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2"></polyline><line x1="15" y1="1" x2="8" y2="8" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2"></line></svg></a></li>
</ul>
</div>
<a href="https://spring.io/training" class="mobile-link block"><div class="mobile-title antialiased">Training</div></a>
<a href="https://spring.io/support" class="mobile-link block"><div class="mobile-title antialiased">Support</div></a>
<div id="mobile-community" class="mobile-category flex jc-between ai-center">
<div class="mobile-title antialiased cursor-d">Community</div>
<div class="mobile-nav-arrow"></div>
</div>
<div id="mobile-community-items" class="mobile-expanded-category">
<ul>
<li><a href="https://spring.io/community">Overview</a></li>
<li><a href="https://spring.io/events">Events</a></li>
<li><a href="https://spring.io/team">Team</a></li>
</ul>
</div>

</div>
</nav>
<div id="search-nav" role="search">
<div class="container relative">
<form id="searchheaderform" action="https://spring.io/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="">
<input type="text" name="q" id="searchheaderinput" autocomplete="off" placeholder="Search for documentation, guides, and posts...">
<input type="submit" value="" id="searchheadersubmit" data-disable-with="">
</form>

</div>
</div>
</header>
<div>
<div></div>
<div class="container-fluid">
<main class="main-body--wrapper">
<div class="row-fluid">
<div class="span8 mobile-left-pane">
<div class="content--title desktop-only">Tutorial</div>
<a href="https://spring.io/guides" class="uppercase smallest bold backlink blue link-darken block" name="&amp;lpos=apps_scodevmw : 62" onclick="s_objectID=&#39;apps_scodevmw : ALL GUIDES : 62&#39;"><div class="arrow"></div>All Guides</a>
<article class="content--container">
<h1 class="title">Building REST services with Spring</h1>
<div class="article-body"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>REST has quickly become the de-facto standard for building web services on the web because theyre easy to build and easy to consume.</p>
</div>
<div class="paragraph">
<p>Theres a much larger discussion to be had about how REST fits in the world of microservices, but  for this tutorial  lets just look at building RESTful services.</p>
</div>
<div class="paragraph">
<p>Why REST? REST embraces the precepts of the web, including its architecture, benefits, and everything else. This is no surprise given its author, Roy Fielding, was involved in probably a dozen specs which govern how the web operates.</p>
</div>
<div class="paragraph">
<p>What benefits? The web and its core protocol, HTTP, provide a stack of features:</p>
</div>
<div class="ulist">
<ul>
<li> <p>Suitable actions (<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, )</p> </li>
<li> <p>Caching</p> </li>
<li> <p>Redirection and forwarding</p> </li>
<li> <p>Security (encryption and authentication)</p> </li>
</ul>
</div>
<div class="paragraph">
<p>These are all critical factors on building resilient services. But that is not all. The web is built out of lots of tiny specs, hence its been able to evolve easily, without getting bogged down in "standards wars".</p>
</div>
<div class="paragraph">
<p>Developers are able to draw upon 3rd party toolkits that implement these diverse specs and instantly have both client and server technology at their fingertips.</p>
</div>
<div class="paragraph">
<p>By building on top of HTTP, REST APIs provide the means to build:</p>
</div>
<div class="ulist">
<ul>
<li> <p>Backwards compatible APIs</p> </li>
<li> <p>Evolvable APIs</p> </li>
<li> <p>Scaleable services</p> </li>
<li> <p>Securable services</p> </li>
<li> <p>A spectrum of stateless to stateful services</p> </li>
</ul>
</div>
<div class="paragraph">
<p>Whats important to realize is that REST, however ubiquitous, is not a standard, <em>per se</em>, but an approach, a style, a set of <em>constraints</em> on your architecture that can help you build web-scale systems. In this tutorial we will use the Spring portfolio to build a RESTful service while leveraging the stackless features of REST.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started">Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As we work through this tutorial, well use <a href="https://spring.io/projects/spring-boot">Spring Boot</a>. Go to <a href="https://start.spring.io/">Spring Initializr</a> and add the following dependencies to a project:</p>
</div>
<div class="ulist">
<ul>
<li> <p>Web</p> </li>
<li> <p>JPA</p> </li>
<li> <p>H2</p> </li>
</ul>
</div>
<div class="paragraph">
<p>Change the Name to "Payroll" and then choose "Generate Project". A <code>.zip</code> will download. Unzip it. Inside youll find a simple, Maven-based project including a <code>pom.xml</code> build file (NOTE: You <em>can</em> use Gradle. The examples in this tutorial will be Maven-based.)</p>
</div>
<div class="paragraph">
<p>Spring Boot can work with any IDE. You can use Eclipse, IntelliJ IDEA, Netbeans, etc. <a href="https://spring.io/tools/">The Spring Tool Suite</a> is an open-source, Eclipse-based IDE distribution that provides a superset of the Java EE distribution of Eclipse. It includes features that make working with Spring applications even easier. It is, by no means, required. But consider it if you want that extra <strong>oomph</strong> for your keystrokes. Heres a video demonstrating how to get started with STS and Spring Boot. This is a general introduction to familiarize you with the tools.</p>
</div>
<div class="videoblock">
<div class="content"> <iframe src="./Tutorial _ Building REST services with Spring_files/p8AdyMlpmPk.html" frameborder="0" allowfullscreen=""></iframe>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_story_so_far">The Story so Far</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lets start off with the simplest thing we can construct. In fact, to make it as simple as possible, we can even leave out the concepts of REST. (Later on, well add REST to understand the difference.)</p>
</div>
<div class="paragraph">
<p>Big picture: Were going to create a simple payroll service that manages the employees of a company. Well store employee objects in a (H2 in-memory) database, and access them (via something called <abbr title="Java Persistence APIbasically it lets you map Java objects to relational database tables.">JPA</abbr>). Then well wrap that with something that will allow access over the internet (called the Spring <abbr title="Model-View-Controlleritll be explained later.">MVC</abbr> layer).</p>
</div>
<div class="paragraph">
<p>The following code defines an Employee in our system.</p>
</div>
<div class="listingblock">
<div class="title">
nonrest/src/main/java/payroll/Employee.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.</span><span class="typ">Objects</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">Entity</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">GeneratedValue</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">Id</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@Entity</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Employee</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">private</span><span class="pln"> </span><span class="lit">@Id</span><span class="pln"> </span><span class="lit">@GeneratedValue</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> name</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> role</span><span class="pun">;</span><span class="pln">

  </span><span class="typ">Employee</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  </span><span class="typ">Employee</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> role</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role </span><span class="pun">=</span><span class="pln"> role</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> getId</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getName</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getRole</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setId</span><span class="pun">(</span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id </span><span class="pun">=</span><span class="pln"> id</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setName</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setRole</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> role</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role </span><span class="pun">=</span><span class="pln"> role</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@Override</span><span class="pln">
  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> equals</span><span class="pun">(</span><span class="typ">Object</span><span class="pln"> o</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> o</span><span class="pun">)</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!(</span><span class="pln">o </span><span class="kwd">instanceof</span><span class="pln"> </span><span class="typ">Employee</span><span class="pun">))</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">Employee</span><span class="pln"> employee </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Employee</span><span class="pun">)</span><span class="pln"> o</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> employee</span><span class="pun">.</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name</span><span class="pun">,</span><span class="pln"> employee</span><span class="pun">.</span><span class="pln">name</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role</span><span class="pun">,</span><span class="pln"> employee</span><span class="pun">.</span><span class="pln">role</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@Override</span><span class="pln">
  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> hashCode</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">hash</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@Override</span><span class="pln">
  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Employee{"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"id="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id </span><span class="pun">+</span><span class="pln"> </span><span class="str">", name='"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">+</span><span class="pln"> </span><span class="str">'\''</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">", role='"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role </span><span class="pun">+</span><span class="pln"> </span><span class="str">'\''</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">'}'</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

import java.util.Objects;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;

@Entity
class Employee {

  private @Id @GeneratedValue Long id;
  private String name;
  private String role;

  Employee() {}

  Employee(String name, String role) {

    this.name = name;
    this.role = role;
  }

  public Long getId() {
    return this.id;
  }

  public String getName() {
    return this.name;
  }

  public String getRole() {
    return this.role;
  }

  public void setId(Long id) {
    this.id = id;
  }

  public void setName(String name) {
    this.name = name;
  }

  public void setRole(String role) {
    this.role = role;
  }

  @Override
  public boolean equals(Object o) {

    if (this == o)
      return true;
    if (!(o instanceof Employee))
      return false;
    Employee employee = (Employee) o;
    return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.name, employee.name)
        &amp;&amp; Objects.equals(this.role, employee.role);
  }

  @Override
  public int hashCode() {
    return Objects.hash(this.id, this.name, this.role);
  }

  @Override
  public String toString() {
    return &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, name=&#39;&quot; + this.name + &#39;\&#39;&#39; + &quot;, role=&#39;&quot; + this.role + &#39;\&#39;&#39; + &#39;}&#39;;
  }
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>Despite being small, this Java class contains much:</p>
</div>
<div class="ulist">
<ul>
<li> <p><code>@Entity</code> is a JPA annotation to make this object ready for storage in a JPA-based data store.</p> </li>
<li> <p><code>id</code>, <code>name</code>, and <code>role</code> are attributes of our Employee <a href="https://www.google.com/search?q=what+is+a+domain+object+in+java">domain object</a>. <code>id</code> is marked with more JPA annotations to indicate its the primary key and automatically populated by the JPA provider.</p> </li>
<li> <p>a custom constructor is created when we need to create a new instance, but dont yet have an id.</p> </li>
</ul>
</div>
<div class="paragraph">
<p>With this domain object definition, we can now turn to <a href="https://spring.io/guides/gs/accessing-data-jpa/">Spring Data JPA</a> to handle the tedious database interactions.</p>
</div>
<div class="paragraph">
<p>Spring Data JPA repositories are interfaces with methods supporting creating, reading, updating, and deleting records against a back end data store. Some repositories also support data paging, and sorting, where appropriate. Spring Data synthesizes implementations based on conventions found in the naming of the methods in the interface.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
<td class="content"> There are multiple repository implementations besides JPA. You can use Spring Data MongoDB, Spring Data GemFire, Spring Data Cassandra, etc. For this tutorial, well stick with JPA. </td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph">
<p>Spring makes accessing data easy. By simply declaring the following <code>EmployeeRepository</code> interface we automatically will be able to</p>
</div>
<div class="ulist">
<ul>
<li> <p>Create new Employees</p> </li>
<li> <p>Update existing ones</p> </li>
<li> <p>Delete Employees</p> </li>
<li> <p>Find Employees (one, all, or search by simple or complex properties)</p> </li>
</ul>
</div>
<div class="listingblock">
<div class="title">
nonrest/src/main/java/payroll/EmployeeRepository.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">jpa</span><span class="pun">.</span><span class="pln">repository</span><span class="pun">.</span><span class="typ">JpaRepository</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">EmployeeRepository</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">JpaRepository</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Long</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

import org.springframework.data.jpa.repository.JpaRepository;

interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {

}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>To get all this free functionality, all we had to do was declare an interface which extends Spring Data JPAs <code>JpaRepository</code>, specifying the domain type as <code>Employee</code> and the id type as <code>Long</code>.</p>
</div>
<div class="paragraph">
<p>Spring Datas <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories">repository solution</a> makes it possible to sidestep data store specifics and instead solve a majority of problems using domain-specific terminology.</p>
</div>
<div class="paragraph">
<p>Believe it or not, this is enough to launch an application! A Spring Boot application is, at a minimum, a <code>public static void main</code> entry-point and the <code>@SpringBootApplication</code> annotation. This tells Spring Boot to help out, wherever possible.</p>
</div>
<div class="listingblock">
<div class="title">
nonrest/src/main/java/payroll/PayrollApplication.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">boot</span><span class="pun">.</span><span class="typ">SpringApplication</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">boot</span><span class="pun">.</span><span class="pln">autoconfigure</span><span class="pun">.</span><span class="typ">SpringBootApplication</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@SpringBootApplication</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">PayrollApplication</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">...</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">SpringApplication</span><span class="pun">.</span><span class="pln">run</span><span class="pun">(</span><span class="typ">PayrollApplication</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class PayrollApplication {

  public static void main(String... args) {
    SpringApplication.run(PayrollApplication.class, args);
  }
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p><code>@SpringBootApplication</code> is a meta-annotation that pulls in <strong>component scanning</strong>, <strong>autoconfiguration</strong>, and <strong>property support</strong>. We wont dive into the details of Spring Boot in this tutorial, but in essence, it will fire up a servlet container and serve up our service.</p>
</div>
<div class="paragraph">
<p>Nevertheless, an application with no data isnt very interesting, so lets preload it. The following class will get loaded automatically by Spring:</p>
</div>
<div class="listingblock">
<div class="title">
nonrest/src/main/java/payroll/LoadDatabase.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">slf4j</span><span class="pun">.</span><span class="typ">Logger</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">slf4j</span><span class="pun">.</span><span class="typ">LoggerFactory</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">boot</span><span class="pun">.</span><span class="typ">CommandLineRunner</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">context</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">Bean</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">context</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">Configuration</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@Configuration</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">LoadDatabase</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">Logger</span><span class="pln"> log </span><span class="pun">=</span><span class="pln"> </span><span class="typ">LoggerFactory</span><span class="pun">.</span><span class="pln">getLogger</span><span class="pun">(</span><span class="typ">LoadDatabase</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span><span class="pln">

  </span><span class="lit">@Bean</span><span class="pln">
  </span><span class="typ">CommandLineRunner</span><span class="pln"> initDatabase</span><span class="pun">(</span><span class="typ">EmployeeRepository</span><span class="pln"> repository</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> args </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      log</span><span class="pun">.</span><span class="pln">info</span><span class="pun">(</span><span class="str">"Preloading "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Employee</span><span class="pun">(</span><span class="str">"Bilbo Baggins"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"burglar"</span><span class="pun">)));</span><span class="pln">
      log</span><span class="pun">.</span><span class="pln">info</span><span class="pun">(</span><span class="str">"Preloading "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Employee</span><span class="pun">(</span><span class="str">"Frodo Baggins"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"thief"</span><span class="pun">)));</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.boot.CommandLineRunner;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
class LoadDatabase {

  private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);

  @Bean
  CommandLineRunner initDatabase(EmployeeRepository repository) {

    return args -&gt; {
      log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));
      log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));
    };
  }
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>What happens when it gets loaded?</p>
</div>
<div class="ulist">
<ul>
<li> <p>Spring Boot will run ALL <code>CommandLineRunner</code> beans once the application context is loaded.</p> </li>
<li> <p>This runner will request a copy of the <code>EmployeeRepository</code> you just created.</p> </li>
<li> <p>Using it, it will create two entities and store them.</p> </li>
</ul>
</div>
<div class="paragraph">
<p>Right-click and <strong>Run</strong> <code>PayRollApplication</code>, and this is what you get:</p>
</div>
<div class="listingblock">
<div class="title">
Fragment of console output showing preloading of data
</div>
<div class="content">
<pre>...
2018-08-09 11:36:26.169  INFO 74611 --- [main] payroll.LoadDatabase : Preloading Employee(id=1, name=Bilbo Baggins, role=burglar)
2018-08-09 11:36:26.174  INFO 74611 --- [main] payroll.LoadDatabase : Preloading Employee(id=2, name=Frodo Baggins, role=thief)
...</pre>
</div>
</div>
<div class="paragraph">
<p>This isnt the <strong>whole</strong> log, but just the key bits of preloading data. (Indeed, check out the whole console. Its glorious.)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_http_is_the_platform">HTTP is the Platform</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To wrap your repository with a web layer, you must turn to Spring MVC. Thanks to Spring Boot, there is little in infrastructure to code. Instead, we can focus on actions:</p>
</div>
<div class="listingblock">
<div class="title">
nonrest/src/main/java/payroll/EmployeeController.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.</span><span class="typ">List</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">DeleteMapping</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">GetMapping</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">PathVariable</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">PostMapping</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">PutMapping</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">RequestBody</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">RestController</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@RestController</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">EmployeeController</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">EmployeeRepository</span><span class="pln"> repository</span><span class="pun">;</span><span class="pln">

  </span><span class="typ">EmployeeController</span><span class="pun">(</span><span class="typ">EmployeeRepository</span><span class="pln"> repository</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">repository </span><span class="pun">=</span><span class="pln"> repository</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">


  </span><span class="com">// Aggregate root</span><span class="pln">
  </span><span class="com">// tag::get-aggregate-root[]</span><span class="pln">
  </span><span class="lit">@GetMapping</span><span class="pun">(</span><span class="str">"/employees"</span><span class="pun">)</span><span class="pln">
  </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;</span><span class="pln"> all</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">findAll</span><span class="pun">();</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="com">// end::get-aggregate-root[]</span><span class="pln">

  </span><span class="lit">@PostMapping</span><span class="pun">(</span><span class="str">"/employees"</span><span class="pun">)</span><span class="pln">
  </span><span class="typ">Employee</span><span class="pln"> newEmployee</span><span class="pun">(</span><span class="lit">@RequestBody</span><span class="pln"> </span><span class="typ">Employee</span><span class="pln"> newEmployee</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="pln">newEmployee</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">// Single item</span><span class="pln">
  
  </span><span class="lit">@GetMapping</span><span class="pun">(</span><span class="str">"/employees/{id}"</span><span class="pun">)</span><span class="pln">
  </span><span class="typ">Employee</span><span class="pln"> one</span><span class="pun">(</span><span class="lit">@PathVariable</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    
    </span><span class="kwd">return</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">findById</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">orElseThrow</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">EmployeeNotFoundException</span><span class="pun">(</span><span class="pln">id</span><span class="pun">));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@PutMapping</span><span class="pun">(</span><span class="str">"/employees/{id}"</span><span class="pun">)</span><span class="pln">
  </span><span class="typ">Employee</span><span class="pln"> replaceEmployee</span><span class="pun">(</span><span class="lit">@RequestBody</span><span class="pln"> </span><span class="typ">Employee</span><span class="pln"> newEmployee</span><span class="pun">,</span><span class="pln"> </span><span class="lit">@PathVariable</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    
    </span><span class="kwd">return</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">findById</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">employee </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        employee</span><span class="pun">.</span><span class="pln">setName</span><span class="pun">(</span><span class="pln">newEmployee</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">());</span><span class="pln">
        employee</span><span class="pun">.</span><span class="pln">setRole</span><span class="pun">(</span><span class="pln">newEmployee</span><span class="pun">.</span><span class="pln">getRole</span><span class="pun">());</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="pln">employee</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">})</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">orElseGet</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        newEmployee</span><span class="pun">.</span><span class="pln">setId</span><span class="pun">(</span><span class="pln">id</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="pln">newEmployee</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@DeleteMapping</span><span class="pun">(</span><span class="str">"/employees/{id}"</span><span class="pun">)</span><span class="pln">
  </span><span class="kwd">void</span><span class="pln"> deleteEmployee</span><span class="pun">(</span><span class="lit">@PathVariable</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    repository</span><span class="pun">.</span><span class="pln">deleteById</span><span class="pun">(</span><span class="pln">id</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

import java.util.List;

import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RestController;

@RestController
class EmployeeController {

  private final EmployeeRepository repository;

  EmployeeController(EmployeeRepository repository) {
    this.repository = repository;
  }


  // Aggregate root
  // tag::get-aggregate-root[]
  @GetMapping(&quot;/employees&quot;)
  List&lt;Employee&gt; all() {
    return repository.findAll();
  }
  // end::get-aggregate-root[]

  @PostMapping(&quot;/employees&quot;)
  Employee newEmployee(@RequestBody Employee newEmployee) {
    return repository.save(newEmployee);
  }

  // Single item
  
  @GetMapping(&quot;/employees/{id}&quot;)
  Employee one(@PathVariable Long id) {
    
    return repository.findById(id)
      .orElseThrow(() -&gt; new EmployeeNotFoundException(id));
  }

  @PutMapping(&quot;/employees/{id}&quot;)
  Employee replaceEmployee(@RequestBody Employee newEmployee, @PathVariable Long id) {
    
    return repository.findById(id)
      .map(employee -&gt; {
        employee.setName(newEmployee.getName());
        employee.setRole(newEmployee.getRole());
        return repository.save(employee);
      })
      .orElseGet(() -&gt; {
        newEmployee.setId(id);
        return repository.save(newEmployee);
      });
  }

  @DeleteMapping(&quot;/employees/{id}&quot;)
  void deleteEmployee(@PathVariable Long id) {
    repository.deleteById(id);
  }
}">Copy</button></pre>
</div>
</div>
<div class="ulist">
<ul>
<li> <p><code>@RestController</code> indicates that the data returned by each method will be written straight into the response body instead of rendering a template.</p> </li>
<li> <p>An <code>EmployeeRepository</code> is injected by constructor into the controller.</p> </li>
<li> <p>We have routes for each operation (<code>@GetMapping</code>, <code>@PostMapping</code>, <code>@PutMapping</code> and <code>@DeleteMapping</code>, corresponding to HTTP <code>GET</code>, <code>POST</code>, <code>PUT</code>, and <code>DELETE</code> calls). (NOTE: Its useful to read each method and understand what they do.)</p> </li>
<li> <p><code>EmployeeNotFoundException</code> is an exception used to indicate when an employee is looked up but not found.</p> </li>
</ul>
</div>
<div class="listingblock">
<div class="title">
nonrest/src/main/java/payroll/EmployeeNotFoundException.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">EmployeeNotFoundException</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">RuntimeException</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="typ">EmployeeNotFoundException</span><span class="pun">(</span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">super</span><span class="pun">(</span><span class="str">"Could not find employee "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> id</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

class EmployeeNotFoundException extends RuntimeException {

  EmployeeNotFoundException(Long id) {
    super(&quot;Could not find employee &quot; + id);
  }
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>When an <code>EmployeeNotFoundException</code> is thrown, this extra tidbit of Spring MVC configuration is used to render an <strong>HTTP 404</strong>:</p>
</div>
<div class="listingblock">
<div class="title">
nonrest/src/main/java/payroll/EmployeeNotFoundAdvice.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="typ">HttpStatus</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">ControllerAdvice</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">ExceptionHandler</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">ResponseBody</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">ResponseStatus</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@ControllerAdvice</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">EmployeeNotFoundAdvice</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="lit">@ResponseBody</span><span class="pln">
  </span><span class="lit">@ExceptionHandler</span><span class="pun">(</span><span class="typ">EmployeeNotFoundException</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">)</span><span class="pln">
  </span><span class="lit">@ResponseStatus</span><span class="pun">(</span><span class="typ">HttpStatus</span><span class="pun">.</span><span class="pln">NOT_FOUND</span><span class="pun">)</span><span class="pln">
  </span><span class="typ">String</span><span class="pln"> employeeNotFoundHandler</span><span class="pun">(</span><span class="typ">EmployeeNotFoundException</span><span class="pln"> ex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> ex</span><span class="pun">.</span><span class="pln">getMessage</span><span class="pun">();</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

import org.springframework.http.HttpStatus;
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ExceptionHandler;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.bind.annotation.ResponseStatus;

@ControllerAdvice
class EmployeeNotFoundAdvice {

  @ResponseBody
  @ExceptionHandler(EmployeeNotFoundException.class)
  @ResponseStatus(HttpStatus.NOT_FOUND)
  String employeeNotFoundHandler(EmployeeNotFoundException ex) {
    return ex.getMessage();
  }
}">Copy</button></pre>
</div>
</div>
<div class="ulist">
<ul>
<li> <p><code>@ResponseBody</code> signals that this advice is rendered straight into the response body.</p> </li>
<li> <p><code>@ExceptionHandler</code> configures the advice to only respond if an <code>EmployeeNotFoundException</code> is thrown.</p> </li>
<li> <p><code>@ResponseStatus</code> says to issue an <code>HttpStatus.NOT_FOUND</code>, i.e. an <strong>HTTP 404</strong>.</p> </li>
<li> <p>The body of the advice generates the content. In this case, it gives the message of the exception.</p> </li>
</ul>
</div>
<div class="paragraph">
<p>To launch the application, either right-click the <code>public static void main</code> in <code>PayRollApplication</code> and select <strong>Run</strong> from your IDE, or:</p>
</div>
<div class="paragraph">
<p>Spring Initializr uses maven wrapper so type this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ./mvnw clean spring-boot:run</pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively using your installed maven version type this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn clean spring-boot:run</pre>
</div>
</div>
<div class="paragraph">
<p>When the app starts, we can immediately interrogate it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -v localhost:8080/employees</pre>
</div>
</div>
<div class="paragraph">
<p>This will yield:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*   Trying ::1...
* TCP_NODELAY set
* Connected to localhost (::1) port 8080 (#0)
&gt; GET /employees HTTP/1.1
&gt; Host: localhost:8080
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt;
&lt; HTTP/1.1 200
&lt; Content-Type: application/json;charset=UTF-8
&lt; Transfer-Encoding: chunked
&lt; Date: Thu, 09 Aug 2018 17:58:00 GMT
&lt;
* Connection #0 to host localhost left intact
[{"id":1,"name":"Bilbo Baggins","role":"burglar"},{"id":2,"name":"Frodo Baggins","role":"thief"}]</pre>
</div>
</div>
<div class="paragraph">
<p>Here you can see the pre-loaded data, in a compacted format.</p>
</div>
<div class="paragraph">
<p>If you try and query a user that doesnt exist</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -v localhost:8080/employees/99</pre>
</div>
</div>
<div class="paragraph">
<p>You get</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*   Trying ::1...
* TCP_NODELAY set
* Connected to localhost (::1) port 8080 (#0)
&gt; GET /employees/99 HTTP/1.1
&gt; Host: localhost:8080
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt;
&lt; HTTP/1.1 404
&lt; Content-Type: text/plain;charset=UTF-8
&lt; Content-Length: 26
&lt; Date: Thu, 09 Aug 2018 18:00:56 GMT
&lt;
* Connection #0 to host localhost left intact
Could not find employee 99</pre>
</div>
</div>
<div class="paragraph">
<p>This message nicely shows an <strong>HTTP 404</strong> error with the custom message <strong>Could not find employee 99</strong>.</p>
</div>
<div class="paragraph">
<p>Its not hard to show the currently coded interactions</p>
</div>
<div class="admonitionblock caution">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-caution" title="Caution"></i> </td>
<td class="content">
<div class="paragraph">
<p>If you are using Windows Command Prompt to issue cURL commands, chances are the below command wont work properly. You must either pick a terminal that support single quoted arguments, or use double quotes and then escape the ones inside the JSON.</p>
</div> </td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph">
<p>To create a new <code>Employee</code> record we use the following command in a terminalthe <code>$</code> at the beginning signifies that what follows it is a terminal command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -X POST localhost:8080/employees -H 'Content-type:application/json' -d '{"name": "Samwise Gamgee", "role": "gardener"}'</pre>
</div>
</div>
<div class="paragraph">
<p>Then it stores newly created employee and sends it back to us:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"id":3,"name":"Samwise Gamgee","role":"gardener"}</pre>
</div>
</div>
<div class="paragraph">
<p>You can update the user. Lets change his role.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -X PUT localhost:8080/employees/3 -H 'Content-type:application/json' -d '{"name": "Samwise Gamgee", "role": "ring bearer"}'</pre>
</div>
</div>
<div class="paragraph">
<p>And we can see the change reflected in the output.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"id":3,"name":"Samwise Gamgee","role":"ring bearer"}</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td>
<td class="content"> The way you construct your service can have significant impacts. In this situation, we said <strong>update</strong>, but <strong>replace</strong> is a better description. For example, if the name was NOT provided, it would instead get nulled out. </td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph">
<p>Finally, you can delete users like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -X DELETE localhost:8080/employees/3

# Now if we look again, it's gone
$ curl localhost:8080/employees/3
Could not find employee 3</pre>
</div>
</div>
<div class="paragraph">
<p>This is all well and good, but do we have a RESTful service yet? (If you didnt catch the hint, the answer is no.)</p>
</div>
<div class="paragraph">
<p>Whats missing?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_makes_something_restful">What makes something RESTful?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far, you have a web-based service that handles the core operations involving employee data. But thats not enough to make things "RESTful".</p>
</div>
<div class="ulist">
<ul>
<li> <p>Pretty URLs like <code>/employees/3</code> arent REST.</p> </li>
<li> <p>Merely using <code>GET</code>, <code>POST</code>, etc. isnt REST.</p> </li>
<li> <p>Having all the CRUD operations laid out isnt REST.</p> </li>
</ul>
</div>
<div class="paragraph">
<p>In fact, what we have built so far is better described as <strong>RPC</strong> (<strong>Remote Procedure Call</strong>). Thats because there is no way to know how to interact with this service. If you published this today, youd also have to write a document or host a developers portal somewhere with all the details.</p>
</div>
<div class="paragraph">
<p>This statement of Roy Fieldings may further lend a clue to the difference between <strong>REST</strong> and <strong>RPC</strong>:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>I am getting frustrated by the number of people calling any HTTP-based interface a REST API. Todays example is the SocialSite REST API. That is RPC. It screams RPC. There is so much coupling on display that it should be given an X rating.</p>
</div>
<div class="paragraph">
<p>What needs to be done to make the REST architectural style clear on the notion that hypertext is a constraint? In other words, if the engine of application state (and hence the API) is not being driven by hypertext, then it cannot be RESTful and cannot be a REST API. Period. Is there some broken manual somewhere that needs to be fixed?</p>
</div>
</blockquote>
<div class="attribution">
 Roy Fielding
<br> <cite>https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven</cite>
</div>
</div>
<div class="paragraph">
<p>The side effect of NOT including hypermedia in our representations is that clients MUST hard code URIs to navigate the API. This leads to the same brittle nature that predated the rise of e-commerce on the web. Its a signal that our JSON output needs a little help.</p>
</div>
<div class="paragraph">
<p>Introducing <a href="https://spring.io/projects/spring-hateoas">Spring HATEOAS</a>, a Spring project aimed at helping you write hypermedia-driven outputs. To upgrade your service to being RESTful, add this to your build:</p>
</div>
<div class="listingblock">
<div class="title">
Adding Spring HATEOAS to <code>dependencies</code> section of <code>pom.xml</code>
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span><span class="pln">
	</span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.springframework.boot</span><span class="tag">&lt;/groupId&gt;</span><span class="pln">
	</span><span class="tag">&lt;artifactId&gt;</span><span class="pln">spring-boot-starter-hateoas</span><span class="tag">&lt;/artifactId&gt;</span><span class="pln">
</span><span class="tag">&lt;/dependency&gt;</span></code><button class="copy-button button button-small animate" data-clipboard-text="&lt;dependency&gt;
	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
	&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;
&lt;/dependency&gt;">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>This tiny library will give us the constructs to define a RESTful service and then render it in an acceptable format for client consumption.</p>
</div>
<div class="paragraph">
<p>A critical ingredient to any RESTful service is adding <a href="https://tools.ietf.org/html/rfc8288">links</a> to relevant operations. To make your controller more RESTful, add links like this:</p>
</div>
<div class="listingblock">
<div class="title">
Getting a single item resource
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@GetMapping</span><span class="pun">(</span><span class="str">"/employees/{id}"</span><span class="pun">)</span><span class="pln">
</span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;</span><span class="pln"> one</span><span class="pun">(</span><span class="lit">@PathVariable</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="typ">Employee</span><span class="pln"> employee </span><span class="pun">=</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">findById</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">orElseThrow</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">EmployeeNotFoundException</span><span class="pun">(</span><span class="pln">id</span><span class="pun">));</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">EntityModel</span><span class="pun">.</span><span class="kwd">of</span><span class="pun">(</span><span class="pln">employee</span><span class="pun">,</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">EmployeeController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">one</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)).</span><span class="pln">withSelfRel</span><span class="pun">(),</span><span class="pln">
      linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">EmployeeController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">all</span><span class="pun">()).</span><span class="pln">withRel</span><span class="pun">(</span><span class="str">"employees"</span><span class="pun">));</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@GetMapping(&quot;/employees/{id}&quot;)
EntityModel&lt;Employee&gt; one(@PathVariable Long id) {

  Employee employee = repository.findById(id) //
      .orElseThrow(() -&gt; new EmployeeNotFoundException(id));

  return EntityModel.of(employee, //
      linkTo(methodOn(EmployeeController.class).one(id)).withSelfRel(),
      linkTo(methodOn(EmployeeController.class).all()).withRel(&quot;employees&quot;));
}">Copy</button></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
<td class="content">
<div class="paragraph">
<p>This tutorial is based on Spring MVC and uses the static helper methods from <code>WebMvcLinkBuilder</code> to build these links. If you are using Spring WebFlux in your project, you must instead use <code>WebFluxLinkBuilder</code>.</p>
</div> </td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph">
<p>This is very similar to what we had before, but a few things have changed:</p>
</div>
<div class="ulist">
<ul>
<li> <p>The return type of the method has changed from <code>Employee</code> to <code>EntityModel&lt;Employee&gt;</code>. <code>EntityModel&lt;T&gt;</code> is a generic container from Spring HATEOAS that includes not only the data but a collection of links.</p> </li>
<li> <p><code>linkTo(methodOn(EmployeeController.class).one(id)).withSelfRel()</code> asks that Spring HATEOAS build a link to the <code>EmployeeController</code> 's <code>one()</code> method, and flag it as a <a href="https://www.iana.org/assignments/link-relations/link-relations.xhtml">self</a> link.</p> </li>
<li> <p><code>linkTo(methodOn(EmployeeController.class).all()).withRel("employees")</code> asks Spring HATEOAS to build a link to the aggregate root, <code>all()</code>, and call it "employees".</p> </li>
</ul>
</div>
<div class="paragraph">
<p>What do we mean by "build a link"? One of Spring HATEOASs core types is <code>Link</code>. It includes a <strong>URI</strong> and a <strong>rel</strong> (relation). Links are what empower the web. Before the World Wide Web, other document systems would render information or links, but it was the linking of documents WITH this kind of relationship metadata that stitched the web together.</p>
</div>
<div class="paragraph">
<p>Roy Fielding encourages building APIs with the same techniques that made the web successful, and links are one of them.</p>
</div>
<div class="paragraph">
<p>If you restart the application and query the employee record of <em>Bilbo</em>, youll get a slightly different response than earlier:</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
<td class="content">
<div class="title">
Curling prettier
</div>
<div class="paragraph">
<p>When your curl output gets more complex it can become hard to read. Use this or <a href="https://stackoverflow.com/q/27238411/5432315">other tips</a> to prettify the json returned by curl:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># The indicated part pipes the output to json_pp and asks it to make your JSON pretty. (Or use whatever tool you like!)
#                                  v------------------v
curl -v localhost:8080/employees/1 | json_pp</pre>
</div>
</div> </td>
</tr>
</tbody>
</table>
</div>
<div class="listingblock">
<div class="title">
RESTful representation of a single employee
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="javascript"><span class="pun">{</span><span class="pln">
  </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Bilbo Baggins"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"role"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"burglar"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"_links"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"self"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"href"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:8080/employees/1"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="str">"employees"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"href"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:8080/employees"</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="{
  &quot;id&quot;: 1,
  &quot;name&quot;: &quot;Bilbo Baggins&quot;,
  &quot;role&quot;: &quot;burglar&quot;,
  &quot;_links&quot;: {
    &quot;self&quot;: {
      &quot;href&quot;: &quot;http://localhost:8080/employees/1&quot;
    },
    &quot;employees&quot;: {
      &quot;href&quot;: &quot;http://localhost:8080/employees&quot;
    }
  }
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>This decompressed output shows not only the data elements you saw earlier (<code>id</code>, <code>name</code> and <code>role</code>), but also a <code>_links</code> entry containing two URIs. This entire document is formatted using <a href="http://stateless.co/hal_specification.html">HAL</a>.</p>
</div>
<div class="paragraph">
<p>HAL is a lightweight <a href="https://tools.ietf.org/html/draft-kelly-json-hal-08">mediatype</a> that allows encoding not just data but also hypermedia controls, alerting consumers to other parts of the API they can navigate toward. In this case, there is a "self" link (kind of like a <code>this</code> statement in code) along with a link back to the <strong><a href="https://www.google.com/search?q=What+is+an+aggregate+root">aggregate root</a></strong>.</p>
</div>
<div class="paragraph">
<p>To make the aggregate root ALSO more RESTful, you want to include top level links while ALSO including any RESTful components within.</p>
</div>
<div class="paragraph">
<p>So we turn this</p>
</div>
<div class="listingblock">
<div class="title">
Getting an aggregate root
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@GetMapping</span><span class="pun">(</span><span class="str">"/employees"</span><span class="pun">)</span><span class="pln">
</span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;</span><span class="pln"> all</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">findAll</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@GetMapping(&quot;/employees&quot;)
List&lt;Employee&gt; all() {
  return repository.findAll();
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>into this</p>
</div>
<div class="listingblock">
<div class="title">
Getting an aggregate root <strong>resource</strong>
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@GetMapping</span><span class="pun">(</span><span class="str">"/employees"</span><span class="pun">)</span><span class="pln">
</span><span class="typ">CollectionModel</span><span class="pun">&lt;</span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;&gt;</span><span class="pln"> all</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;&gt;</span><span class="pln"> employees </span><span class="pun">=</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">findAll</span><span class="pun">().</span><span class="pln">stream</span><span class="pun">()</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">employee </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="typ">EntityModel</span><span class="pun">.</span><span class="kwd">of</span><span class="pun">(</span><span class="pln">employee</span><span class="pun">,</span><span class="pln">
          linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">EmployeeController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">one</span><span class="pun">(</span><span class="pln">employee</span><span class="pun">.</span><span class="pln">getId</span><span class="pun">())).</span><span class="pln">withSelfRel</span><span class="pun">(),</span><span class="pln">
          linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">EmployeeController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">all</span><span class="pun">()).</span><span class="pln">withRel</span><span class="pun">(</span><span class="str">"employees"</span><span class="pun">)))</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">collect</span><span class="pun">(</span><span class="typ">Collectors</span><span class="pun">.</span><span class="pln">toList</span><span class="pun">());</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">CollectionModel</span><span class="pun">.</span><span class="kwd">of</span><span class="pun">(</span><span class="pln">employees</span><span class="pun">,</span><span class="pln"> linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">EmployeeController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">all</span><span class="pun">()).</span><span class="pln">withSelfRel</span><span class="pun">());</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@GetMapping(&quot;/employees&quot;)
CollectionModel&lt;EntityModel&lt;Employee&gt;&gt; all() {

  List&lt;EntityModel&lt;Employee&gt;&gt; employees = repository.findAll().stream()
      .map(employee -&gt; EntityModel.of(employee,
          linkTo(methodOn(EmployeeController.class).one(employee.getId())).withSelfRel(),
          linkTo(methodOn(EmployeeController.class).all()).withRel(&quot;employees&quot;)))
      .collect(Collectors.toList());

  return CollectionModel.of(employees, linkTo(methodOn(EmployeeController.class).all()).withSelfRel());
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>Wow! That method, which used to just be <code>repository.findAll()</code>, is all grown up! Not to worry. Lets unpack it.</p>
</div>
<div class="paragraph">
<p><code>CollectionModel&lt;&gt;</code> is another Spring HATEOAS container; its aimed at encapsulating collections of resourcesinstead of a single resource entity, like <code>EntityModel&lt;&gt;</code> from earlier. <code>CollectionModel&lt;&gt;</code>, too, lets you include links.</p>
</div>
<div class="paragraph">
<p>Dont let that first statement slip by. What does "encapsulating collections" mean? Collections of employees?</p>
</div>
<div class="paragraph">
<p>Not quite.</p>
</div>
<div class="paragraph">
<p>Since were talking REST, it should encapsulate collections of <strong>employee resources</strong>.</p>
</div>
<div class="paragraph">
<p>Thats why you fetch all the employees, but then transform them into a list of <code>EntityModel&lt;Employee&gt;</code> objects. (Thanks Java 8 Streams!)</p>
</div>
<div class="paragraph">
<p>If you restart the application and fetch the aggregate root, you can see what it looks like now.</p>
</div>
<div class="listingblock">
<div class="title">
RESTful representation of a collection of employee resources
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="javascript"><span class="pun">{</span><span class="pln">
  </span><span class="str">"_embedded"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"employeeList"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Bilbo Baggins"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"role"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"burglar"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"_links"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="str">"self"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="str">"href"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:8080/employees/1"</span><span class="pln">
          </span><span class="pun">},</span><span class="pln">
          </span><span class="str">"employees"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="str">"href"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:8080/employees"</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Frodo Baggins"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"role"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"thief"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"_links"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="str">"self"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="str">"href"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:8080/employees/2"</span><span class="pln">
          </span><span class="pun">},</span><span class="pln">
          </span><span class="str">"employees"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="str">"href"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:8080/employees"</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="str">"_links"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"self"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"href"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:8080/employees"</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="{
  &quot;_embedded&quot;: {
    &quot;employeeList&quot;: [
      {
        &quot;id&quot;: 1,
        &quot;name&quot;: &quot;Bilbo Baggins&quot;,
        &quot;role&quot;: &quot;burglar&quot;,
        &quot;_links&quot;: {
          &quot;self&quot;: {
            &quot;href&quot;: &quot;http://localhost:8080/employees/1&quot;
          },
          &quot;employees&quot;: {
            &quot;href&quot;: &quot;http://localhost:8080/employees&quot;
          }
        }
      },
      {
        &quot;id&quot;: 2,
        &quot;name&quot;: &quot;Frodo Baggins&quot;,
        &quot;role&quot;: &quot;thief&quot;,
        &quot;_links&quot;: {
          &quot;self&quot;: {
            &quot;href&quot;: &quot;http://localhost:8080/employees/2&quot;
          },
          &quot;employees&quot;: {
            &quot;href&quot;: &quot;http://localhost:8080/employees&quot;
          }
        }
      }
    ]
  },
  &quot;_links&quot;: {
    &quot;self&quot;: {
      &quot;href&quot;: &quot;http://localhost:8080/employees&quot;
    }
  }
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>For this aggregate root, which serves up a collection of employee resources, there is a top-level <strong>"self"</strong> link. The <strong>"collection"</strong> is listed underneath the <strong>"_embedded"</strong> section; this is how HAL represents collections.</p>
</div>
<div class="paragraph">
<p>And each individual member of the collection has their information as well as related links.</p>
</div>
<div class="paragraph">
<p>What is the point of adding all these links? It makes it possible to evolve REST services over time. Existing links can be maintained while new links can be added in the future. Newer clients may take advantage of the new links, while legacy clients can sustain themselves on the old links. This is especially helpful if services get relocated and moved around. As long as the link structure is maintained, clients can STILL find and interact with things.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_simplifying_link_creation">Simplifying Link Creation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the code earlier, did you notice the repetition in single employee link creation? The code to provide a single link to an employee, as well as to create an "employees" link to the aggregate root, was shown twice. If that raised your concern, good! Theres a solution.</p>
</div>
<div class="paragraph">
<p>Simply put, you need to define a function that converts <code>Employee</code> objects to <code>EntityModel&lt;Employee&gt;</code> objects. While you could easily code this method yourself, there are benefits down the road of implementing Spring HATEOASs <code>RepresentationModelAssembler</code> interfacewhich will do the work for you.</p>
</div>
<div class="listingblock">
<div class="title">
evolution/src/main/java/payroll/EmployeeModelAssembler.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">hateoas</span><span class="pun">.</span><span class="pln">server</span><span class="pun">.</span><span class="pln">mvc</span><span class="pun">.</span><span class="typ">WebMvcLinkBuilder</span><span class="pun">.*;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">hateoas</span><span class="pun">.</span><span class="typ">EntityModel</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">hateoas</span><span class="pun">.</span><span class="pln">server</span><span class="pun">.</span><span class="typ">RepresentationModelAssembler</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">stereotype</span><span class="pun">.</span><span class="typ">Component</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@Component</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">EmployeeModelAssembler</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">RepresentationModelAssembler</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">,</span><span class="pln"> </span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="lit">@Override</span><span class="pln">
  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;</span><span class="pln"> toModel</span><span class="pun">(</span><span class="typ">Employee</span><span class="pln"> employee</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">EntityModel</span><span class="pun">.</span><span class="kwd">of</span><span class="pun">(</span><span class="pln">employee</span><span class="pun">,</span><span class="pln"> </span><span class="com">//</span><span class="pln">
        linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">EmployeeController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">one</span><span class="pun">(</span><span class="pln">employee</span><span class="pun">.</span><span class="pln">getId</span><span class="pun">())).</span><span class="pln">withSelfRel</span><span class="pun">(),</span><span class="pln">
        linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">EmployeeController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">all</span><span class="pun">()).</span><span class="pln">withRel</span><span class="pun">(</span><span class="str">"employees"</span><span class="pun">));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

import static org.springframework.hateoas.server.mvc.WebMvcLinkBuilder.*;

import org.springframework.hateoas.EntityModel;
import org.springframework.hateoas.server.RepresentationModelAssembler;
import org.springframework.stereotype.Component;

@Component
class EmployeeModelAssembler implements RepresentationModelAssembler&lt;Employee, EntityModel&lt;Employee&gt;&gt; {

  @Override
  public EntityModel&lt;Employee&gt; toModel(Employee employee) {

    return EntityModel.of(employee, //
        linkTo(methodOn(EmployeeController.class).one(employee.getId())).withSelfRel(),
        linkTo(methodOn(EmployeeController.class).all()).withRel(&quot;employees&quot;));
  }
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>This simple interface has one method: <code>toModel()</code>. It is based on converting a non-model object (<code>Employee</code>) into a model-based object (<code>EntityModel&lt;Employee&gt;</code>).</p>
</div>
<div class="paragraph">
<p>All the code you saw earlier in the controller can be moved into this class. And by applying Spring Frameworks <code>@Component</code> annotation, the assembler will be automatically created when the app starts.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
<td class="content"> Spring HATEOASs abstract base class for all models is <code>RepresentationModel</code>. But for simplicity, I recommend using <code>EntityModel&lt;T&gt;</code> as your mechanism to easily wrap all POJOs as models. </td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph">
<p>To leverage this assembler, you only have to alter the <code>EmployeeController</code> by injecting the assembler in the constructor.</p>
</div>
<div class="listingblock">
<div class="title">
Injecting EmployeeModelAssembler into the controller
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@RestController</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">EmployeeController</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">EmployeeRepository</span><span class="pln"> repository</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">EmployeeModelAssembler</span><span class="pln"> assembler</span><span class="pun">;</span><span class="pln">

  </span><span class="typ">EmployeeController</span><span class="pun">(</span><span class="typ">EmployeeRepository</span><span class="pln"> repository</span><span class="pun">,</span><span class="pln"> </span><span class="typ">EmployeeModelAssembler</span><span class="pln"> assembler</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">repository </span><span class="pun">=</span><span class="pln"> repository</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">assembler </span><span class="pun">=</span><span class="pln"> assembler</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="pun">...</span><span class="pln">

</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@RestController
class EmployeeController {

  private final EmployeeRepository repository;

  private final EmployeeModelAssembler assembler;

  EmployeeController(EmployeeRepository repository, EmployeeModelAssembler assembler) {

    this.repository = repository;
    this.assembler = assembler;
  }

  ...

}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>From here, you can use that assembler in the single-item employee method:</p>
</div>
<div class="listingblock">
<div class="title">
Getting single item resource using the assembler
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@GetMapping</span><span class="pun">(</span><span class="str">"/employees/{id}"</span><span class="pun">)</span><span class="pln">
</span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;</span><span class="pln"> one</span><span class="pun">(</span><span class="lit">@PathVariable</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="typ">Employee</span><span class="pln"> employee </span><span class="pun">=</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">findById</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">orElseThrow</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">EmployeeNotFoundException</span><span class="pun">(</span><span class="pln">id</span><span class="pun">));</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> assembler</span><span class="pun">.</span><span class="pln">toModel</span><span class="pun">(</span><span class="pln">employee</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@GetMapping(&quot;/employees/{id}&quot;)
EntityModel&lt;Employee&gt; one(@PathVariable Long id) {

  Employee employee = repository.findById(id) //
      .orElseThrow(() -&gt; new EmployeeNotFoundException(id));

  return assembler.toModel(employee);
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>This code is almost the same, except instead of creating the <code>EntityModel&lt;Employee&gt;</code> instance here, you delegate it to the assembler. Maybe that doesnt look like much.</p>
</div>
<div class="paragraph">
<p>Applying the same thing in the aggregate root controller method is more impressive:</p>
</div>
<div class="listingblock">
<div class="title">
Getting aggregate root resource using the assembler
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@GetMapping</span><span class="pun">(</span><span class="str">"/employees"</span><span class="pun">)</span><span class="pln">
</span><span class="typ">CollectionModel</span><span class="pun">&lt;</span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;&gt;</span><span class="pln"> all</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;&gt;</span><span class="pln"> employees </span><span class="pun">=</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">findAll</span><span class="pun">().</span><span class="pln">stream</span><span class="pun">()</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">assembler</span><span class="pun">::</span><span class="pln">toModel</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">collect</span><span class="pun">(</span><span class="typ">Collectors</span><span class="pun">.</span><span class="pln">toList</span><span class="pun">());</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">CollectionModel</span><span class="pun">.</span><span class="kwd">of</span><span class="pun">(</span><span class="pln">employees</span><span class="pun">,</span><span class="pln"> linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">EmployeeController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">all</span><span class="pun">()).</span><span class="pln">withSelfRel</span><span class="pun">());</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@GetMapping(&quot;/employees&quot;)
CollectionModel&lt;EntityModel&lt;Employee&gt;&gt; all() {

  List&lt;EntityModel&lt;Employee&gt;&gt; employees = repository.findAll().stream() //
      .map(assembler::toModel) //
      .collect(Collectors.toList());

  return CollectionModel.of(employees, linkTo(methodOn(EmployeeController.class).all()).withSelfRel());
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>The code is, again, almost the same, however you get to replace all that <code>EntityModel&lt;Employee&gt;</code> creation logic with <code>map(assembler::toModel)</code>. Thanks to Java 8 method references, its super easy to plug it in and simplify your controller.</p>
</div>
<div class="admonitionblock important">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-important" title="Important"></i> </td>
<td class="content"> A key design goal of Spring HATEOAS is to make it easier to do The Right Thing. In this scenario: adding hypermedia to your service without hard coding a thing. </td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph">
<p>At this stage, youve created a Spring MVC REST controller that actually produces hypermedia-powered content! Clients that dont speak HAL can ignore the extra bits while consuming the pure data. Clients that DO speak HAL can navigate your empowered API.</p>
</div>
<div class="paragraph">
<p>But that is not the only thing needed to build a truly RESTful service with Spring.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_evolving_rest_apis">Evolving REST APIs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With one additional library and a few lines of extra code, you have added hypermedia to your application. But that is not the only thing needed to make your service RESTful. An important facet of REST is the fact that its neither a technology stack nor a single standard.</p>
</div>
<div class="paragraph">
<p>REST is a collection of architectural constraints that when adopted make your application much more resilient. A key factor of resilience is that when you make upgrades to your services, your clients dont suffer from downtime.</p>
</div>
<div class="paragraph">
<p>In the "olden" days, upgrades were notorious for breaking clients. In other words, an upgrade to the server required an update to the client. In this day and age, hours or even minutes of downtime spent doing an upgrade can cost millions in lost revenue.</p>
</div>
<div class="paragraph">
<p>Some companies require that you present management with a plan to minimize downtime. In the past, you could get away with upgrading at 2:00 a.m. on a Sunday when load was at a minimum. But in todays Internet-based e-commerce with international customers in other time zones, such strategies are not as effective.</p>
</div>
<div class="paragraph">
<p><a href="https://www.tutorialspoint.com/soap/what_is_soap.htm">SOAP-based services</a> and <a href="https://www.corba.org/faq.htm">CORBA-based services</a> were incredibly brittle. It was hard to roll out a server that could support both old and new clients. With REST-based practices, its much easier. Especially using the Spring stack.</p>
</div>
<div class="sect2">
<h3 id="_supporting_changes_to_the_api">Supporting changes to the API</h3>
<div class="paragraph">
<p>Imagine this design problem: Youve rolled out a system with this <code>Employee</code>-based record. The system is a major hit. Youve sold your system to countless enterprises. Suddenly, the need for an employees name to be split into <code>firstName</code> and <code>lastName</code> arises.</p>
</div>
<div class="paragraph">
<p>Uh oh. Didnt think of that.</p>
</div>
<div class="paragraph">
<p>Before you open up the <code>Employee</code> class and replace the single field <code>name</code> with <code>firstName</code> and <code>lastName</code>, stop and think for a second. Will that break any clients? How long will it take to upgrade them. Do you even control all the clients accessing your services?</p>
</div>
<div class="paragraph">
<p>Downtime = lost money. Is management ready for that?</p>
</div>
<div class="paragraph">
<p>There is an old strategy that precedes REST by years.</p>
</div>
<div class="quoteblock">
<blockquote>
Never delete a column in a database.
</blockquote>
<div class="attribution">
 Unknown
</div>
</div>
<div class="paragraph">
<p>You can always add columns (fields) to a database table. But dont take one away. The principle in RESTful services is the same.</p>
</div>
<div class="paragraph">
<p>Add new fields to your JSON representations, but dont take any away. Like this:</p>
</div>
<div class="listingblock">
<div class="title">
JSON that supports multiple clients
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="javascript"><span class="pun">{</span><span class="pln">
  </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"firstName"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Bilbo"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"lastName"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Baggins"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"role"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"burglar"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Bilbo Baggins"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"_links"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"self"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"href"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:8080/employees/1"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="str">"employees"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"href"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:8080/employees"</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="{
  &quot;id&quot;: 1,
  &quot;firstName&quot;: &quot;Bilbo&quot;,
  &quot;lastName&quot;: &quot;Baggins&quot;,
  &quot;role&quot;: &quot;burglar&quot;,
  &quot;name&quot;: &quot;Bilbo Baggins&quot;,
  &quot;_links&quot;: {
    &quot;self&quot;: {
      &quot;href&quot;: &quot;http://localhost:8080/employees/1&quot;
    },
    &quot;employees&quot;: {
      &quot;href&quot;: &quot;http://localhost:8080/employees&quot;
    }
  }
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>Notice how this format shows <code>firstName</code>, <code>lastName</code>, AND <code>name</code>? While it sports duplication of information, the purpose is to support both old and new clients. That means you can upgrade the server without requiring clients upgrade at the same time. A good move that should reduce downtime.</p>
</div>
<div class="paragraph">
<p>And not only should you show this information in both the "old way" and the "new way", you should also process incoming data both ways.</p>
</div>
<div class="paragraph">
<p>How? Simple. Like this:</p>
</div>
<div class="listingblock">
<div class="title">
Employee record that handles both "old" and "new" clients
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.</span><span class="typ">Objects</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">Entity</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">GeneratedValue</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">Id</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@Entity</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Employee</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">private</span><span class="pln"> </span><span class="lit">@Id</span><span class="pln"> </span><span class="lit">@GeneratedValue</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> firstName</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> lastName</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> role</span><span class="pun">;</span><span class="pln">

  </span><span class="typ">Employee</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  </span><span class="typ">Employee</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> firstName</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> lastName</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> role</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">firstName </span><span class="pun">=</span><span class="pln"> firstName</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lastName </span><span class="pun">=</span><span class="pln"> lastName</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role </span><span class="pun">=</span><span class="pln"> role</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getName</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">firstName </span><span class="pun">+</span><span class="pln"> </span><span class="str">" "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lastName</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setName</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> parts </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">" "</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">firstName </span><span class="pun">=</span><span class="pln"> parts</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lastName </span><span class="pun">=</span><span class="pln"> parts</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> getId</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getFirstName</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">firstName</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getLastName</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lastName</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getRole</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setId</span><span class="pun">(</span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id </span><span class="pun">=</span><span class="pln"> id</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setFirstName</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> firstName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">firstName </span><span class="pun">=</span><span class="pln"> firstName</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setLastName</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> lastName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lastName </span><span class="pun">=</span><span class="pln"> lastName</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setRole</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> role</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role </span><span class="pun">=</span><span class="pln"> role</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@Override</span><span class="pln">
  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> equals</span><span class="pun">(</span><span class="typ">Object</span><span class="pln"> o</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> o</span><span class="pun">)</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!(</span><span class="pln">o </span><span class="kwd">instanceof</span><span class="pln"> </span><span class="typ">Employee</span><span class="pun">))</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">Employee</span><span class="pln"> employee </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Employee</span><span class="pun">)</span><span class="pln"> o</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> employee</span><span class="pun">.</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">firstName</span><span class="pun">,</span><span class="pln"> employee</span><span class="pun">.</span><span class="pln">firstName</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lastName</span><span class="pun">,</span><span class="pln"> employee</span><span class="pun">.</span><span class="pln">lastName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role</span><span class="pun">,</span><span class="pln"> employee</span><span class="pun">.</span><span class="pln">role</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@Override</span><span class="pln">
  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> hashCode</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">hash</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">firstName</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lastName</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@Override</span><span class="pln">
  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Employee{"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"id="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id </span><span class="pun">+</span><span class="pln"> </span><span class="str">", firstName='"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">firstName </span><span class="pun">+</span><span class="pln"> </span><span class="str">'\''</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">", lastName='"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lastName
        </span><span class="pun">+</span><span class="pln"> </span><span class="str">'\''</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">", role='"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">role </span><span class="pun">+</span><span class="pln"> </span><span class="str">'\''</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">'}'</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

import java.util.Objects;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;

@Entity
class Employee {

  private @Id @GeneratedValue Long id;
  private String firstName;
  private String lastName;
  private String role;

  Employee() {}

  Employee(String firstName, String lastName, String role) {

    this.firstName = firstName;
    this.lastName = lastName;
    this.role = role;
  }

  public String getName() {
    return this.firstName + &quot; &quot; + this.lastName;
  }

  public void setName(String name) {
    String[] parts = name.split(&quot; &quot;);
    this.firstName = parts[0];
    this.lastName = parts[1];
  }

  public Long getId() {
    return this.id;
  }

  public String getFirstName() {
    return this.firstName;
  }

  public String getLastName() {
    return this.lastName;
  }

  public String getRole() {
    return this.role;
  }

  public void setId(Long id) {
    this.id = id;
  }

  public void setFirstName(String firstName) {
    this.firstName = firstName;
  }

  public void setLastName(String lastName) {
    this.lastName = lastName;
  }

  public void setRole(String role) {
    this.role = role;
  }

  @Override
  public boolean equals(Object o) {

    if (this == o)
      return true;
    if (!(o instanceof Employee))
      return false;
    Employee employee = (Employee) o;
    return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.firstName, employee.firstName)
        &amp;&amp; Objects.equals(this.lastName, employee.lastName) &amp;&amp; Objects.equals(this.role, employee.role);
  }

  @Override
  public int hashCode() {
    return Objects.hash(this.id, this.firstName, this.lastName, this.role);
  }

  @Override
  public String toString() {
    return &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, firstName=&#39;&quot; + this.firstName + &#39;\&#39;&#39; + &quot;, lastName=&#39;&quot; + this.lastName
        + &#39;\&#39;&#39; + &quot;, role=&#39;&quot; + this.role + &#39;\&#39;&#39; + &#39;}&#39;;
  }
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>This class is very similar to the previous version of <code>Employee</code>. Lets go over the changes:</p>
</div>
<div class="ulist">
<ul>
<li> <p>Field <code>name</code> has been replaced by <code>firstName</code> and <code>lastName</code>.</p> </li>
<li> <p>A "virtual" getter for the old <code>name</code> property, <code>getName()</code> is defined. It uses the <code>firstName</code> and <code>lastName</code> fields to produce a value.</p> </li>
<li> <p>A "virtual" setter for the old <code>name</code> property is also defined, <code>setName()</code>. It parses an incoming string and stores it into the proper fields.</p> </li>
</ul>
</div>
<div class="paragraph">
<p>Of course not EVERY change to your API is as simple as splitting a string or merging two strings. But its surely not impossible to come up with a set of transforms for most scenarios, right?</p>
</div>
<div class="admonitionblock important">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-important" title="Important"></i> </td>
<td class="content">
<div class="paragraph">
<p>Dont forget to go and change how you preload your database (in <code>LoadDatabase</code>) to use this new constructor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="pln">log</span><span class="pun">.</span><span class="pln">info</span><span class="pun">(</span><span class="str">"Preloading "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Employee</span><span class="pun">(</span><span class="str">"Bilbo"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Baggins"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"burglar"</span><span class="pun">)));</span><span class="pln">
log</span><span class="pun">.</span><span class="pln">info</span><span class="pun">(</span><span class="str">"Preloading "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Employee</span><span class="pun">(</span><span class="str">"Frodo"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Baggins"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"thief"</span><span class="pun">)));</span></code><button class="copy-button button button-small animate" data-clipboard-text="log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo&quot;, &quot;Baggins&quot;, &quot;burglar&quot;)));
log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo&quot;, &quot;Baggins&quot;, &quot;thief&quot;)));">Copy</button></pre>
</div>
</div> </td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_proper_responses">Proper Responses</h4>
<div class="paragraph">
<p>Another step in the right direction involves ensuring that each of your REST methods returns a proper response. Update the POST method like this:</p>
</div>
<div class="listingblock">
<div class="title">
POST that handles "old" and "new" client requests
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@PostMapping</span><span class="pun">(</span><span class="str">"/employees"</span><span class="pun">)</span><span class="pln">
</span><span class="typ">ResponseEntity</span><span class="pun">&lt;?&gt;</span><span class="pln"> newEmployee</span><span class="pun">(</span><span class="lit">@RequestBody</span><span class="pln"> </span><span class="typ">Employee</span><span class="pln"> newEmployee</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;</span><span class="pln"> entityModel </span><span class="pun">=</span><span class="pln"> assembler</span><span class="pun">.</span><span class="pln">toModel</span><span class="pun">(</span><span class="pln">repository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="pln">newEmployee</span><span class="pun">));</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">ResponseEntity</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">created</span><span class="pun">(</span><span class="pln">entityModel</span><span class="pun">.</span><span class="pln">getRequiredLink</span><span class="pun">(</span><span class="typ">IanaLinkRelations</span><span class="pun">.</span><span class="pln">SELF</span><span class="pun">).</span><span class="pln">toUri</span><span class="pun">())</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">body</span><span class="pun">(</span><span class="pln">entityModel</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@PostMapping(&quot;/employees&quot;)
ResponseEntity&lt;?&gt; newEmployee(@RequestBody Employee newEmployee) {

  EntityModel&lt;Employee&gt; entityModel = assembler.toModel(repository.save(newEmployee));

  return ResponseEntity //
      .created(entityModel.getRequiredLink(IanaLinkRelations.SELF).toUri()) //
      .body(entityModel);
}">Copy</button></pre>
</div>
</div>
<div class="ulist">
<ul>
<li> <p>The new <code>Employee</code> object is saved as before. But the resulting object is wrapped using the <code>EmployeeModelAssembler</code>.</p> </li>
<li> <p>Spring MVCs <code>ResponseEntity</code> is used to create an <strong>HTTP 201 Created</strong> status message. This type of response typically includes a <strong>Location</strong> response header, and we use the URI derived from the models self-related link.</p> </li>
<li> <p>Additionally, return the model-based version of the saved object.</p> </li>
</ul>
</div>
<div class="paragraph">
<p>With these tweaks in place, you can use the same endpoint to create a new employee resource, and use the legacy <code>name</code> field:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -v -X POST localhost:8080/employees -H 'Content-Type:application/json' -d '{"name": "Samwise Gamgee", "role": "gardener"}'</pre>
</div>
</div>
<div class="paragraph">
<p>The output is shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; POST /employees HTTP/1.1
&gt; Host: localhost:8080
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt; Content-Type:application/json
&gt; Content-Length: 46
&gt;
&lt; Location: http://localhost:8080/employees/3
&lt; Content-Type: application/hal+json;charset=UTF-8
&lt; Transfer-Encoding: chunked
&lt; Date: Fri, 10 Aug 2018 19:44:43 GMT
&lt;
{
  "id": 3,
  "firstName": "Samwise",
  "lastName": "Gamgee",
  "role": "gardener",
  "name": "Samwise Gamgee",
  "_links": {
    "self": {
      "href": "http://localhost:8080/employees/3"
    },
    "employees": {
      "href": "http://localhost:8080/employees"
    }
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>This not only has the resulting object rendered in HAL (both <code>name</code> as well as <code>firstName</code>/<code>lastName</code>), but also the <strong>Location</strong> header populated with <code><a href="http://localhost:8080/employees/3" class="bare">http://localhost:8080/employees/3</a></code>. A hypermedia powered client could opt to "surf" to this new resource and proceed to interact with it.</p>
</div>
<div class="paragraph">
<p>The PUT controller method needs similar tweaks:</p>
</div>
<div class="listingblock">
<div class="title">
Handling a PUT for different clients
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@PutMapping</span><span class="pun">(</span><span class="str">"/employees/{id}"</span><span class="pun">)</span><span class="pln">
</span><span class="typ">ResponseEntity</span><span class="pun">&lt;?&gt;</span><span class="pln"> replaceEmployee</span><span class="pun">(</span><span class="lit">@RequestBody</span><span class="pln"> </span><span class="typ">Employee</span><span class="pln"> newEmployee</span><span class="pun">,</span><span class="pln"> </span><span class="lit">@PathVariable</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="typ">Employee</span><span class="pln"> updatedEmployee </span><span class="pun">=</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">findById</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">employee </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        employee</span><span class="pun">.</span><span class="pln">setName</span><span class="pun">(</span><span class="pln">newEmployee</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">());</span><span class="pln">
        employee</span><span class="pun">.</span><span class="pln">setRole</span><span class="pun">(</span><span class="pln">newEmployee</span><span class="pun">.</span><span class="pln">getRole</span><span class="pun">());</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="pln">employee</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">})</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">orElseGet</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        newEmployee</span><span class="pun">.</span><span class="pln">setId</span><span class="pun">(</span><span class="pln">id</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> repository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="pln">newEmployee</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">

  </span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Employee</span><span class="pun">&gt;</span><span class="pln"> entityModel </span><span class="pun">=</span><span class="pln"> assembler</span><span class="pun">.</span><span class="pln">toModel</span><span class="pun">(</span><span class="pln">updatedEmployee</span><span class="pun">);</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">ResponseEntity</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">created</span><span class="pun">(</span><span class="pln">entityModel</span><span class="pun">.</span><span class="pln">getRequiredLink</span><span class="pun">(</span><span class="typ">IanaLinkRelations</span><span class="pun">.</span><span class="pln">SELF</span><span class="pun">).</span><span class="pln">toUri</span><span class="pun">())</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">body</span><span class="pun">(</span><span class="pln">entityModel</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@PutMapping(&quot;/employees/{id}&quot;)
ResponseEntity&lt;?&gt; replaceEmployee(@RequestBody Employee newEmployee, @PathVariable Long id) {

  Employee updatedEmployee = repository.findById(id) //
      .map(employee -&gt; {
        employee.setName(newEmployee.getName());
        employee.setRole(newEmployee.getRole());
        return repository.save(employee);
      }) //
      .orElseGet(() -&gt; {
        newEmployee.setId(id);
        return repository.save(newEmployee);
      });

  EntityModel&lt;Employee&gt; entityModel = assembler.toModel(updatedEmployee);

  return ResponseEntity //
      .created(entityModel.getRequiredLink(IanaLinkRelations.SELF).toUri()) //
      .body(entityModel);
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Employee</code> object built from the <code>save()</code> operation is then wrapped using the <code>EmployeeModelAssembler</code> into an <code>EntityModel&lt;Employee&gt;</code> object. Using the <code>getRequiredLink()</code> method, you can retrieve the <code>Link</code> created by the <code>EmployeeModelAssembler</code> with a <code>SELF</code> rel. This method returns a <code>Link</code> which must be turned into a <code>URI</code> with the <code>toUri</code> method.</p>
</div>
<div class="paragraph">
<p>Since we want a more detailed HTTP response code than <strong>200 OK</strong>, we will use Spring MVCs <code>ResponseEntity</code> wrapper. It has a handy static method <code>created()</code> where we can plug in the resources URI. Its debatable if <strong>HTTP 201 Created</strong> carries the right semantics since we arent necessarily "creating" a new resource. But it comes pre-loaded with a <strong>Location</strong> response header, so run with it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -v -X PUT localhost:8080/employees/3 -H 'Content-Type:application/json' -d '{"name": "Samwise Gamgee", "role": "ring bearer"}'

* TCP_NODELAY set
* Connected to localhost (::1) port 8080 (#0)
&gt; PUT /employees/3 HTTP/1.1
&gt; Host: localhost:8080
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt; Content-Type:application/json
&gt; Content-Length: 49
&gt;
&lt; HTTP/1.1 201
&lt; Location: http://localhost:8080/employees/3
&lt; Content-Type: application/hal+json;charset=UTF-8
&lt; Transfer-Encoding: chunked
&lt; Date: Fri, 10 Aug 2018 19:52:56 GMT
{
	"id": 3,
	"firstName": "Samwise",
	"lastName": "Gamgee",
	"role": "ring bearer",
	"name": "Samwise Gamgee",
	"_links": {
		"self": {
			"href": "http://localhost:8080/employees/3"
		},
		"employees": {
			"href": "http://localhost:8080/employees"
		}
	}
}</pre>
</div>
</div>
<div class="paragraph">
<p>That employee resource has now been updated and the location URI sent back. Finally, update the DELETE operation suitably:</p>
</div>
<div class="listingblock">
<div class="title">
Handling DELETE requests
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@DeleteMapping</span><span class="pun">(</span><span class="str">"/employees/{id}"</span><span class="pun">)</span><span class="pln">
</span><span class="typ">ResponseEntity</span><span class="pun">&lt;?&gt;</span><span class="pln"> deleteEmployee</span><span class="pun">(</span><span class="lit">@PathVariable</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  repository</span><span class="pun">.</span><span class="pln">deleteById</span><span class="pun">(</span><span class="pln">id</span><span class="pun">);</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">ResponseEntity</span><span class="pun">.</span><span class="pln">noContent</span><span class="pun">().</span><span class="pln">build</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@DeleteMapping(&quot;/employees/{id}&quot;)
ResponseEntity&lt;?&gt; deleteEmployee(@PathVariable Long id) {

  repository.deleteById(id);

  return ResponseEntity.noContent().build();
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>This returns an <strong>HTTP 204 No Content</strong> response.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -v -X DELETE localhost:8080/employees/1

* TCP_NODELAY set
* Connected to localhost (::1) port 8080 (#0)
&gt; DELETE /employees/1 HTTP/1.1
&gt; Host: localhost:8080
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt;
&lt; HTTP/1.1 204
&lt; Date: Fri, 10 Aug 2018 21:30:26 GMT</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-important" title="Important"></i> </td>
<td class="content"> Making changes to the fields in the <code>Employee</code> class will require coordination with your database team, so that they can properly migrate existing content into the new columns. </td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph">
<p>You are now ready for an upgrade that will NOT disturb existing clients while newer clients can take advantage of the enhancements!</p>
</div>
<div class="paragraph">
<p>By the way, are you worried about sending too much information over the wire? In some systems where every byte counts, evolution of APIs may need to take a backseat. But dont pursue such premature optimization until you measure.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_links_into_your_rest_api">Building links into your REST API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far, youve built an evolvable API with bare bones links. To grow your API and better serve your clients, you need to embrace the concept of <strong>Hypermedia as the Engine of Application State</strong>.</p>
</div>
<div class="paragraph">
<p>What does that mean? In this section, youll explore it in detail.</p>
</div>
<div class="paragraph">
<p>Business logic inevitably builds up rules that involve processes. The risk of such systems is we often carry such server-side logic into clients and build up strong coupling. REST is about breaking down such connections and minimizing such coupling.</p>
</div>
<div class="paragraph">
<p>To show how to cope with state changes without triggering breaking changes in clients, imagine adding a system that fulfills orders.</p>
</div>
<div class="paragraph">
<p>As a first step, define an <code>Order</code> record:</p>
</div>
<div class="listingblock">
<div class="title">
links/src/main/java/payroll/Order.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.</span><span class="typ">Objects</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">Entity</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">GeneratedValue</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">Id</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">Table</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@Entity</span><span class="pln">
</span><span class="lit">@Table</span><span class="pun">(</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">"CUSTOMER_ORDER"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Order</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">private</span><span class="pln"> </span><span class="lit">@Id</span><span class="pln"> </span><span class="lit">@GeneratedValue</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> description</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Status</span><span class="pln"> status</span><span class="pun">;</span><span class="pln">

  </span><span class="typ">Order</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  </span><span class="typ">Order</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> description</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Status</span><span class="pln"> status</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">description </span><span class="pun">=</span><span class="pln"> description</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">status </span><span class="pun">=</span><span class="pln"> status</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> getId</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getDescription</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">description</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Status</span><span class="pln"> getStatus</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">status</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setId</span><span class="pun">(</span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id </span><span class="pun">=</span><span class="pln"> id</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setDescription</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> description</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">description </span><span class="pun">=</span><span class="pln"> description</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setStatus</span><span class="pun">(</span><span class="typ">Status</span><span class="pln"> status</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">status </span><span class="pun">=</span><span class="pln"> status</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@Override</span><span class="pln">
  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> equals</span><span class="pun">(</span><span class="typ">Object</span><span class="pln"> o</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> o</span><span class="pun">)</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!(</span><span class="pln">o </span><span class="kwd">instanceof</span><span class="pln"> </span><span class="typ">Order</span><span class="pun">))</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">Order</span><span class="pln"> order </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Order</span><span class="pun">)</span><span class="pln"> o</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> order</span><span class="pun">.</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">description</span><span class="pun">,</span><span class="pln"> order</span><span class="pun">.</span><span class="pln">description</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">status </span><span class="pun">==</span><span class="pln"> order</span><span class="pun">.</span><span class="pln">status</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@Override</span><span class="pln">
  </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> hashCode</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Objects</span><span class="pun">.</span><span class="pln">hash</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">description</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">status</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@Override</span><span class="pln">
  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Order{"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"id="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id </span><span class="pun">+</span><span class="pln"> </span><span class="str">", description='"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">description </span><span class="pun">+</span><span class="pln"> </span><span class="str">'\''</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">", status="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">status </span><span class="pun">+</span><span class="pln"> </span><span class="str">'}'</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

import java.util.Objects;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.Table;

@Entity
@Table(name = &quot;CUSTOMER_ORDER&quot;)
class Order {

  private @Id @GeneratedValue Long id;

  private String description;
  private Status status;

  Order() {}

  Order(String description, Status status) {

    this.description = description;
    this.status = status;
  }

  public Long getId() {
    return this.id;
  }

  public String getDescription() {
    return this.description;
  }

  public Status getStatus() {
    return this.status;
  }

  public void setId(Long id) {
    this.id = id;
  }

  public void setDescription(String description) {
    this.description = description;
  }

  public void setStatus(Status status) {
    this.status = status;
  }

  @Override
  public boolean equals(Object o) {

    if (this == o)
      return true;
    if (!(o instanceof Order))
      return false;
    Order order = (Order) o;
    return Objects.equals(this.id, order.id) &amp;&amp; Objects.equals(this.description, order.description)
        &amp;&amp; this.status == order.status;
  }

  @Override
  public int hashCode() {
    return Objects.hash(this.id, this.description, this.status);
  }

  @Override
  public String toString() {
    return &quot;Order{&quot; + &quot;id=&quot; + this.id + &quot;, description=&#39;&quot; + this.description + &#39;\&#39;&#39; + &quot;, status=&quot; + this.status + &#39;}&#39;;
  }
}">Copy</button></pre>
</div>
</div>
<div class="ulist">
<ul>
<li> <p>The class requires a JPA <code>@Table</code> annotation changing the tables name to <code>CUSTOMER_ORDER</code> because <code>ORDER</code> is not a valid name for table.</p> </li>
<li> <p>It includes a <code>description</code> field as well as a <code>status</code> field.</p> </li>
</ul>
</div>
<div class="paragraph">
<p>Orders must go through a certain series of state transitions from the time a customer submits an order and it is either fulfilled or cancelled. This can be captured as a Java <code>enum</code>:</p>
</div>
<div class="listingblock">
<div class="title">
links/src/main/java/payroll/Status.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">enum</span><span class="pln"> </span><span class="typ">Status</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  IN_PROGRESS</span><span class="pun">,</span><span class="pln"> </span><span class="com">//</span><span class="pln">
  COMPLETED</span><span class="pun">,</span><span class="pln"> </span><span class="com">//</span><span class="pln">
  CANCELLED
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

enum Status {

  IN_PROGRESS, //
  COMPLETED, //
  CANCELLED
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>This <code>enum</code> captures the various states an <code>Order</code> can occupy. For this tutorial, lets keep it simple.</p>
</div>
<div class="paragraph">
<p>To support interacting with orders in the database, you must define a corresponding Spring Data repository:</p>
</div>
<div class="listingblock">
<div class="title">
Spring Data JPAs <code>JpaRepository</code> base interface
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">interface</span><span class="pln"> </span><span class="typ">OrderRepository</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">JpaRepository</span><span class="pun">&lt;</span><span class="typ">Order</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Long</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="interface OrderRepository extends JpaRepository&lt;Order, Long&gt; {
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>With this in place, you can now define a basic <code>OrderController</code>:</p>
</div>
<div class="listingblock">
<div class="title">
links/src/main/java/payroll/OrderController.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@RestController</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">OrderController</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">OrderRepository</span><span class="pln"> orderRepository</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">OrderModelAssembler</span><span class="pln"> assembler</span><span class="pun">;</span><span class="pln">

  </span><span class="typ">OrderController</span><span class="pun">(</span><span class="typ">OrderRepository</span><span class="pln"> orderRepository</span><span class="pun">,</span><span class="pln"> </span><span class="typ">OrderModelAssembler</span><span class="pln"> assembler</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">orderRepository </span><span class="pun">=</span><span class="pln"> orderRepository</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">assembler </span><span class="pun">=</span><span class="pln"> assembler</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@GetMapping</span><span class="pun">(</span><span class="str">"/orders"</span><span class="pun">)</span><span class="pln">
  </span><span class="typ">CollectionModel</span><span class="pun">&lt;</span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Order</span><span class="pun">&gt;&gt;</span><span class="pln"> all</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Order</span><span class="pun">&gt;&gt;</span><span class="pln"> orders </span><span class="pun">=</span><span class="pln"> orderRepository</span><span class="pun">.</span><span class="pln">findAll</span><span class="pun">().</span><span class="pln">stream</span><span class="pun">()</span><span class="pln"> </span><span class="com">//</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">assembler</span><span class="pun">::</span><span class="pln">toModel</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">collect</span><span class="pun">(</span><span class="typ">Collectors</span><span class="pun">.</span><span class="pln">toList</span><span class="pun">());</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">CollectionModel</span><span class="pun">.</span><span class="kwd">of</span><span class="pun">(</span><span class="pln">orders</span><span class="pun">,</span><span class="pln"> </span><span class="com">//</span><span class="pln">
        linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">OrderController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">all</span><span class="pun">()).</span><span class="pln">withSelfRel</span><span class="pun">());</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@GetMapping</span><span class="pun">(</span><span class="str">"/orders/{id}"</span><span class="pun">)</span><span class="pln">
  </span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Order</span><span class="pun">&gt;</span><span class="pln"> one</span><span class="pun">(</span><span class="lit">@PathVariable</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="typ">Order</span><span class="pln"> order </span><span class="pun">=</span><span class="pln"> orderRepository</span><span class="pun">.</span><span class="pln">findById</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">orElseThrow</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">OrderNotFoundException</span><span class="pun">(</span><span class="pln">id</span><span class="pun">));</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> assembler</span><span class="pun">.</span><span class="pln">toModel</span><span class="pun">(</span><span class="pln">order</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="lit">@PostMapping</span><span class="pun">(</span><span class="str">"/orders"</span><span class="pun">)</span><span class="pln">
  </span><span class="typ">ResponseEntity</span><span class="pun">&lt;</span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Order</span><span class="pun">&gt;&gt;</span><span class="pln"> newOrder</span><span class="pun">(</span><span class="lit">@RequestBody</span><span class="pln"> </span><span class="typ">Order</span><span class="pln"> order</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    order</span><span class="pun">.</span><span class="pln">setStatus</span><span class="pun">(</span><span class="typ">Status</span><span class="pun">.</span><span class="pln">IN_PROGRESS</span><span class="pun">);</span><span class="pln">
    </span><span class="typ">Order</span><span class="pln"> newOrder </span><span class="pun">=</span><span class="pln"> orderRepository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="pln">order</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">ResponseEntity</span><span class="pln"> </span><span class="com">//</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">created</span><span class="pun">(</span><span class="pln">linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">OrderController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">one</span><span class="pun">(</span><span class="pln">newOrder</span><span class="pun">.</span><span class="pln">getId</span><span class="pun">())).</span><span class="pln">toUri</span><span class="pun">())</span><span class="pln"> </span><span class="com">//</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">body</span><span class="pun">(</span><span class="pln">assembler</span><span class="pun">.</span><span class="pln">toModel</span><span class="pun">(</span><span class="pln">newOrder</span><span class="pun">));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@RestController
class OrderController {

  private final OrderRepository orderRepository;
  private final OrderModelAssembler assembler;

  OrderController(OrderRepository orderRepository, OrderModelAssembler assembler) {

    this.orderRepository = orderRepository;
    this.assembler = assembler;
  }

  @GetMapping(&quot;/orders&quot;)
  CollectionModel&lt;EntityModel&lt;Order&gt;&gt; all() {

    List&lt;EntityModel&lt;Order&gt;&gt; orders = orderRepository.findAll().stream() //
        .map(assembler::toModel) //
        .collect(Collectors.toList());

    return CollectionModel.of(orders, //
        linkTo(methodOn(OrderController.class).all()).withSelfRel());
  }

  @GetMapping(&quot;/orders/{id}&quot;)
  EntityModel&lt;Order&gt; one(@PathVariable Long id) {

    Order order = orderRepository.findById(id) //
        .orElseThrow(() -&gt; new OrderNotFoundException(id));

    return assembler.toModel(order);
  }

  @PostMapping(&quot;/orders&quot;)
  ResponseEntity&lt;EntityModel&lt;Order&gt;&gt; newOrder(@RequestBody Order order) {

    order.setStatus(Status.IN_PROGRESS);
    Order newOrder = orderRepository.save(order);

    return ResponseEntity //
        .created(linkTo(methodOn(OrderController.class).one(newOrder.getId())).toUri()) //
        .body(assembler.toModel(newOrder));
  }
}">Copy</button></pre>
</div>
</div>
<div class="ulist">
<ul>
<li> <p>It contains the same REST controller setup as the controllers youve built so far.</p> </li>
<li> <p>It injects both an <code>OrderRepository</code> as well as a (not yet built) <code>OrderModelAssembler</code>.</p> </li>
<li> <p>The first two Spring MVC routes handle the aggregate root as well as a single item <code>Order</code> resource request.</p> </li>
<li> <p>The third Spring MVC route handles creating new orders, by starting them in the <code>IN_PROGRESS</code> state.</p> </li>
<li> <p>All the controller methods return one of Spring HATEOASs <code>RepresentationModel</code> subclasses to properly render hypermedia (or a wrapper around such a type).</p> </li>
</ul>
</div>
<div class="paragraph">
<p>Before building the <code>OrderModelAssembler</code>, lets discuss what needs to happen. You are modeling the flow of states between <code>Status.IN_PROGRESS</code>, <code>Status.COMPLETED</code>, and <code>Status.CANCELLED</code>. A natural thing when serving up such data to clients is to let the clients make the decision on what it can do based on this payload.</p>
</div>
<div class="paragraph">
<p>But that would be wrong.</p>
</div>
<div class="paragraph">
<p>What happens when you introduce a new state in this flow? The placement of various buttons on the UI would probably be erroneous.</p>
</div>
<div class="paragraph">
<p>What if you changed the name of each state, perhaps while coding international support and showing locale-specific text for each state? That would most likely break all the clients.</p>
</div>
<div class="paragraph">
<p>Enter <strong>HATEOAS</strong> or <strong>Hypermedia as the Engine of Application State</strong>. Instead of clients parsing the payload, give them links to signal valid actions. Decouple state-based actions from the payload of data. In other words, when <strong>CANCEL</strong> and <strong>COMPLETE</strong> are valid actions, dynamically add them to the list of links. Clients only need show users the corresponding buttons when the links exist.</p>
</div>
<div class="paragraph">
<p>This decouples clients from having to know WHEN such actions are valid, reducing the risk of the server and its clients getting out of sync on the logic of state transitions.</p>
</div>
<div class="paragraph">
<p>Having already embraced the concept of Spring HATEOAS <code>RepresentationModelAssembler</code> components, putting such logic in the <code>OrderModelAssembler</code> would be the perfect place to capture this business rule:</p>
</div>
<div class="listingblock">
<div class="title">
links/src/main/java/payroll/OrderModelAssembler.java
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">hateoas</span><span class="pun">.</span><span class="pln">server</span><span class="pun">.</span><span class="pln">mvc</span><span class="pun">.</span><span class="typ">WebMvcLinkBuilder</span><span class="pun">.*;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">hateoas</span><span class="pun">.</span><span class="typ">EntityModel</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">hateoas</span><span class="pun">.</span><span class="pln">server</span><span class="pun">.</span><span class="typ">RepresentationModelAssembler</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">stereotype</span><span class="pun">.</span><span class="typ">Component</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@Component</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">OrderModelAssembler</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">RepresentationModelAssembler</span><span class="pun">&lt;</span><span class="typ">Order</span><span class="pun">,</span><span class="pln"> </span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Order</span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="lit">@Override</span><span class="pln">
  </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Order</span><span class="pun">&gt;</span><span class="pln"> toModel</span><span class="pun">(</span><span class="typ">Order</span><span class="pln"> order</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="com">// Unconditional links to single-item resource and aggregate root</span><span class="pln">

    </span><span class="typ">EntityModel</span><span class="pun">&lt;</span><span class="typ">Order</span><span class="pun">&gt;</span><span class="pln"> orderModel </span><span class="pun">=</span><span class="pln"> </span><span class="typ">EntityModel</span><span class="pun">.</span><span class="kwd">of</span><span class="pun">(</span><span class="pln">order</span><span class="pun">,</span><span class="pln">
        linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">OrderController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">one</span><span class="pun">(</span><span class="pln">order</span><span class="pun">.</span><span class="pln">getId</span><span class="pun">())).</span><span class="pln">withSelfRel</span><span class="pun">(),</span><span class="pln">
        linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">OrderController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">all</span><span class="pun">()).</span><span class="pln">withRel</span><span class="pun">(</span><span class="str">"orders"</span><span class="pun">));</span><span class="pln">

    </span><span class="com">// Conditional links based on state of the order</span><span class="pln">

    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">order</span><span class="pun">.</span><span class="pln">getStatus</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="typ">Status</span><span class="pun">.</span><span class="pln">IN_PROGRESS</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      orderModel</span><span class="pun">.</span><span class="kwd">add</span><span class="pun">(</span><span class="pln">linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">OrderController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">cancel</span><span class="pun">(</span><span class="pln">order</span><span class="pun">.</span><span class="pln">getId</span><span class="pun">())).</span><span class="pln">withRel</span><span class="pun">(</span><span class="str">"cancel"</span><span class="pun">));</span><span class="pln">
      orderModel</span><span class="pun">.</span><span class="kwd">add</span><span class="pun">(</span><span class="pln">linkTo</span><span class="pun">(</span><span class="pln">methodOn</span><span class="pun">(</span><span class="typ">OrderController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">).</span><span class="pln">complete</span><span class="pun">(</span><span class="pln">order</span><span class="pun">.</span><span class="pln">getId</span><span class="pun">())).</span><span class="pln">withRel</span><span class="pun">(</span><span class="str">"complete"</span><span class="pun">));</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> orderModel</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

import static org.springframework.hateoas.server.mvc.WebMvcLinkBuilder.*;

import org.springframework.hateoas.EntityModel;
import org.springframework.hateoas.server.RepresentationModelAssembler;
import org.springframework.stereotype.Component;

@Component
class OrderModelAssembler implements RepresentationModelAssembler&lt;Order, EntityModel&lt;Order&gt;&gt; {

  @Override
  public EntityModel&lt;Order&gt; toModel(Order order) {

    // Unconditional links to single-item resource and aggregate root

    EntityModel&lt;Order&gt; orderModel = EntityModel.of(order,
        linkTo(methodOn(OrderController.class).one(order.getId())).withSelfRel(),
        linkTo(methodOn(OrderController.class).all()).withRel(&quot;orders&quot;));

    // Conditional links based on state of the order

    if (order.getStatus() == Status.IN_PROGRESS) {
      orderModel.add(linkTo(methodOn(OrderController.class).cancel(order.getId())).withRel(&quot;cancel&quot;));
      orderModel.add(linkTo(methodOn(OrderController.class).complete(order.getId())).withRel(&quot;complete&quot;));
    }

    return orderModel;
  }
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>This resource assembler always includes the <strong>self</strong> link to the single-item resource as well as a link back to the aggregate root. But it also includes two conditional links to <code>OrderController.cancel(id)</code> as well as <code>OrderController.complete(id)</code> (not yet defined). These links are ONLY shown when the orders status is <code>Status.IN_PROGRESS</code>.</p>
</div>
<div class="paragraph">
<p>If clients can adopt HAL and the ability to read links instead of simply reading the data of plain old JSON, they can trade in the need for domain knowledge about the order system. This naturally reduces coupling between client and server. And it opens the door to tuning the flow of order fulfillment without breaking clients in the process.</p>
</div>
<div class="paragraph">
<p>To round out order fulfillment, add the following to the <code>OrderController</code> for the <code>cancel</code> operation:</p>
</div>
<div class="listingblock">
<div class="title">
Creating a "cancel" operation in the OrderController
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@DeleteMapping</span><span class="pun">(</span><span class="str">"/orders/{id}/cancel"</span><span class="pun">)</span><span class="pln">
</span><span class="typ">ResponseEntity</span><span class="pun">&lt;?&gt;</span><span class="pln"> cancel</span><span class="pun">(</span><span class="lit">@PathVariable</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="typ">Order</span><span class="pln"> order </span><span class="pun">=</span><span class="pln"> orderRepository</span><span class="pun">.</span><span class="pln">findById</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">orElseThrow</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">OrderNotFoundException</span><span class="pun">(</span><span class="pln">id</span><span class="pun">));</span><span class="pln">

  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">order</span><span class="pun">.</span><span class="pln">getStatus</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="typ">Status</span><span class="pun">.</span><span class="pln">IN_PROGRESS</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    order</span><span class="pun">.</span><span class="pln">setStatus</span><span class="pun">(</span><span class="typ">Status</span><span class="pun">.</span><span class="pln">CANCELLED</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">ResponseEntity</span><span class="pun">.</span><span class="pln">ok</span><span class="pun">(</span><span class="pln">assembler</span><span class="pun">.</span><span class="pln">toModel</span><span class="pun">(</span><span class="pln">orderRepository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="pln">order</span><span class="pun">)));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">ResponseEntity</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="typ">HttpStatus</span><span class="pun">.</span><span class="pln">METHOD_NOT_ALLOWED</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">header</span><span class="pun">(</span><span class="typ">HttpHeaders</span><span class="pun">.</span><span class="pln">CONTENT_TYPE</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MediaTypes</span><span class="pun">.</span><span class="pln">HTTP_PROBLEM_DETAILS_JSON_VALUE</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">body</span><span class="pun">(</span><span class="typ">Problem</span><span class="pun">.</span><span class="pln">create</span><span class="pun">()</span><span class="pln"> </span><span class="com">//</span><span class="pln">
          </span><span class="pun">.</span><span class="pln">withTitle</span><span class="pun">(</span><span class="str">"Method not allowed"</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
          </span><span class="pun">.</span><span class="pln">withDetail</span><span class="pun">(</span><span class="str">"You can't cancel an order that is in the "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> order</span><span class="pun">.</span><span class="pln">getStatus</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" status"</span><span class="pun">));</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@DeleteMapping(&quot;/orders/{id}/cancel&quot;)
ResponseEntity&lt;?&gt; cancel(@PathVariable Long id) {

  Order order = orderRepository.findById(id) //
      .orElseThrow(() -&gt; new OrderNotFoundException(id));

  if (order.getStatus() == Status.IN_PROGRESS) {
    order.setStatus(Status.CANCELLED);
    return ResponseEntity.ok(assembler.toModel(orderRepository.save(order)));
  }

  return ResponseEntity //
      .status(HttpStatus.METHOD_NOT_ALLOWED) //
      .header(HttpHeaders.CONTENT_TYPE, MediaTypes.HTTP_PROBLEM_DETAILS_JSON_VALUE) //
      .body(Problem.create() //
          .withTitle(&quot;Method not allowed&quot;) //
          .withDetail(&quot;You can&#39;t cancel an order that is in the &quot; + order.getStatus() + &quot; status&quot;));
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>It checks the <code>Order</code> status before allowing it to be cancelled. If its not a valid state, it returns an <a href="https://tools.ietf.org/html/rfc7807">RFC-7807</a> <code>Problem</code>, a hypermedia-supporting error container. If the transition is indeed valid, it transitions the <code>Order</code> to <code>CANCELLED</code>.</p>
</div>
<div class="paragraph">
<p>And add this to the <code>OrderController</code> as well for order completion:</p>
</div>
<div class="listingblock">
<div class="title">
Creating a "complete" operation in the OrderController
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="lit">@PutMapping</span><span class="pun">(</span><span class="str">"/orders/{id}/complete"</span><span class="pun">)</span><span class="pln">
</span><span class="typ">ResponseEntity</span><span class="pun">&lt;?&gt;</span><span class="pln"> complete</span><span class="pun">(</span><span class="lit">@PathVariable</span><span class="pln"> </span><span class="typ">Long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="typ">Order</span><span class="pln"> order </span><span class="pun">=</span><span class="pln"> orderRepository</span><span class="pun">.</span><span class="pln">findById</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">orElseThrow</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">OrderNotFoundException</span><span class="pun">(</span><span class="pln">id</span><span class="pun">));</span><span class="pln">

  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">order</span><span class="pun">.</span><span class="pln">getStatus</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="typ">Status</span><span class="pun">.</span><span class="pln">IN_PROGRESS</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    order</span><span class="pun">.</span><span class="pln">setStatus</span><span class="pun">(</span><span class="typ">Status</span><span class="pun">.</span><span class="pln">COMPLETED</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">ResponseEntity</span><span class="pun">.</span><span class="pln">ok</span><span class="pun">(</span><span class="pln">assembler</span><span class="pun">.</span><span class="pln">toModel</span><span class="pun">(</span><span class="pln">orderRepository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="pln">order</span><span class="pun">)));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">ResponseEntity</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="typ">HttpStatus</span><span class="pun">.</span><span class="pln">METHOD_NOT_ALLOWED</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">header</span><span class="pun">(</span><span class="typ">HttpHeaders</span><span class="pun">.</span><span class="pln">CONTENT_TYPE</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MediaTypes</span><span class="pun">.</span><span class="pln">HTTP_PROBLEM_DETAILS_JSON_VALUE</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">body</span><span class="pun">(</span><span class="typ">Problem</span><span class="pun">.</span><span class="pln">create</span><span class="pun">()</span><span class="pln"> </span><span class="com">//</span><span class="pln">
          </span><span class="pun">.</span><span class="pln">withTitle</span><span class="pun">(</span><span class="str">"Method not allowed"</span><span class="pun">)</span><span class="pln"> </span><span class="com">//</span><span class="pln">
          </span><span class="pun">.</span><span class="pln">withDetail</span><span class="pun">(</span><span class="str">"You can't complete an order that is in the "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> order</span><span class="pun">.</span><span class="pln">getStatus</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" status"</span><span class="pun">));</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="@PutMapping(&quot;/orders/{id}/complete&quot;)
ResponseEntity&lt;?&gt; complete(@PathVariable Long id) {

  Order order = orderRepository.findById(id) //
      .orElseThrow(() -&gt; new OrderNotFoundException(id));

  if (order.getStatus() == Status.IN_PROGRESS) {
    order.setStatus(Status.COMPLETED);
    return ResponseEntity.ok(assembler.toModel(orderRepository.save(order)));
  }

  return ResponseEntity //
      .status(HttpStatus.METHOD_NOT_ALLOWED) //
      .header(HttpHeaders.CONTENT_TYPE, MediaTypes.HTTP_PROBLEM_DETAILS_JSON_VALUE) //
      .body(Problem.create() //
          .withTitle(&quot;Method not allowed&quot;) //
          .withDetail(&quot;You can&#39;t complete an order that is in the &quot; + order.getStatus() + &quot; status&quot;));
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>This implements similar logic to prevent an <code>Order</code> status from being completed unless in the proper state.</p>
</div>
<div class="paragraph">
<p>Lets update <code>LoadDatabase</code> to pre-load some <code>Order</code>s along with the <code>Employee</code>s it was loading before.</p>
</div>
<div class="listingblock">
<div class="title">
Updating the database pre-loader
</div>
<div class="content">
<pre class="prettyprint highlight prettyprinted" style=""><code data-lang="java"><span class="kwd">package</span><span class="pln"> payroll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">slf4j</span><span class="pun">.</span><span class="typ">Logger</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">slf4j</span><span class="pun">.</span><span class="typ">LoggerFactory</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">boot</span><span class="pun">.</span><span class="typ">CommandLineRunner</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">context</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">Bean</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">context</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">Configuration</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@Configuration</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">LoadDatabase</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">Logger</span><span class="pln"> log </span><span class="pun">=</span><span class="pln"> </span><span class="typ">LoggerFactory</span><span class="pun">.</span><span class="pln">getLogger</span><span class="pun">(</span><span class="typ">LoadDatabase</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span><span class="pln">

  </span><span class="lit">@Bean</span><span class="pln">
  </span><span class="typ">CommandLineRunner</span><span class="pln"> initDatabase</span><span class="pun">(</span><span class="typ">EmployeeRepository</span><span class="pln"> employeeRepository</span><span class="pun">,</span><span class="pln"> </span><span class="typ">OrderRepository</span><span class="pln"> orderRepository</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> args </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      employeeRepository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Employee</span><span class="pun">(</span><span class="str">"Bilbo"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Baggins"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"burglar"</span><span class="pun">));</span><span class="pln">
      employeeRepository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Employee</span><span class="pun">(</span><span class="str">"Frodo"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Baggins"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"thief"</span><span class="pun">));</span><span class="pln">

      employeeRepository</span><span class="pun">.</span><span class="pln">findAll</span><span class="pun">().</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">employee </span><span class="pun">-&gt;</span><span class="pln"> log</span><span class="pun">.</span><span class="pln">info</span><span class="pun">(</span><span class="str">"Preloaded "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> employee</span><span class="pun">));</span><span class="pln">

      
      orderRepository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Order</span><span class="pun">(</span><span class="str">"MacBook Pro"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Status</span><span class="pun">.</span><span class="pln">COMPLETED</span><span class="pun">));</span><span class="pln">
      orderRepository</span><span class="pun">.</span><span class="pln">save</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Order</span><span class="pun">(</span><span class="str">"iPhone"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Status</span><span class="pun">.</span><span class="pln">IN_PROGRESS</span><span class="pun">));</span><span class="pln">

      orderRepository</span><span class="pun">.</span><span class="pln">findAll</span><span class="pun">().</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">order </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        log</span><span class="pun">.</span><span class="pln">info</span><span class="pun">(</span><span class="str">"Preloaded "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> order</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
      
    </span><span class="pun">};</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code><button class="copy-button button button-small animate" data-clipboard-text="package payroll;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.boot.CommandLineRunner;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
class LoadDatabase {

  private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);

  @Bean
  CommandLineRunner initDatabase(EmployeeRepository employeeRepository, OrderRepository orderRepository) {

    return args -&gt; {
      employeeRepository.save(new Employee(&quot;Bilbo&quot;, &quot;Baggins&quot;, &quot;burglar&quot;));
      employeeRepository.save(new Employee(&quot;Frodo&quot;, &quot;Baggins&quot;, &quot;thief&quot;));

      employeeRepository.findAll().forEach(employee -&gt; log.info(&quot;Preloaded &quot; + employee));

      
      orderRepository.save(new Order(&quot;MacBook Pro&quot;, Status.COMPLETED));
      orderRepository.save(new Order(&quot;iPhone&quot;, Status.IN_PROGRESS));

      orderRepository.findAll().forEach(order -&gt; {
        log.info(&quot;Preloaded &quot; + order);
      });
      
    };
  }
}">Copy</button></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can test things out!</p>
</div>
<div class="paragraph">
<p>To use the newly minted order service, just perform a few operations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -v http://localhost:8080/orders

{
  "_embedded": {
    "orderList": [
      {
        "id": 3,
        "description": "MacBook Pro",
        "status": "COMPLETED",
        "_links": {
          "self": {
            "href": "http://localhost:8080/orders/3"
          },
          "orders": {
            "href": "http://localhost:8080/orders"
          }
        }
      },
      {
        "id": 4,
        "description": "iPhone",
        "status": "IN_PROGRESS",
        "_links": {
          "self": {
            "href": "http://localhost:8080/orders/4"
          },
          "orders": {
            "href": "http://localhost:8080/orders"
          },
          "cancel": {
            "href": "http://localhost:8080/orders/4/cancel"
          },
          "complete": {
            "href": "http://localhost:8080/orders/4/complete"
          }
        }
      }
    ]
  },
  "_links": {
    "self": {
      "href": "http://localhost:8080/orders"
    }
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>This HAL document immediately shows different links for each order, based upon its present state.</p>
</div>
<div class="ulist">
<ul>
<li> <p>The first order, being <strong>COMPLETED</strong> only has the navigational links. The state transition links are not shown.</p> </li>
<li> <p>The second order, being <strong>IN_PROGRESS</strong> additionally has the <strong>cancel</strong> link as well as the <strong>complete</strong> link.</p> </li>
</ul>
</div>
<div class="paragraph">
<p>Try cancelling an order:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -v -X DELETE http://localhost:8080/orders/4/cancel

&gt; DELETE /orders/4/cancel HTTP/1.1
&gt; Host: localhost:8080
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt;
&lt; HTTP/1.1 200
&lt; Content-Type: application/hal+json;charset=UTF-8
&lt; Transfer-Encoding: chunked
&lt; Date: Mon, 27 Aug 2018 15:02:10 GMT
&lt;
{
  "id": 4,
  "description": "iPhone",
  "status": "CANCELLED",
  "_links": {
    "self": {
      "href": "http://localhost:8080/orders/4"
    },
    "orders": {
      "href": "http://localhost:8080/orders"
    }
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>This response shows an <strong>HTTP 200</strong> status code indicating it was successful. The response HAL document shows that order in its new state (<code>CANCELLED</code>). And the state-altering links gone.</p>
</div>
<div class="paragraph">
<p>If you try the same operation again</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -v -X DELETE http://localhost:8080/orders/4/cancel

* TCP_NODELAY set
* Connected to localhost (::1) port 8080 (#0)
&gt; DELETE /orders/4/cancel HTTP/1.1
&gt; Host: localhost:8080
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt;
&lt; HTTP/1.1 405
&lt; Content-Type: application/problem+json
&lt; Transfer-Encoding: chunked
&lt; Date: Mon, 27 Aug 2018 15:03:24 GMT
&lt;
{
  "title": "Method not allowed",
  "detail": "You can't cancel an order that is in the CANCELLED status"
}</pre>
</div>
</div>
<div class="paragraph">
<p>you see an <strong>HTTP 405 Method Not Allowed</strong> response. <strong>DELETE</strong> has become an invalid operation. The <code>Problem</code> response object clearly indicates that you arent allowed to "cancel" an order already in the "CANCELLED" status.</p>
</div>
<div class="paragraph">
<p>Additionally, trying to complete the same order also fails:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -v -X PUT localhost:8080/orders/4/complete

* TCP_NODELAY set
* Connected to localhost (::1) port 8080 (#0)
&gt; PUT /orders/4/complete HTTP/1.1
&gt; Host: localhost:8080
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt;
&lt; HTTP/1.1 405
&lt; Content-Type: application/problem+json
&lt; Transfer-Encoding: chunked
&lt; Date: Mon, 27 Aug 2018 15:05:40 GMT
&lt;
{
  "title": "Method not allowed",
  "detail": "You can't complete an order that is in the CANCELLED status"
}</pre>
</div>
</div>
<div class="paragraph">
<p>With all this in place, your order fulfillment service is capable of conditionally showing what operations are available. It also guards against invalid operations.</p>
</div>
<div class="paragraph">
<p>By leveraging the protocol of hypermedia and links, clients can be built sturdier and less likely to break simply because of a change in the data. And Spring HATEOAS eases building the hypermedia you need to serve to your clients.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Throughout this tutorial, you have engaged in various tactics to build REST APIs. As it turns out, REST isnt just about pretty URIs and returning JSON instead of XML.</p>
</div>
<div class="paragraph">
<p>Instead, the following tactics help make your services less likely to break existing clients you may or may not control:</p>
</div>
<div class="ulist">
<ul>
<li> <p>Dont remove old fields. Instead, support them.</p> </li>
<li> <p>Use rel-based links so clients dont have to hard code URIs.</p> </li>
<li> <p>Retain old links as long as possible. Even if you have to change the URI, keep the rels so older clients have a path onto the newer features.</p> </li>
<li> <p>Use links, not payload data, to instruct clients when various state-driving operations are available.</p> </li>
</ul>
</div>
<div class="paragraph">
<p>It may appear to be a bit of effort to build up <code>RepresentationModelAssembler</code> implementations for each resource type and to use these components in all of your controllers. But this extra bit of server-side setup (made easy thanks to Spring HATEOAS) can ensure the clients you control (and more importantly, those you dont) can upgrade with ease as you evolve your API.</p>
</div>
<div class="paragraph">
<p>This concludes our tutorial on how to build RESTful services using Spring. Each section of this tutorial is managed as a separate subproject in a single github repo:</p>
</div>
<div class="ulist">
<ul>
<li> <p><strong>nonrest</strong>  Simple Spring MVC app with no hypermedia</p> </li>
<li> <p><strong>rest</strong>  Spring MVC + Spring HATEOAS app with HAL representations of each resource</p> </li>
<li> <p><strong>evolution</strong>  REST app where a field is evolved but old data is retained for backward compatibility</p> </li>
<li> <p><strong>links</strong>  REST app where conditional links are used to signal valid state changes to clients</p> </li>
</ul>
</div>
<div class="paragraph">
<p>To view more examples of using Spring HATEOAS see <a href="https://github.com/spring-projects/spring-hateoas-examples" class="bare">https://github.com/spring-projects/spring-hateoas-examples</a>.</p>
</div>
<div class="paragraph">
<p>To do some more exploring check out the following video by Spring teammate Oliver Gierke:</p>
</div>
<div class="videoblock">
<div class="content"> <iframe src="./Tutorial _ Building REST services with Spring_files/WDBUlu_lYas.html" frameborder="0" allowfullscreen=""></iframe>
</div>
</div>
<div class="paragraph">
<p>Want to write a new guide or contribute to an existing one? Check out our <a href="https://github.com/spring-guides/getting-started-guides/wiki">contribution guidelines</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-important" title="Important"></i> </td>
<td class="content"> All guides are released with an ASLv2 license for the code, and an <a href="https://creativecommons.org/licenses/by-nd/3.0/">Attribution, NoDerivatives creative commons license</a> for the writing. </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</article>
</div>
<aside class="span4 content-right-pane--container mobile-left-pane" id="sidebar">
<a class="ci-status desktop-only" href="https://travis-ci.org/spring-guides/tut-rest">
<img src="./Tutorial _ Building REST services with Spring_files/passing.svg">
</a>
<div class="right-pane-widget--container desktop-only">
<div class="github-actions https">
<h2>Get the Code</h2>
<div class="btn-group">
<button class="btn" data-protocol="https">HTTPS</button>
<button class="btn" data-protocol="ssh">SSH</button>
</div>
<div class="clone-url https">
<input id="clone-url-https" readonly="readonly" type="text" value="https://github.com/spring-guides/tut-rest.git">
<button class="copy-button github" data-toggle="tooltip" data-clipboard-text="https://github.com/spring-guides/tut-rest.git"></button>
</div>
<div class="clone-url ssh">
<input id="clone-url-ssh" readonly="readonly" type="text" value="git@github.com:spring-guides/tut-rest.git">
<button class="copy-button github" data-toggle="tooltip" data-clipboard-text="git@github.com:spring-guides/tut-rest.git"></button>
</div>
<a class="github_download btn btn-black uppercase" href="https://github.com/spring-guides/tut-rest/archive/master.zip">Download ZIP</a>
<a class="gs-guide-import" href="https://github.com/spring-guides/tut-rest.git">Import into STS</a>
<div class="go-to-repo--container">
<a href="https://github.com/spring-guides/tut-rest"><i class="fab fa-github"></i>Go To Repo</a>
</div>
</div>
</div>
<div class="right-pane-widget--container">
<div>
<h3><a name="table-of-contents" class="anchor" href="https://spring.io/guides/tutorials/rest/#table-of-contents"></a>Table of contents</h3>
<div><ul class="sectlevel1">
<li><a href="https://spring.io/guides/tutorials/rest/#_getting_started">Getting Started</a></li>
<li><a href="https://spring.io/guides/tutorials/rest/#_the_story_so_far">The Story so Far</a></li>
<li><a href="https://spring.io/guides/tutorials/rest/#_http_is_the_platform">HTTP is the Platform</a></li>
<li><a href="https://spring.io/guides/tutorials/rest/#_what_makes_something_restful">What makes something RESTful?</a></li>
<li><a href="https://spring.io/guides/tutorials/rest/#_simplifying_link_creation">Simplifying Link Creation</a></li>
<li><a href="https://spring.io/guides/tutorials/rest/#_evolving_rest_apis">Evolving REST APIs</a> </li>
<li><a href="https://spring.io/guides/tutorials/rest/#_building_links_into_your_rest_api">Building links into your REST API</a></li>
<li><a href="https://spring.io/guides/tutorials/rest/#_summary">Summary</a></li>
</ul></div>
</div>
</div>
</aside>
</div>
</main>
</div>
</div>

<footer>
<div id="top">
<div class="container flex jc-between mx-auto">
<div id="green-circle-sm"></div>

<img id="circle-grid" src="./Tutorial _ Building REST services with Spring_files/footer-circles-dc4b03d4edc1f3b7b42a45bdcce411c8.svg" alt="">
<div class="third">
<h2 class="bold h3 antialiased">Get ahead</h2>
<p>VMware offers training and certification to turbo-charge your progress.</p>
<a href="https://spring.io/training" class="blue link-animate">Learn more</a>
</div>
<div class="third">
<h2 class="bold h3 antialiased">Get support</h2>
<p>Spring Runtime offers support and binaries for OpenJDK, Spring, and Apache Tomcat in one simple subscription.</p>
<a href="https://spring.io/support" class="blue link-animate">Learn more</a>
</div>
<div class="third">
<h2 class="bold h3 antialiased">Upcoming events</h2>
<div class="footer-event">
<p>Check out all the upcoming events in the Spring community.</p>
<a href="https://spring.io/events" class="blue link-animate">View all</a>
</div>
</div>
</div>
</div>
<div id="bottom">
<div id="bottom-top">
<div id="footer-over" class="mx-auto">
<div class="container flex jc-between mx-auto">
<div class="left">
<div class="flex jc-between">
<div class="footer-column">
<p><strong><a href="https://spring.io/why-spring">Why Spring</a></strong></p>
<ul>
<li><a href="https://spring.io/microservices">Microservices</a></li>
<li><a href="https://spring.io/reactive">Reactive</a></li>
<li><a href="https://spring.io/event-driven">Event Driven</a></li>
<li><a href="https://spring.io/cloud">Cloud</a></li>
<li><a href="https://spring.io/web-applications">Web Applications</a></li>
<li><a href="https://spring.io/serverless">Serverless</a></li>
<li><a href="https://spring.io/batch">Batch</a></li>
</ul>
</div>
<div class="footer-column">
<p><strong><a href="https://spring.io/learn">Learn</a></strong></p>
<ul>
<li><a href="https://spring.io/quickstart">Quickstart</a></li>
<li><a href="https://spring.io/guides">Guides</a></li>
<li><a href="https://spring.io/blog">Blog</a></li>
</ul>
</div>
<div class="footer-column">
<p><strong><a href="https://spring.io/community">Community</a></strong></p>
<ul>
<li><a href="https://spring.io/events">Events</a></li>
<li><a href="https://spring.io/team">Team</a></li>
</ul>
</div>
<div class="footer-column">
<p><strong><a href="https://spring.io/projects">Projects</a></strong></p>
<p><strong><a href="https://spring.io/training">Training</a></strong></p>
<p><strong><a href="https://spring.io/support">Support</a></strong></p>
<p><strong><a href="https://spring.io/thank-you">Thank You</a></strong></p>
</div>
</div>
</div>
<div class="right">
<h2 class="h3 mb-2 antialiased hide">Get the Spring newsletter</h2>
<h2 class="h3 mb-2 antialiased confirmation">Thank you!</h2>
<script src="./Tutorial _ Building REST services with Spring_files/forms2.min.js"></script>
<form id="mktoForm_4723" novalidate="novalidate" class="mktoForm mktoHasWidth mktoLayoutLeft" style="font-family: Helvetica, Arial, sans-serif; font-size: 13px; color: rgb(51, 51, 51); width: 419px;"><style type="text/css">.mktoForm .mktoButtonWrap.mktoSimple .mktoButton {
color:#fff;
border:1px solid #75ae4c;
padding:0.4em 1em;
font-size:1em;
background-color:#99c47c;
background-image: -webkit-gradient(linear, left top, left bottom, from(#99c47c), to(#75ae4c));
background-image: -webkit-linear-gradient(top, #99c47c, #75ae4c);
background-image: -moz-linear-gradient(top, #99c47c, #75ae4c);
background-image: linear-gradient(to bottom, #99c47c, #75ae4c);
}
.mktoForm .mktoButtonWrap.mktoSimple .mktoButton:hover {
border:1px solid #447f19;
}
.mktoForm .mktoButtonWrap.mktoSimple .mktoButton:focus {
outline:none;
border:1px solid #447f19;
}
.mktoForm .mktoButtonWrap.mktoSimple .mktoButton:active{
background-color:#75ae4c;
background-image: -webkit-gradient(linear, left top, left bottom, from(#75ae4c), to(#99c47c));
background-image: -webkit-linear-gradient(top, #75ae4c, #99c47c);
background-image: -moz-linear-gradient(top, #75ae4c, #99c47c);
background-image: linear-gradient(to bottom, #75ae4c, #99c47c);
}
</style><div class="mktoFormRow"><div class="mktoFieldDescriptor mktoFormCol" style="margin-bottom: 10px;"><div class="mktoOffset" style="width: 10px;"></div><div class="mktoFieldWrap mktoRequiredField"><label for="Email" id="LblEmail" class="mktoLabel mktoHasWidth" style="width: 0px;"><div class="mktoAsterix">*</div></label><div class="mktoGutter mktoHasWidth" style="width: 10px;"></div><input id="Email" name="Email" placeholder="Email Address" maxlength="255" aria-labelledby="LblEmail InstructEmail" type="email" class="mktoField mktoEmailField mktoHasWidth mktoRequired" aria-required="true" style="width: 150px;"><span id="InstructEmail" tabindex="-1" class="mktoInstruction"></span><div class="mktoClear"></div></div><div class="mktoClear"></div></div><div class="mktoClear"></div></div><div class="mktoFormRow"><div class="mktoFieldDescriptor mktoFormCol" style="margin-bottom: 10px;"><div class="mktoOffset" style="width: 10px;"></div><div class="mktoFieldWrap mktoRequiredField"><label for="Email_Consent__c" id="LblEmail_Consent__c" class="mktoLabel mktoHasWidth" style="width: 0px;"><div class="mktoAsterix">*</div></label><div class="mktoGutter mktoHasWidth" style="width: 10px;"></div><div class="mktoLogicalField mktoCheckboxList mktoHasWidth mktoRequired" style="width: 280px;"><input name="Email_Consent__c" id="mktoCheckbox_121736_0" type="checkbox" value="true" aria-required="true" aria-labelledby="LblEmail_Consent__c LblmktoCheckbox_121736_0 InstructEmail_Consent__c" class="mktoField"><label for="mktoCheckbox_121736_0" id="LblmktoCheckbox_121736_0">Yes, I would like to be contacted by The Spring Team and VMware for newsletters, promotions and events</label></div><span id="InstructEmail_Consent__c" tabindex="-1" class="mktoInstruction"></span><div class="mktoClear"></div></div><div class="mktoClear"></div></div><div class="mktoClear"></div></div><div class="mktoButtonRow"><span class="mktoButtonWrap mktoSimple" style="margin-left: 120px;"><button type="submit" class="mktoButton">Subscribe</button></span></div><input type="hidden" name="formid" class="mktoField mktoFieldDescriptor" value="4723"><input type="hidden" name="munchkinId" class="mktoField mktoFieldDescriptor" value="625-IUJ-009"></form>
<script>
                            MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723 , function(form){
                                form.onSuccess(function(values, followUpUrl){
                                    form.getFormElem().hide();
                                    $('.hide').hide();
                                    $('.confirmation').show();
                                    return false;
                                });
                            });
                        </script>
</div>
</div>
</div>
</div>
<div id="bottom-bottom">
<div class="flex container jc-between">
<div id="spring-links">
<img id="springlogo-foot" src="./Tutorial _ Building REST services with Spring_files/spring-logo-2022-93b99aee11ba10c57283810ff6f7f500.svg" alt="Spring">
<img id="springlogo-foot-dark" src="./Tutorial _ Building REST services with Spring_files/spring-logo-2022-dark-2f10e8055653ec50e693eb444291d742.svg" alt="Spring">
<p class="smallest antialiased"> <script>var d = new Date();
                    document.write(d.getFullYear());</script>2022 <a href="https://www.vmware.com/">VMware</a>, Inc. or its affiliates. <a href="https://www.vmware.com/help/legal.html">Terms of Use</a>  <a href="https://www.vmware.com/help/privacy.html" rel="noopener noreferrer">Privacy</a>  <a href="https://spring.io/trademarks">Trademark Guidelines</a> <span id="thank-you-mobile"> <a href="https://spring.io/thank-you">Thank you</a></span>  <a href="https://www.vmware.com/help/privacy/california-privacy-rights.html">Your California Privacy Rights</a>  <a class="ot-sdk-show-settings">Cookie Settings</a> <span id="teconsent"></span></p>
<p class="smallest antialiased">Apache, Apache Tomcat, Apache Kafka, Apache Cassandra, and Apache Geode are trademarks or registered trademarks of the Apache Software Foundation in the United States and/or other countries. Java, Java SE, Java EE, and OpenJDK are trademarks of Oracle and/or its affiliates. Kubernetes is a registered trademark of the Linux Foundation in the United States and other countries. Linux is the registered trademark of Linus Torvalds in the United States and other countries. Windows and Microsoft Azure are registered trademarks of Microsoft Corporation. AWS and Amazon Web Services are trademarks or registered trademarks of Amazon.com Inc. or its affiliates. All other trademarks and copyrights are property of their respective owners and are only mentioned for informative purposes. Other names may be trademarks of their respective owners.</p>
</div>
<div id="social-icons" class="flex jc-between">
<a href="https://www.youtube.com/user/SpringSourceDev" title="Youtube"><svg id="youtube-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><circle class="cls-1" cx="20" cy="20" r="20"></circle><path class="cls-2" d="M30.91,14.53a2.89,2.89,0,0,0-2-2C27.12,12,20,12,20,12s-7.12,0-8.9.47a2.9,2.9,0,0,0-2,2A30.56,30.56,0,0,0,8.63,20a30.44,30.44,0,0,0,.46,5.47,2.89,2.89,0,0,0,2,2C12.9,28,20,28,20,28s7.12,0,8.9-.47a2.87,2.87,0,0,0,2-2A30.56,30.56,0,0,0,31.37,20,28.88,28.88,0,0,0,30.91,14.53ZM17.73,23.41V16.59L23.65,20Z"></path></svg></a>
<a href="https://github.com/spring-projects" title="Github"><svg id="github-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><path class="cls-1" d="M38,0a38,38,0,1,0,38,38A38,38,0,0,0,38,0Z"></path><path class="cls-2" d="M38,15.59A22.95,22.95,0,0,0,30.71,60.3c1.15.21,1.57-.5,1.57-1.11s0-2,0-3.9c-6.38,1.39-7.73-3.07-7.73-3.07A6.09,6.09,0,0,0,22,48.86c-2.09-1.42.15-1.39.15-1.39a4.81,4.81,0,0,1,3.52,2.36c2,3.5,5.37,2.49,6.67,1.91a4.87,4.87,0,0,1,1.46-3.07c-5.09-.58-10.45-2.55-10.45-11.34a8.84,8.84,0,0,1,2.36-6.15,8.29,8.29,0,0,1,.23-6.07s1.92-.62,6.3,2.35a21.82,21.82,0,0,1,11.49,0c4.38-3,6.3-2.35,6.3-2.35a8.29,8.29,0,0,1,.23,6.07,8.84,8.84,0,0,1,2.36,6.15c0,8.81-5.37,10.75-10.48,11.32a5.46,5.46,0,0,1,1.56,4.25c0,3.07,0,5.54,0,6.29s.42,1.33,1.58,1.1A22.94,22.94,0,0,0,38,15.59Z"></path></svg></a>
<a href="https://twitter.com/springcentral" title="Twitter"><svg id="twitter-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><circle class="cls-1" cx="37.97" cy="37.97" r="37.97"></circle><path id="Twitter-2" data-name="Twitter" class="cls-2" d="M55.2,22.73a15.43,15.43,0,0,1-4.88,1.91,7.56,7.56,0,0,0-5.61-2.49A7.78,7.78,0,0,0,37,30a7.56,7.56,0,0,0,.2,1.79,21.63,21.63,0,0,1-15.84-8.23,8,8,0,0,0,2.37,10.52,7.66,7.66,0,0,1-3.48-1v.09A7.84,7.84,0,0,0,26.45,41a7.54,7.54,0,0,1-2,.28A7.64,7.64,0,0,1,23,41.09a7.71,7.71,0,0,0,7.18,5.47,15.21,15.21,0,0,1-9.55,3.37,15.78,15.78,0,0,1-1.83-.11,21.41,21.41,0,0,0,11.78,3.54c14.13,0,21.86-12,21.86-22.42,0-.34,0-.68,0-1a15.67,15.67,0,0,0,3.83-4.08,14.9,14.9,0,0,1-4.41,1.24A7.8,7.8,0,0,0,55.2,22.73Z"></path></svg></a>
</div>
</div>
</div>
</div>
</footer>
<script src="./Tutorial _ Building REST services with Spring_files/main-de96f17f53ec49ad0af83e2a9c646c2d.js"></script>
<script defer="" src="./Tutorial _ Building REST services with Spring_files/v652eace1692a40cfa3763df669d7439c1639079717194" integrity="sha512-Gi7xpJR8tSkrpF7aordPZQlW2DLtzUlZcumS8dMQjwDHEnw9I7ZLyiOj/6tZStRBGtGgN6ceN6cMH8z7etPGlw==" data-cf-beacon="{&quot;rayId&quot;:&quot;75eac4d93befd20c&quot;,&quot;token&quot;:&quot;bffcb8a918ae4755926f76178bfbd26b&quot;,&quot;version&quot;:&quot;2022.10.3&quot;,&quot;si&quot;:100}" crossorigin="anonymous"></script>


<div id="onetrust-consent-sdk"><div class="onetrust-pc-dark-filter ot-hide ot-fade-in"></div><div id="onetrust-pc-sdk" class="ot-sdk-container otPcTab ot-hide ot-fade-in" role="alertdialog" aria-modal="true" lang="en-GB" aria-label="Cookie Preference Center"><!-- pc header --><div class="pc-header"><!-- Header logo --><div class="pc-logo-container"><div class="pc-logo" role="img" aria-label="Company Logo" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/75805b91-90db-405c-a89b-da401a2aa4e2/bafda1da-d069-4ed2-b8cf-0123b26550fc/d2903511-6e0c-4725-9130-8985b4b0c828/vm-logo.png&quot;);
                    background-position: left;"></div></div><div class="pc-title-container"><h2 id="pc-title">Cookie Preference Center</h2><div class="pc-close-btn-container"><button id="close-pc-btn-handler" class="pc-close-button ot-close-icon" aria-label="Close"></button></div></div></div><!-- content --><div id="ot-content"><!-- Groups / Sub groups with cookies --><div class="ot-main-content pc-content"><div class="ot-sdk-container groups-container"><div class="ot-sdk-row" role="tablist" aria-label="Cookie Categories"><!-- About Privacy container --><div class="ot-sdk-column"><div class="ot-sdk-four ot-sdk-columns group active-group category-menu-switch-handler" role="tab" tabindex="0" aria-selected="true" aria-controls="pc-tab-description"><h3 id="privacy-text">General Information on cookies</h3></div></div><div class="ot-sdk-eight ot-sdk-columns description-container" id="pc-tab-description" tabindex="0" role="tabpanel" aria-labelledby="pc-privacy-header"><h4 id="pc-privacy-header">General Information on cookies</h4><p id="pc-policy-text" class="group-description">When you visit our website, we use cookies to ensure that we give you the best experience. This information does not usually directly identify you, but it can give you a more personalized web experience. Because we respect your right to privacy, you can choose not to allow some types of cookies by clicking on the different category headings to find out more and change your settings. However, blocking some types of cookies may impact your experience on the site and the services we are able to offer. Further information can be found in our 
                <br><a href="https://www.vmware.com/uk/help/privacy/cookie-notice.html" class="privacy-notice-link" rel="noopener" target="_blank" aria-label="More information about your privacy, opens in a new tab">Cookie Policy.</a></p></div><ul class="category-group"><li class="category-item ot-always-active-group" data-optanongroupid="C0001"><div class="ot-sdk-column"><div class="ot-sdk-four ot-sdk-columns group category-menu-switch-handler" role="tab" tabindex="-1" aria-selected="false" aria-controls="ot-desc-id-C0001"><h3 id="ot-header-id-C0001">Strictly Necessary</h3></div></div><div class="ot-sdk-eight ot-sdk-columns description-container ot-hide ot-always-active-group" role="tabpanel" tabindex="0" id="ot-desc-id-C0001"><div class="group-toggle"><h4 class="category-header">Strictly Necessary</h4><div class="ot-toggle-group"><div class="ot-always-active">Always Active</div><div class="ot-toggle ot-hide-tgl"><div class="checkbox"><!-- DYNAMICALLY GENERATE Input ID  --> <input id="ot-group-id-C0001" class="category-switch-handler" type="checkbox" role="switch" aria-checked="true" aria-controls="ot-desc-id-C0001" aria-labelledby="ot-header-id-C0001" aria-hidden="true" name="ot-group-id-C0001" data-optanongroupid="C0001" checked=""> <label for="ot-group-id-C0001"><span class="label-text">Strictly Necessary</span></label><!-- DYNAMICALLY GENERATE Input ID  --></div></div></div></div><p class="group-description ot-category-desc">Strictly necessary cookies are always enabled since they are essential for our website to function. They enable core functionality such as security, network management, and website accessibility. You can set your browser to block or alert you about these cookies, but this may affect how the website functions. For more information please visit www.aboutcookies.org or www.allaboutcookies.org.</p><!-- sub groups --><div class="category-host-list-container"><button class="ot-link-btn category-host-list-btn category-host-list-handler" aria-label="Cookie Details button opens Cookie List menu" data-parent-id="C0001">Cookie Details</button></div></div></li><li class="category-item" data-optanongroupid="C0002"><div class="ot-sdk-column"><div class="ot-sdk-four ot-sdk-columns group category-menu-switch-handler" role="tab" tabindex="-1" aria-selected="false" aria-controls="ot-desc-id-C0002"><h3 id="ot-header-id-C0002">Performance </h3></div></div><div class="ot-sdk-eight ot-sdk-columns description-container ot-hide" role="tabpanel" tabindex="0" id="ot-desc-id-C0002"><div class="group-toggle"><h4 class="category-header">Performance </h4><div class="ot-toggle-group"><div class="ot-toggle"><div class="checkbox"><!-- DYNAMICALLY GENERATE Input ID  --> <input id="ot-group-id-C0002" class="category-switch-handler" type="checkbox" role="switch" aria-checked="true" aria-controls="ot-desc-id-C0002" aria-labelledby="ot-header-id-C0002" name="ot-group-id-C0002" data-optanongroupid="C0002" checked=""> <label for="ot-group-id-C0002"><span class="label-text">Performance </span></label><!-- DYNAMICALLY GENERATE Input ID  --></div></div></div></div><p class="group-description ot-category-desc">Performance cookies are used to analyze the user experience to improve our website by collecting and reporting information on how you use it. They allow us to know which pages are the most and least popular, see how visitors move around the site, optimize our website and make it easier to navigate.</p><!-- sub groups --><div class="category-host-list-container"><button class="ot-link-btn category-host-list-btn category-host-list-handler" aria-label="Cookie Details button opens Cookie List menu" data-parent-id="C0002">Cookie Details</button></div></div></li><li class="category-item" data-optanongroupid="C0003"><div class="ot-sdk-column"><div class="ot-sdk-four ot-sdk-columns group category-menu-switch-handler" role="tab" tabindex="-1" aria-selected="false" aria-controls="ot-desc-id-C0003"><h3 id="ot-header-id-C0003">Functional</h3></div></div><div class="ot-sdk-eight ot-sdk-columns description-container ot-hide" role="tabpanel" tabindex="0" id="ot-desc-id-C0003"><div class="group-toggle"><h4 class="category-header">Functional</h4><div class="ot-toggle-group"><div class="ot-toggle"><div class="checkbox"><!-- DYNAMICALLY GENERATE Input ID  --> <input id="ot-group-id-C0003" class="category-switch-handler" type="checkbox" role="switch" aria-checked="true" aria-controls="ot-desc-id-C0003" aria-labelledby="ot-header-id-C0003" name="ot-group-id-C0003" data-optanongroupid="C0003" checked=""> <label for="ot-group-id-C0003"><span class="label-text">Functional</span></label><!-- DYNAMICALLY GENERATE Input ID  --></div></div></div></div><p class="group-description ot-category-desc">Functional cookies help us keep track of your past browsing choices so we can improve usability and customize your experience. These cookies enable the website to remember your preferred settings, language preferences, location and other customizable elements such as font or text size. If you do not allow these cookies, then some or all of these services may not function properly.</p><!-- sub groups --><div class="category-host-list-container"><button class="ot-link-btn category-host-list-btn category-host-list-handler" aria-label="Cookie Details button opens Cookie List menu" data-parent-id="C0003">Cookie Details</button></div></div></li><li class="category-item" data-optanongroupid="C0004"><div class="ot-sdk-column"><div class="ot-sdk-four ot-sdk-columns group category-menu-switch-handler" role="tab" tabindex="-1" aria-selected="false" aria-controls="ot-desc-id-C0004"><h3 id="ot-header-id-C0004">Advertising</h3></div></div><div class="ot-sdk-eight ot-sdk-columns description-container ot-hide" role="tabpanel" tabindex="0" id="ot-desc-id-C0004"><div class="group-toggle"><h4 class="category-header">Advertising</h4><div class="ot-toggle-group"><div class="ot-toggle"><div class="checkbox"><!-- DYNAMICALLY GENERATE Input ID  --> <input id="ot-group-id-C0004" class="category-switch-handler" type="checkbox" role="switch" aria-checked="true" aria-controls="ot-desc-id-C0004" aria-labelledby="ot-header-id-C0004" name="ot-group-id-C0004" data-optanongroupid="C0004" checked=""> <label for="ot-group-id-C0004"><span class="label-text">Advertising</span></label><!-- DYNAMICALLY GENERATE Input ID  --></div></div></div></div><p class="group-description ot-category-desc">Advertising cookies are used to send you relevant advertising and promotional information. They may be set through our site by third parties to build a profile of your interests and show you relevant advertisements on other sites. These cookies do not directly store personal information, but their function is based on uniquely identifying your browser and internet device.</p><!-- sub groups --><div class="category-host-list-container"><button class="ot-link-btn category-host-list-btn category-host-list-handler" aria-label="Cookie Details button opens Cookie List menu" data-parent-id="C0004">Cookie Details</button></div></div></li><li class="category-item" data-optanongroupid="C0005"><div class="ot-sdk-column"><div class="ot-sdk-four ot-sdk-columns group category-menu-switch-handler" role="tab" tabindex="-1" aria-selected="false" aria-controls="ot-desc-id-C0005"><h3 id="ot-header-id-C0005">Social Media</h3></div></div><div class="ot-sdk-eight ot-sdk-columns description-container ot-hide" role="tabpanel" tabindex="0" id="ot-desc-id-C0005"><div class="group-toggle"><h4 class="category-header">Social Media</h4><div class="ot-toggle-group"><div class="ot-toggle"><div class="checkbox"><!-- DYNAMICALLY GENERATE Input ID  --> <input id="ot-group-id-C0005" class="category-switch-handler" type="checkbox" role="switch" aria-checked="true" aria-controls="ot-desc-id-C0005" aria-labelledby="ot-header-id-C0005" name="ot-group-id-C0005" data-optanongroupid="C0005" checked=""> <label for="ot-group-id-C0005"><span class="label-text">Social Media</span></label><!-- DYNAMICALLY GENERATE Input ID  --></div></div></div></div><p class="group-description ot-category-desc">Social media cookies are intended to facilitate the sharing of content and to improve the user experience. These cookies can sometimes track your activities. We do not control social media cookies and they do not allow us to gain access to your social media accounts. Please refer to the relevant social media platforms privacy policies for more information.</p><!-- sub groups --><div class="category-host-list-container"><button class="ot-link-btn category-host-list-btn category-host-list-handler" aria-label="Cookie Details button opens Cookie List menu" data-parent-id="C0005">Cookie Details</button></div></div></li></ul></div></div></div><!-- Vendors / Hosts --><section id="vendors-list" class="ot-hide"><div class="vendor-content"><div id="vendors-list-header"><div class="navigation-container"><button class="ot-link-btn back-btn-handler"><div id="ot-back-arrow"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="15px" height="15px" viewBox="0 0 444.531 444.531" xml:space="preserve"><title>Back Button</title><g><path fill="#2c3643" d="M213.13,222.409L351.88,83.653c7.05-7.043,10.567-15.657,10.567-25.841c0-10.183-3.518-18.793-10.567-25.835
                    l-21.409-21.416C323.432,3.521,314.817,0,304.637,0s-18.791,3.521-25.841,10.561L92.649,196.425
                    c-7.044,7.043-10.566,15.656-10.566,25.841s3.521,18.791,10.566,25.837l186.146,185.864c7.05,7.043,15.66,10.564,25.841,10.564
                    s18.795-3.521,25.834-10.564l21.409-21.412c7.05-7.039,10.567-15.604,10.567-25.697c0-10.085-3.518-18.746-10.567-25.978
                    L213.13,222.409z"></path></g></svg></div><h3 class="pc-back-button-text" id="vendors-list-title">Advertising Cookies</h3></button></div><div class="action-container"><div id="search-container"><p role="status" class="screen-reader-only"></p><input id="vendor-search-handler" aria-label="Vendor Search" type="text" placeholder="Search..." name="vendor-search-handler"> <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 -30 110 110" aria-hidden="true"><path fill="#2e3644" d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23
              s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92
              c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17
              s-17-7.626-17-17S14.61,6,23.984,6z"></path></svg></div><div id="filter-container"><button class="ot-link-btn" id="filter-btn-handler" aria-label="Filter" aria-haspopup="true"><svg role="presentation" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="15" height="15" viewBox="0 0 402.577 402.577" xml:space="preserve"><title>Filter Button</title><g><path fill="#2c3643" d="M400.858,11.427c-3.241-7.421-8.85-11.132-16.854-11.136H18.564c-7.993,0-13.61,3.715-16.846,11.136
                            c-3.234,7.801-1.903,14.467,3.999,19.985l140.757,140.753v138.755c0,4.955,1.809,9.232,5.424,12.854l73.085,73.083
                            c3.429,3.614,7.71,5.428,12.851,5.428c2.282,0,4.66-0.479,7.135-1.43c7.426-3.238,11.14-8.851,11.14-16.845V172.166L396.861,31.413
                            C402.765,25.895,404.093,19.231,400.858,11.427z"></path></g></svg></button></div></div></div><section id="vendor-list-content"><div class="ot-sdk-row"><div class="ot-sdk-column"><div id="select-all-container"><div class="ot-checkbox"><div class="leg-int-sel-all-hdr"><span class="consent-hdr">Consent</span> <span class="leg-int-hdr">Leg.Interest</span></div><!-- select all vendor leg.int toggle container --><div id="select-all-vendors-leg-input-container"><input id="select-all-vendor-leg-handler" class="ot-group-option-box" type="checkbox"> <label for="select-all-vendor-leg-handler"><span class="label-text">Select All Vendors</span></label></div><!-- select all vendor consent toggle container --><div id="select-all-vendors-input-container"><input id="select-all-vendor-groups-handler" class="ot-group-option-box" type="checkbox"> <label for="select-all-vendor-groups-handler"><span class="label-text">Select All Vendors</span></label></div><!-- Hosts select all input container --><div id="select-all-hosts-input-container"><input id="select-all-hosts-groups-handler" class="ot-group-option-box" type="checkbox"> <label for="select-all-hosts-groups-handler"><span class="label-text">Select All Hosts</span></label></div><div id="select-all-text-container"><p>Select All</p></div></div></div><ul id="hosts-list-container"><li class="host-item"><input type="checkbox" class="host-box" aria-expanded="false" role="button" ot-accordion="true" aria-label=""><section class="accordion-header"><div class="ot-toggle-group"><!-- Checkbox --><div class="ot-checkbox ot-host-tgl"><input id="REPLACE-WITH-DYANMIC-HOST-ID" class="host-checkbox-handler ot-group-option-box" type="checkbox"> <label for="REPLACE-WITH-DYANMIC-HOST-ID"><span class="label-text">REPLACE-WITH-DYANMIC-HOST-ID</span></label></div><!-- Checkbox END --><div class="host-info"><h3 class="host-title"></h3><h4 class="host-description"></h4></div></div><div class="host-notice"><div class="third-party-cookies-container"><button class="ot-link-btn third-party-cookie-notice host-view-cookies" role="presentation" aria-hidden="true" tabindex="-1">View Third Party Cookies</button></div><div class="ot-arrow-container"><svg class="ot-arrow" x="0px" y="0px" width="10px" height="10px" viewBox="0 0 451.846 451.847" xml:space="preserve"><g><path fill="#7b7b7b" d="M345.441,248.292L151.154,442.573c-12.359,12.365-32.397,12.365-44.75,0c-12.354-12.354-12.354-32.391,0-44.744
                        L278.318,225.92L106.409,54.017c-12.354-12.359-12.354-32.394,0-44.748c12.354-12.359,32.391-12.359,44.75,0l194.287,194.284
                        c6.177,6.18,9.262,14.271,9.262,22.366C354.708,234.018,351.617,242.115,345.441,248.292z"></path></g></svg></div></div></section><div class="accordion-text"><div class="host-options"><!-- HOST LIST VIEW UPDATE *** --><ul class="host-option-group"><li class="vendor-host"><div class="cookie-name-container"><div>Name</div><div>cookie name</div></div></li></ul><!-- HOST LIST VIEW UPDATE END *** --></div></div></li></ul></div></div></section></div><div id="ot-triangle"></div><section id="ot-filter-modal"><div id="ot-options"><div id="clear-filters-container"><button class="ot-link-btn" id="clear-filters-handler"><p>Clear Filters</p></button></div><div class="ot-group-options"><div class="ot-group-option"><div class="ot-checkbox"><input id="storage-access-group" class="ot-group-option-box category-filter-handler" type="checkbox"> <label for="storage-access-group"><span>Information storage and access</span></label></div></div></div><button id="filter-apply-handler" class="ot-pill">Apply</button></div></section></section></div><!-- footer --><div class="ot-button-group-parent"><div class="ot-button-group"><button class="save-preference-btn-handler onetrust-close-btn-handler">Confirm My Choices</button>  <button id="accept-recommended-btn-handler">Allow All</button></div><div class="ot-pc-footer-logo"><a class="powered-by-logo" href="https://www.onetrust.com/products/cookie-consent/" target="_blank" rel="noopener noreferrer" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/static/poweredBy_ot_logo.svg&quot;);" aria-label="Powered by OneTrust Opens in a new Tab"></a></div></div><iframe class="ot-text-resize" title="onetrust-text-resize" style="position: absolute; top: -50000px; width: 100em;" aria-hidden="true" src="./Tutorial _ Building REST services with Spring_files/saved_resource.html"></iframe></div></div><div id="mktoStyleLoaded" style="display: none; border-top-color: rgb(18, 52, 86);"></div><div id="ttdUniversalPixelTag" style="display: none;"></div><div style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon221265623373"><img style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon336894363338" width="0" height="0" alt="" src="./Tutorial _ Building REST services with Spring_files/0"></div><form novalidate="novalidate" class="mktoForm mktoHasWidth mktoLayoutLeft" style="font-family: Helvetica, Arial, sans-serif; font-size: 13px; color: rgb(51, 51, 51); visibility: hidden; position: absolute; top: -500px; left: -1000px; width: 1833px;"></form><iframe name="mktoFormsXDIframe0.34570301988104" id="MktoForms2XDIframe" src="./Tutorial _ Building REST services with Spring_files/XDFrame.html" style="display: none;"></iframe><iframe sandbox="allow-scripts allow-same-origin" title="Adobe ID Syncing iFrame" id="destination_publishing_iframe_vmwareinc_0" name="destination_publishing_iframe_vmwareinc_0_name" src="./Tutorial _ Building REST services with Spring_files/dest5.html" class="aamIframeLoaded" style="display: none; width: 0px; height: 0px;"></iframe><iframe id="universal_pixel_o3uh0rv" height="0" width="0" style="display:none;" src="./Tutorial _ Building REST services with Spring_files/up.html" title="TTD Universal Pixel"></iframe></body></html>